import{c as u,a as k,r as o,s as m,j as e,k as x}from"./main-Cr4CeQqJ.js";import{C as h}from"./card-CvoT5xff.js";import{B as v}from"./button-VDnOzUX8.js";import{B as N}from"./badge-BpFoLbJI.js";import{U as y}from"./user-CrVZZ42Z.js";import{M as w}from"./mail-CMXDTSaq.js";import{C as S}from"./calendar-BfYonUFO.js";import{S as _}from"./save-vWFX00_3.js";import{B as C}from"./bell-CYBDyKmp.js";import{M as E,S as M}from"./routes-CE97SINW.js";import"./book-open-Bm_7-XsZ.js";import"./trending-up-DrjQbBkU.js";import"./award-D3JSnlDV.js";import"./file-text-JP6gqb3e.js";import"./settings-CuiOplCN.js";import"./house-CSsEh_e7.js";import"./users-BI0WtoMm.js";import"./graduation-cap-BG1YJG4c.js";import"./chart-column-DHMA61nx.js";import"./index-G8uHVQq9.js";import"./x-B5z18hzp.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],A=u("map-pin",P);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],I=u("phone",B),te=()=>{const{user:s}=k(),[f,i]=o.useState(!0),[n,d]=o.useState(!1),[a,r]=o.useState({full_name:"",email:"",phone:"",address:"",birth_date:""}),[l,p]=o.useState(()=>localStorage.getItem("theme")==="dark");o.useEffect(()=>{s?.id?b():i(!1)},[s]);const b=async()=>{if(!s?.id){i(!1);return}try{i(!0);const{data:t,error:c}=await m.from("profiles").select("*").eq("id",s.id).single();if(c)throw c;r({full_name:t.full_name||"",email:s.email||"",phone:t.phone||"",address:t.address||"",birth_date:t.birth_date||""})}catch(t){console.error("Error loading profile:",t)}finally{i(!1)}},g=async()=>{if(s?.id)try{d(!0);const{error:t}=await m.from("profiles").update({full_name:a.full_name,phone:a.phone,address:a.address,birth_date:a.birth_date}).eq("id",s.id);if(t)throw t;alert("Perfil atualizado com sucesso!")}catch(t){console.error("Error saving profile:",t),alert("Erro ao salvar perfil. Tente novamente.")}finally{d(!1)}},j=()=>{const t=!l;p(t),t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return f?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(x,{size:"lg",text:"Carregando configurações..."})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-sky-50 to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 p-4 md:p-6",children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Configurações"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Gerencie suas informações pessoais e preferências"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(h,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(y,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações Pessoais"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nome Completo"}),e.jsx("input",{type:"text",value:a.full_name,onChange:t=>r({...a,full_name:t.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"E-mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"email",value:a.email,disabled:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"O e-mail não pode ser alterado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Telefone"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"tel",value:a.phone,onChange:t=>r({...a,phone:t.target.value}),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"(00) 00000-0000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Data de Nascimento"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"date",value:a.birth_date,onChange:t=>r({...a,birth_date:t.target.value}),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Endereço"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),e.jsx("textarea",{value:a.address,onChange:t=>r({...a,address:t.target.value}),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 min-h-[80px]",placeholder:"Rua, número, bairro, cidade, estado"})]})]}),e.jsx(v,{onClick:g,disabled:n,className:"w-full bg-gradient-to-r from-cyan-600 to-sky-600 hover:opacity-90 text-white",children:n?e.jsxs(e.Fragment,{children:[e.jsx(x,{size:"sm"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(h,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(C,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Preferências"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(E,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}):e.jsx(M,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Tema Escuro"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:l?"Ativado":"Desativado"})]})]}),e.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 ${l?"bg-cyan-600":"bg-slate-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status da Conta"}),e.jsx(N,{className:"bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-400",children:"Ativa"})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Sua conta está ativa e verificada"})]})]})]})})]})]})};export{te as default};
