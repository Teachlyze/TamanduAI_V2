import{g as N,j as b,r as s,q as H,t as K}from"./main-KTzSHcut.js";import{c as q,P as x,d as V}from"./index-sBzZX1-K.js";import{u as D,d as F}from"./button-Ch10pVNC.js";function L(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}function me(t){const e=t+"CollectionProvider",[n,r]=q(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),d=y=>{const{scope:v,children:P}=y,h=N.useRef(null),R=N.useRef(new Map).current;return b.jsx(o,{scope:v,itemMap:R,collectionRef:h,children:P})};d.displayName=e;const u=t+"CollectionSlot",f=F(u),c=N.forwardRef((y,v)=>{const{scope:P,children:h}=y,R=i(u,P),C=D(v,R.collectionRef);return b.jsx(f,{ref:C,children:h})});c.displayName=u;const a=t+"CollectionItemSlot",m="data-radix-collection-item",E=F(a),p=N.forwardRef((y,v)=>{const{scope:P,children:h,...R}=y,C=N.useRef(null),w=D(v,C),O=i(a,P);return N.useEffect(()=>(O.itemMap.set(C,{ref:C,...R}),()=>void O.itemMap.delete(C))),b.jsx(E,{[m]:"",ref:w,children:h})});p.displayName=a;function g(y){const v=i(t+"CollectionConsumer",y);return N.useCallback(()=>{const h=v.collectionRef.current;if(!h)return[];const R=Array.from(h.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((O,l)=>R.indexOf(O.ref.current)-R.indexOf(l.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:d,Slot:c,ItemSlot:p},g,r]}function _(t){const e=s.useRef(t);return s.useEffect(()=>{e.current=t}),s.useMemo(()=>(...n)=>e.current?.(...n),[])}function X(t,e=globalThis?.document){const n=_(t);s.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Y="DismissableLayer",M="dismissableLayer.update",G="dismissableLayer.pointerDownOutside",J="dismissableLayer.focusOutside",W,k=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j=s.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:d,onDismiss:u,...f}=t,c=s.useContext(k),[a,m]=s.useState(null),E=a?.ownerDocument??globalThis?.document,[,p]=s.useState({}),g=D(e,l=>m(l)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),P=y.indexOf(v),h=a?y.indexOf(a):-1,R=c.layersWithOutsidePointerEventsDisabled.size>0,C=h>=P,w=Z(l=>{const A=l.target,U=[...c.branches].some(I=>I.contains(A));!C||U||(o?.(l),d?.(l),l.defaultPrevented||u?.())},E),O=ee(l=>{const A=l.target;[...c.branches].some(I=>I.contains(A))||(i?.(l),d?.(l),l.defaultPrevented||u?.())},E);return X(l=>{h===c.layers.size-1&&(r?.(l),!l.defaultPrevented&&u&&(l.preventDefault(),u()))},E),s.useEffect(()=>{if(a)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(W=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(a)),c.layers.add(a),B(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=W)}},[a,E,n,c]),s.useEffect(()=>()=>{a&&(c.layers.delete(a),c.layersWithOutsidePointerEventsDisabled.delete(a),B())},[a,c]),s.useEffect(()=>{const l=()=>p({});return document.addEventListener(M,l),()=>document.removeEventListener(M,l)},[]),b.jsx(x.div,{...f,ref:g,style:{pointerEvents:R?C?"auto":"none":void 0,...t.style},onFocusCapture:L(t.onFocusCapture,O.onFocusCapture),onBlurCapture:L(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:L(t.onPointerDownCapture,w.onPointerDownCapture)})});j.displayName=Y;var Q="DismissableLayerBranch",$=s.forwardRef((t,e)=>{const n=s.useContext(k),r=s.useRef(null),o=D(e,r);return s.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),b.jsx(x.div,{...t,ref:o})});$.displayName=Q;function Z(t,e=globalThis?.document){const n=_(t),r=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let f=function(){z(G,n,c,{discrete:!0})};const c={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ee(t,e=globalThis?.document){const n=_(t),r=s.useRef(!1);return s.useEffect(()=>{const o=i=>{i.target&&!r.current&&z(J,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B(){const t=new CustomEvent(M);document.dispatchEvent(t)}function z(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?V(o,i):o.dispatchEvent(i)}var Ee=j,ve=$,T=globalThis?.document?s.useLayoutEffect:()=>{},te="Portal",ne=s.forwardRef((t,e)=>{const{container:n,...r}=t,[o,i]=s.useState(!1);T(()=>i(!0),[]);const d=n||o&&globalThis?.document?.body;return d?H.createPortal(b.jsx(x.div,{...r,ref:e}),d):null});ne.displayName=te;function oe(t,e){return s.useReducer((n,r)=>e[n][r]??n,t)}var se=t=>{const{present:e,children:n}=t,r=re(e),o=typeof n=="function"?n({present:r.isPresent}):s.Children.only(n),i=D(r.ref,ie(o));return typeof n=="function"||r.isPresent?s.cloneElement(o,{ref:i}):null};se.displayName="Presence";function re(t){const[e,n]=s.useState(),r=s.useRef(null),o=s.useRef(t),i=s.useRef("none"),d=t?"mounted":"unmounted",[u,f]=oe(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const c=S(r.current);i.current=u==="mounted"?c:"none"},[u]),T(()=>{const c=r.current,a=o.current;if(a!==t){const E=i.current,p=S(c);t?f("MOUNT"):p==="none"||c?.display==="none"?f("UNMOUNT"):f(a&&E!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),T(()=>{if(e){let c;const a=e.ownerDocument.defaultView??window,m=p=>{const y=S(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&y&&(f("ANIMATION_END"),!o.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=a.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},E=p=>{p.target===e&&(i.current=S(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{a.clearTimeout(c),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function S(t){return t?.animationName||"none"}function ie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ce=K[" useInsertionEffect ".trim().toString()]||T;function pe({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,i,d]=ae({defaultProp:e,onChange:n}),u=t!==void 0,f=u?t:o;{const a=s.useRef(t!==void 0);s.useEffect(()=>{const m=a.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),a.current=u},[u,r])}const c=s.useCallback(a=>{if(u){const m=ue(a)?a(t):a;m!==t&&d.current?.(m)}else i(a)},[u,t,i,d]);return[f,c]}function ae({defaultProp:t,onChange:e}){const[n,r]=s.useState(t),o=s.useRef(n),i=s.useRef(e);return ce(()=>{i.current=e},[e]),s.useEffect(()=>{o.current!==n&&(i.current?.(n),o.current=n)},[n,o]),[n,r,i]}function ue(t){return typeof t=="function"}export{ve as B,j as D,se as P,Ee as R,L as a,_ as b,me as c,ne as d,T as e,pe as u};
