import{r as s,j as e,L as r,b,s as f,l as j}from"./main-CQL62Pt9.js";import{m as o,B as c}from"./button-CXd9Ydu2.js";import{I as g}from"./input-ChgTSeH3.js";import{L as v}from"./label-C6FIu0Ui.js";import{C as w}from"./card-CeKCmDnl.js";import{A as N,a as y}from"./alert-lBp-IRve.js";import{G as k}from"./graduation-cap-BjoHLR7H.js";import{C as E}from"./circle-alert-CH6dYqHM.js";import{M as C}from"./mail-BywTGcau.js";import{A}from"./arrow-left-wPKKrOj9.js";import{C as L}from"./circle-check-D4gDjWOk.js";const M=()=>{const[t,m]=s.useState(""),[l,d]=s.useState(!1),[x,a]=s.useState(""),[h,u]=s.useState(!1),p=async i=>{if(i.preventDefault(),a(""),!t){a("Por favor, insira seu e-mail");return}if(!t.includes("@")){a("Por favor, insira um e-mail válido");return}d(!0);try{const{error:n}=await f.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});if(n){a("Erro ao enviar e-mail. Tente novamente.");return}u(!0)}catch(n){j.error("Reset password error:",n),a("Erro ao enviar e-mail. Tente novamente.")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-slate-900/[0.04] dark:bg-grid-slate-400/[0.05] bg-[size:20px_20px]"}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:[e.jsxs(r,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-xl flex items-center justify-center",children:e.jsx(k,{className:"w-7 h-7 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"TamanduAI"})]}),e.jsx(w,{className:"p-8 bg-white dark:bg-slate-900 shadow-2xl border-0",children:h?e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(L,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold mb-3 text-slate-900 dark:text-white",children:"E-mail enviado!"}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Enviamos instruções para ",e.jsx("strong",{children:t}),". Verifique sua caixa de entrada e siga as instruções para redefinir sua senha."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(r,{to:"/login",children:e.jsx(c,{className:"w-full h-12 whitespace-nowrap bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white",children:"Voltar para login"})}),e.jsx("button",{onClick:()=>{u(!1),m("")},className:"w-full text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"Não recebeu o e-mail? Enviar novamente"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-slate-900 dark:text-white",children:"Esqueceu sua senha?"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Não se preocupe! Enviaremos instruções para redefinir sua senha"})]}),x&&e.jsx(o.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs(N,{variant:"destructive",className:"mb-6",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx(y,{children:x})]})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"email",className:"text-slate-700 dark:text-slate-300",children:"E-mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(g,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:i=>{m(i.target.value),a("")},className:"pl-10 h-12 bg-white dark:bg-slate-900 text-foreground border-border",disabled:l,autoComplete:"email",required:!0})]})]}),e.jsx(c,{type:"submit",disabled:l,className:"w-full h-12 text-base whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white",children:l?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Enviando..."})]}):e.jsx("span",{children:"Enviar instruções"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(r,{to:"/login",children:e.jsxs(c,{type:"button",variant:"ghost",className:"w-full h-12 whitespace-nowrap inline-flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:"Voltar para login"})]})})})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(r,{to:"/",className:"text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"← Voltar para o início"})})]}),e.jsx("div",{className:"fixed top-0 left-0 w-96 h-96 bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl -z-10"}),e.jsx("div",{className:"fixed bottom-0 right-0 w-96 h-96 bg-cyan-400/20 dark:bg-cyan-600/10 rounded-full blur-3xl -z-10"})]})};export{M as default};
