import{c as O}from"./constructNow-C8CNs5uJ.js";import{t as h,n as I,g as y,e as T,a as S,j as X,k as D}from"./en-US-azV9x4mt.js";import{d as b}from"./differenceInCalendarMonths-Cr16ZqgI.js";import{e as w}from"./endOfMonth-BvBmjNQ6.js";function M(n,s){const r=+h(n)-+h(s);return r<0?-1:r>0?1:r}function _(n){return s=>{const a=(n?Math[n]:Math.trunc)(s);return a===0?0:a}}function p(n,s){return+h(n)-+h(s)}function N(n,s){const r=h(n,s?.in);return r.setHours(23,59,59,999),r}function Y(n,s){const r=h(n,s?.in);return+N(r,s)==+w(r,s)}function v(n,s,r){const[a,t,c]=I(r?.in,n,n,s),f=M(t,c),e=Math.abs(b(t,c));if(e<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-f*e);let u=M(t,c)===-f;Y(a)&&e===1&&M(a,c)===1&&(u=!1);const l=f*(e-+u);return l===0?0:l}function z(n,s,r){const a=p(n,s)/1e3;return _(r?.roundingMethod)(a)}function A(n,s,r){const a=y(),t=r?.locale??a.locale??T,c=2520,f=M(n,s);if(isNaN(f))throw new RangeError("Invalid time value");const e=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:f}),[u,l]=I(r?.in,...f>0?[s,n]:[n,s]),m=z(l,u),x=(S(l)-S(u))/1e3,o=Math.round((m-x)/60);let d;if(o<2)return r?.includeSeconds?m<5?t.formatDistance("lessThanXSeconds",5,e):m<10?t.formatDistance("lessThanXSeconds",10,e):m<20?t.formatDistance("lessThanXSeconds",20,e):m<40?t.formatDistance("halfAMinute",0,e):m<60?t.formatDistance("lessThanXMinutes",1,e):t.formatDistance("xMinutes",1,e):o===0?t.formatDistance("lessThanXMinutes",1,e):t.formatDistance("xMinutes",o,e);if(o<45)return t.formatDistance("xMinutes",o,e);if(o<90)return t.formatDistance("aboutXHours",1,e);if(o<X){const i=Math.round(o/60);return t.formatDistance("aboutXHours",i,e)}else{if(o<c)return t.formatDistance("xDays",1,e);if(o<D){const i=Math.round(o/X);return t.formatDistance("xDays",i,e)}else if(o<D*2)return d=Math.round(o/D),t.formatDistance("aboutXMonths",d,e)}if(d=v(l,u),d<12){const i=Math.round(o/D);return t.formatDistance("xMonths",i,e)}else{const i=d%12,g=Math.trunc(d/12);return i<3?t.formatDistance("aboutXYears",g,e):i<9?t.formatDistance("overXYears",g,e):t.formatDistance("almostXYears",g+1,e)}}function R(n,s){return A(n,O(n),s)}export{R as f};
