import{h as B,u as z,r as l,l as L,j as e,q}from"./main-CDwcRVbo.js";import{B as i}from"./button-BuH7Xbht.js";import{C as h}from"./card-BeDiIhdC.js";import{B as F}from"./badge-C6gXtPyv.js";import{D as H}from"./DashboardHeader-MvNqeZZV.js";import"./input-BByzzpRS.js";import"./dropdown-menu-DUHtGofS.js";import"./label-CwZn5L96.js";import{C as O}from"./classService-tSZnsifO.js";import{A as R}from"./arrow-left-M6tAHSp6.js";import{P as T}from"./plus-CvKRhDg_.js";import{C as W}from"./clock-DTcmbWF-.js";import"./proxy-BQZ2TmvR.js";import"./index-Dh6vDsM6.js";import"./index-CPGjc502.js";import"./index-CqoVHjef.js";import"./index-CcEjAaVA.js";import"./Combination-CkmxMhvN.js";import"./SidebarPremium-DtY86ggr.js";import"./house-BzSw2wbQ.js";import"./users-CgJEdG6v.js";import"./book-open-B_wcLpnO.js";import"./file-text-DqPfoEgV.js";import"./graduation-cap-D_9lOntz.js";import"./calendar-BqfKTByC.js";import"./chart-column-CiDVUyDs.js";import"./message-circle-B9SdJZHY.js";import"./settings-DAYbyNc3.js";import"./brain-B546Q6XX.js";import"./index-CrH3dQlI.js";import"./chevron-right-C7mHeVR8.js";import"./x-Dx_XJWp3.js";import"./index-Bnl_O2Nv.js";import"./check-CJ5iHYK_.js";const we=()=>{const{classId:o}=B(),y=z(),[D,p]=l.useState(!0),[w,k]=l.useState(null),[n,u]=l.useState(new Date),[b,S]=l.useState([]),[j,C]=l.useState(null);l.useEffect(()=>{E()},[o]);const E=async()=>{try{p(!0);const t=await O.getClassById(o);k(t);const s=[{id:"1",title:"Atividade: Cap. 1",type:"activity",date:new Date(2025,9,25),time:"23:59"},{id:"2",title:"Prova Mensal",type:"exam",date:new Date(2025,9,30),time:"14:00"},{id:"3",title:"Aula: Introdução",type:"class",date:new Date(2025,9,23),time:"09:00"}];S(s)}catch(t){L.error("Erro:",t)}finally{p(!1)}},A=t=>{const s=t.getFullYear(),a=t.getMonth(),r=new Date(s,a,1),m=new Date(s,a+1,0).getDate(),x=r.getDay();return{daysInMonth:m,startingDayOfWeek:x}},M=t=>b.filter(s=>new Date(s.date).toDateString()===t.toDateString()),c=t=>({activity:"bg-blue-500",exam:"bg-red-500",class:"bg-green-500",special:"bg-blue-700"})[t]||"bg-slate-500",{daysInMonth:I,startingDayOfWeek:P}=A(n),$=n.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),f=t=>{u(s=>{const a=new Date(s);return a.setMonth(s.getMonth()+t),a})},d=new Date;d.setHours(0,0,0,0);const v=b.filter(t=>t.date>=d).sort((t,s)=>t.date-s.date).slice(0,7);return D?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(q,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[e.jsxs(i,{variant:"ghost",onClick:()=>y(`/dashboard/classes/${o}`),className:"mb-4",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Voltar"]}),e.jsx(H,{title:`Agenda - ${w?.name||"Turma"}`,subtitle:"Calendário de eventos e atividades",role:"teacher"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(h,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white capitalize",children:$}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>f(-1),children:"←"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>u(new Date),children:"Hoje"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>f(1),children:"→"})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(t=>e.jsx("div",{className:"text-center text-sm font-semibold text-slate-600 dark:text-slate-400 py-2",children:t},t))}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:P}).map((t,s)=>e.jsx("div",{className:"aspect-square"},`empty-${s}`)),Array.from({length:I}).map((t,s)=>{const a=s+1,r=new Date(n.getFullYear(),n.getMonth(),a),N=M(r),m=r.toDateString()===d.toDateString(),x=j&&r.toDateString()===j.toDateString();return e.jsxs("button",{onClick:()=>C(r),className:`
                      aspect-square p-2 rounded-lg border transition-all
                      ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950/30":"border-slate-200 dark:border-slate-700"}
                      ${x?"ring-2 ring-blue-500":""}
                      hover:bg-slate-50 dark:hover:bg-slate-800
                    `,children:[e.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1",children:a}),e.jsx("div",{className:"flex flex-wrap gap-1",children:N.slice(0,3).map(g=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${c(g.type)}`,title:g.title},g.id))})]},a)})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Atividades"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aulas"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Provas"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-700"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Especiais"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{className:"p-6 bg-white dark:bg-slate-900",children:e.jsxs(i,{className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Adicionar Evento"]})}),e.jsxs(h,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("h3",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Próximos Eventos"]}),e.jsx("div",{className:"space-y-3",children:v.length>0?v.map(t=>e.jsx("div",{className:"p-3 rounded-lg bg-slate-50 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-2 h-full rounded-full ${c(t.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-sm text-slate-900 dark:text-white mb-1",children:t.title}),e.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[t.date.toLocaleDateString("pt-BR")," • ",t.time]}),e.jsx("div",{className:"mt-2",children:e.jsx(F,{className:`text-xs ${c(t.type)} text-white`,children:t.type==="activity"?"Atividade":t.type==="exam"?"Prova":t.type==="class"?"Aula":"Evento"})})]})]})},t.id)):e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center py-4",children:"Nenhum evento próximo"})})]})]})]})]})};export{we as default};
