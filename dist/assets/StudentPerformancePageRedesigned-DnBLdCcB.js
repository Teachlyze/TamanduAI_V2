import{d as X,r as o,t as ya,a as Ya,u as Qa,s as k,l as R,j as n,q as et,b as at}from"./main-xLo6udtn.js";import{S as pe}from"./StatCard-B1_yEa8N.js";import{C as ce}from"./card-Dx7Jgzpa.js";import{m as Ge,B as tt}from"./button-kJAiAr98.js";import{E as rt}from"./EmptyState-DOLtZDMh.js";import{G as st}from"./GradeCard-DoNiO3Rb.js";import"./dialog-BnGei6k7.js";import{S as Fe,a as qe,b as Ke,c as We,d as ae}from"./select-3dEQnqpZ.js";import{u as it}from"./use-toast-vskN8pxt.js";import{S as ke}from"./star-ChkSBp_0.js";import{C as nt}from"./circle-alert-Dsv3PrOJ.js";import{S as Ue}from"./sparkles-CN2vusy8.js";import{C as ot}from"./circle-check-big-Cxs_zNsu.js";import{T as Ve}from"./target-CTIoGzi1.js";import{L as lt}from"./lightbulb-CoS7lDdG.js";import{B as ct}from"./chevron-right-DPHp2bZu.js";import{T as dt}from"./trophy-B1jTK7N6.js";import{T as ut}from"./trending-up-C7AKYn4D.js";import{a0 as de,l as C,aH as xa,b0 as mt,aq as he,b1 as ba,aF as Ie,b2 as pt,b3 as Pa,b4 as Ce,b5 as vt,b6 as ft,b7 as gt,b8 as ht,b9 as yt,u as $,ba as ye,q as M,C as G,bb as ja,bc as Aa,g as wa,bd as xt,be as bt,L as Z,bf as Pt,bg as jt,M as ka,a as Oa,bh as Ea,T as _a,bi as At,bj as wt,bk as kt,a9 as Sa,bl as Ra,bm as fe,bn as Ot,p as Et,bo as _t,as as ze,R as St,t as Rt,w as Nt,x as Dt,n as Na,bp as It,m as He,bq as Ct,a8 as Ze,y as Tt,J as Lt,H as Bt,ak as $t,A as ve,br as Mt,G as Gt,r as Ft,O as qt,Q as Oe,V as Kt,W as Je,X as Xe,Y as Ye,U as Qe,Z as Wt}from"./LineChart-xL2S320q.js";import{B as Ut,d as Vt}from"./BarChart-DuyXZ8NI.js";import{a as zt,b as Ht,c as Zt,s as Jt,P as Xt}from"./PolarChart-OPZBFlqh.js";import{f as ea}from"./format-BcFT9btV.js";import{p as aa}from"./pt-BR-CuGSKEGQ.js";import"./SidebarPremium-DR7y_WVE.js";import"./bell-BOqEGMh0.js";import"./user-CPO161me.js";import"./index-B011I92U.js";import"./settings-DOhJboSP.js";import"./house-J__Uznqs.js";import"./users-DCtnf_zM.js";import"./graduation-cap-2hF78yH2.js";import"./index-CQo-NcO2.js";import"./chart-column-bkS3L9w7.js";import"./x-TovB2v9O.js";import"./message-square-CPMw8aMh.js";import"./index-DGEpRYgg.js";import"./index-CSUB1fH-.js";import"./index-C_3Lq57v.js";import"./index-BOXlNAp7.js";import"./chevron-down-BADIEq5f.js";import"./check-mlCLJg9E.js";import"./chevron-up-BloFXwR0.js";import"./index-BOEIzAt_.js";import"./en-US-B6HbAA6N.js";var Yt=["points","className","baseLinePoints","connectNulls"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},te.apply(null,arguments)}function Qt(e,t){if(e==null)return{};var a,r,s=er(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function er(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ta=e=>e&&e.x===+e.x&&e.y===+e.y,ar=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(r=>{ta(r)?a[a.length-1].push(r):a[a.length-1].length>0&&a.push([])}),ta(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},ue=(e,t)=>{var a=ar(e);t&&(a=[a.reduce((s,i)=>[...s,...i],[])]);var r=a.map(s=>s.reduce((i,l,c)=>"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y),"")).join("");return a.length===1?"".concat(r,"Z"):r},tr=(e,t,a)=>{var r=ue(e,a);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ue(Array.from(t).reverse(),a).slice(1))},Da=e=>{var{points:t,className:a,baseLinePoints:r,connectNulls:s}=e,i=Qt(e,Yt);if(!t||!t.length)return null;var l=X("recharts-polygon",a);if(r&&r.length){var c=i.stroke&&i.stroke!=="none",u=tr(t,r,s);return o.createElement("g",{className:l},o.createElement("path",te({},de(i),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?o.createElement("path",te({},de(i),{fill:"none",d:ue(t,s)})):null,c?o.createElement("path",te({},de(i),{fill:"none",d:ue(r,s)})):null)}var p=ue(t,s);return o.createElement("path",te({},de(i),{fill:p.slice(-1)==="Z"?i.fill:"none",className:l,d:p}))},Te=(e,t,a)=>{switch(t){case"angleAxis":return Ce(e,a);case"radiusAxis":return Pa(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Le=(e,t,a)=>{switch(t){case"angleAxis":return ft(e,a);case"radiusAxis":return vt(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},se=C([Te,xa,zt,Le],mt),Ia=C([he,Zt,gt,Ie],ht),ie=C([he,Te,xa,se,Ht,Le,ba,Ia,Ie],pt);C([he,Te,se,Le,ba,Ia,Ie],yt);var rr=(e,t)=>ie(e,"angleAxis",t,!1),sr=C([rr],e=>{if(e)return e.map(t=>t.coordinate)}),ir=(e,t)=>ie(e,"radiusAxis",t,!1),nr=C([ir],e=>{if(e)return e.map(t=>t.coordinate)}),or=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function lr(e,t){if(e==null)return{};var a,r,s=cr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},B.apply(null,arguments)}function ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ra(Object(a),!0).forEach(function(r){dr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ra(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dr(e,t,a){return(t=ur(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ur(e){var t=mr(e,"string");return typeof t=="symbol"?t:t+""}function mr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pr=(e,t,a,r)=>{var s="";return r.forEach((i,l)=>{var c=G(t,a,e,i);l?s+="L ".concat(c.x,",").concat(c.y):s+="M ".concat(c.x,",").concat(c.y)}),s+="Z",s},vr=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,polarAngles:i,radialLines:l}=e;if(!i||!i.length||!l)return null;var c=xe({stroke:"#ccc"},M(e));return o.createElement("g",{className:"recharts-polar-grid-angle"},i.map(u=>{var p=G(t,a,r,u),v=G(t,a,s,u);return o.createElement("line",B({key:"line-".concat(u)},c,{x1:p.x,y1:p.y,x2:v.x,y2:v.y}))}))},sa=e=>{var{cx:t,cy:a,radius:r}=e,s=xe({stroke:"#ccc",fill:"none"},M(e));return o.createElement("circle",B({},s,{className:X("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:a,r}))},ia=e=>{var{radius:t}=e,a=xe({stroke:"#ccc",fill:"none"},M(e));return o.createElement("path",B({},a,{className:X("recharts-polar-grid-concentric-polygon",e.className),d:pr(t,e.cx,e.cy,e.polarAngles)}))},fr=e=>{var{polarRadius:t,gridType:a}=e;if(!t||!t.length)return null;var r=Math.max(...t),s=e.fill&&e.fill!=="none";return o.createElement("g",{className:"recharts-polar-grid-concentric"},s&&a==="circle"&&o.createElement(sa,B({},e,{radius:r})),s&&a!=="circle"&&o.createElement(ia,B({},e,{radius:r})),t.map((i,l)=>{var c=l;return a==="circle"?o.createElement(sa,B({key:c},e,{fill:"none",radius:i})):o.createElement(ia,B({key:c},e,{fill:"none",radius:i}))}))},Ca=e=>{var t,a,r,s,i,l,c,u,{gridType:p="polygon",radialLines:v=!0,angleAxisId:f=0,radiusAxisId:g=0,cx:h,cy:_,innerRadius:O,outerRadius:W}=e,U=lr(e,or),P=$(ye),L=xe({cx:(t=(a=P?.cx)!==null&&a!==void 0?a:h)!==null&&t!==void 0?t:0,cy:(r=(s=P?.cy)!==null&&s!==void 0?s:_)!==null&&r!==void 0?r:0,innerRadius:(i=(l=P?.innerRadius)!==null&&l!==void 0?l:O)!==null&&i!==void 0?i:0,outerRadius:(c=(u=P?.outerRadius)!==null&&u!==void 0?u:W)!==null&&c!==void 0?c:0},U),{polarAngles:Q,polarRadius:Y,outerRadius:V}=L,z=$(oe=>sr(oe,f)),ee=$(oe=>nr(oe,g)),F=Array.isArray(Q)?Q:z,ne=Array.isArray(Y)?Y:ee;return V<=0||F==null||ne==null?null:o.createElement("g",{className:"recharts-polar-grid"},o.createElement(fr,B({gridType:p,radialLines:v},L,{polarAngles:F,polarRadius:ne})),o.createElement(vr,B({gridType:p,radialLines:v},L,{polarAngles:F,polarRadius:ne})))};Ca.displayName="PolarGrid";var Ee={},_e={},na;function gr(){return na||(na=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let s=a[0],i=r(s);for(let l=1;l<a.length;l++){const c=a[l],u=r(c);u>i&&(i=u,s=c)}return s}e.maxBy=t})(_e)),_e}var oa;function hr(){return oa||(oa=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gr(),a=Aa(),r=ja();function s(i,l){if(i!=null)return t.maxBy(Array.from(i),r.iteratee(l??a.identity))}e.maxBy=s})(Ee)),Ee}var Se,la;function yr(){return la||(la=1,Se=hr().maxBy),Se}var xr=yr();const br=ya(xr);var Re={},Ne={},ca;function Pr(){return ca||(ca=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){if(a.length===0)return;let s=a[0],i=r(s);for(let l=1;l<a.length;l++){const c=a[l],u=r(c);u<i&&(i=u,s=c)}return s}e.minBy=t})(Ne)),Ne}var da;function jr(){return da||(da=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pr(),a=Aa(),r=ja();function s(i,l){if(i!=null)return t.minBy(Array.from(i),r.iteratee(l??a.identity))}e.minBy=s})(Re)),Re}var De,ua;function Ar(){return ua||(ua=1,De=jr().minBy),De}var wr=Ar();const kr=ya(wr);var Or=["cx","cy","angle","axisLine"],Er=["angle","tickFormatter","stroke","tick"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},me.apply(null,arguments)}function ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ma(Object(a),!0).forEach(function(r){be(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ma(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function be(e,t,a){return(t=_r(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _r(e){var t=Sr(e,"string");return typeof t=="symbol"?t:t+""}function Sr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ta(e,t){if(e==null)return{};var a,r,s=Rr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Rr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var La="radiusAxis";function Nr(e){var t=wa();return o.useEffect(()=>(t(xt(e)),()=>{t(bt(e))})),null}var Dr=(e,t,a,r)=>{var{coordinate:s}=e;return G(a,r,s,t)},Ir=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},Cr=(e,t,a,r)=>{var s=br(r,l=>l.coordinate||0),i=kr(r,l=>l.coordinate||0);return{cx:t,cy:a,startAngle:e,endAngle:e,innerRadius:i.coordinate||0,outerRadius:s.coordinate||0,clockWise:!1}},Tr=(e,t)=>{var{cx:a,cy:r,angle:s,axisLine:i}=e,l=Ta(e,Or),c=t.reduce((f,g)=>[Math.min(f[0],g.coordinate),Math.max(f[1],g.coordinate)],[1/0,-1/0]),u=G(a,r,c[0],s),p=G(a,r,c[1],s),v=K(K(K({},M(l)),{},{fill:"none"},M(i)),{},{x1:u.x,y1:u.y,x2:p.x,y2:p.y});return o.createElement("line",me({className:"recharts-polar-radius-axis-line"},v))},Lr=(e,t,a)=>{var r;return o.isValidElement(e)?r=o.cloneElement(e,t):typeof e=="function"?r=e(t):r=o.createElement(_a,me({},t,{className:"recharts-polar-radius-axis-tick-value"}),a),r},Br=(e,t)=>{var{angle:a,tickFormatter:r,stroke:s,tick:i}=e,l=Ta(e,Er),c=Ir(e.orientation),u=M(l),p=ka(i),v=t.map((f,g)=>{var h=Dr(f,e.angle,e.cx,e.cy),_=K(K(K(K({textAnchor:c,transform:"rotate(".concat(90-a,", ").concat(h.x,", ").concat(h.y,")")},u),{},{stroke:"none",fill:s},p),{},{index:g},h),{},{payload:f});return o.createElement(Z,me({className:X("recharts-polar-radius-axis-tick",Ea(i)),key:"tick-".concat(f.coordinate)},Oa(e,f,g)),Lr(i,_,r?r(f.value,g):f.value))});return o.createElement(Z,{className:"recharts-polar-radius-axis-ticks"},v)},$r=e=>{var{radiusAxisId:t}=e,a=$(ye),r=$(u=>se(u,"radiusAxis",t)),s=$(u=>ie(u,"radiusAxis",t,!1));if(a==null||!s||!s.length)return null;var i=K(K(K({},e),{},{scale:r},a),{},{radius:a.outerRadius}),{tick:l,axisLine:c}=i;return o.createElement(Z,{className:X("recharts-polar-radius-axis",La,i.className)},c&&Tr(i,s),l&&Br(i,s),o.createElement(Pt,Cr(i.angle,i.cx,i.cy,s),o.createElement(jt,{label:i.label}),i.children))};class Pe extends o.PureComponent{render(){return o.createElement(o.Fragment,null,o.createElement(Nr,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),o.createElement($r,this.props))}}be(Pe,"displayName","PolarRadiusAxis");be(Pe,"axisType",La);be(Pe,"defaultProps",At);var Mr=["children"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},J.apply(null,arguments)}function pa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pa(Object(a),!0).forEach(function(r){je(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pa(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function je(e,t,a){return(t=Gr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Gr(e){var t=Fr(e,"string");return typeof t=="symbol"?t:t+""}function Fr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){if(e==null)return{};var a,r,s=Kr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Kr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var va=1e-5,Wr=Math.cos(fe(45)),Ba="angleAxis";function Ur(e){var t=wa(),a=o.useMemo(()=>{var{children:i}=e,l=qr(e,Mr);return l},[e]),r=$(i=>Ce(i,a.id)),s=a===r;return o.useEffect(()=>(t(wt(a)),()=>{t(kt(a))}),[t,a]),s?e.children:null}var Vr=(e,t)=>{var{cx:a,cy:r,radius:s,orientation:i,tickSize:l}=t,c=l||8,u=G(a,r,s,e.coordinate),p=G(a,r,s+(i==="inner"?-1:1)*c,e.coordinate);return{x1:u.x,y1:u.y,x2:p.x,y2:p.y}},zr=(e,t)=>{var a=Math.cos(fe(-e.coordinate));return a>va?t==="outer"?"start":"end":a<-va?t==="outer"?"end":"start":"middle"},Hr=e=>{var t=Math.cos(fe(-e.coordinate)),a=Math.sin(fe(-e.coordinate));return Math.abs(t)<=Wr?a>0?"start":"end":"middle"},Zr=e=>{var{cx:t,cy:a,radius:r,axisLineType:s,axisLine:i,ticks:l}=e;if(!i)return null;var c=q(q({},M(e)),{},{fill:"none"},M(i));if(s==="circle")return o.createElement(Ra,J({className:"recharts-polar-angle-axis-line"},c,{cx:t,cy:a,r}));var u=l.map(p=>G(t,a,r,p.coordinate));return o.createElement(Da,J({className:"recharts-polar-angle-axis-line"},c,{points:u}))},Jr=e=>{var{tick:t,tickProps:a,value:r}=e;return t?o.isValidElement(t)?o.cloneElement(t,a):typeof t=="function"?t(a):o.createElement(_a,J({},a,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Xr=e=>{var{tick:t,tickLine:a,tickFormatter:r,stroke:s,ticks:i}=e,l=M(e),c=ka(t),u=q(q({},l),{},{fill:"none"},M(a)),p=i.map((v,f)=>{var g=Vr(v,e),h=zr(v,e.orientation),_=Hr(v),O=q(q(q({},l),{},{textAnchor:h,verticalAnchor:_,stroke:"none",fill:s},c),{},{index:f,payload:v,x:g.x2,y:g.y2});return o.createElement(Z,J({className:X("recharts-polar-angle-axis-tick",Ea(t)),key:"tick-".concat(v.coordinate)},Oa(e,v,f)),a&&o.createElement("line",J({className:"recharts-polar-angle-axis-tick-line"},u,g)),o.createElement(Jr,{tick:t,tickProps:O,value:r?r(v.value,f):v.value}))});return o.createElement(Z,{className:"recharts-polar-angle-axis-ticks"},p)},Yr=e=>{var{angleAxisId:t}=e,a=$(ye),r=$(c=>se(c,"angleAxis",t)),s=Sa(),i=$(c=>ie(c,"angleAxis",t,s));if(a==null||!i||!i.length)return null;var l=q(q(q({},e),{},{scale:r},a),{},{radius:a.outerRadius});return o.createElement(Z,{className:X("recharts-polar-angle-axis",Ba,l.className)},o.createElement(Zr,J({},l,{ticks:i})),o.createElement(Xr,J({},l,{ticks:i})))};class Ae extends o.PureComponent{render(){return this.props.radius<=0?null:o.createElement(Ur,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},o.createElement(Yr,this.props))}}je(Ae,"displayName","PolarAngleAxis");je(Ae,"axisType",Ba);je(Ae,"defaultProps",Ot);function fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fa(Object(a),!0).forEach(function(r){Qr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fa(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Qr(e,t,a){return(t=es(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function es(e){var t=as(e,"string");return typeof t=="symbol"?t:t+""}function as(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a=(e,t)=>se(e,"radiusAxis",t),ts=C([$a],e=>{if(e!=null)return{scale:e}}),rs=C([Pa,$a],(e,t)=>{if(!(e==null||t==null))return ge(ge({},e),{},{scale:t})}),ss=(e,t,a,r)=>ie(e,"radiusAxis",t,r),Ma=(e,t,a)=>Ce(e,a),Ga=(e,t,a)=>se(e,"angleAxis",a),is=C([Ma,Ga],(e,t)=>{if(!(e==null||t==null))return ge(ge({},e),{},{scale:t})}),ns=(e,t,a,r)=>ie(e,"angleAxis",a,r),os=C([Ma,Ga,ye],(e,t,a)=>{if(!(a==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:a.cx,cy:a.cy}}),ls=(e,t,a,r,s)=>s,cs=C([he,rs,ss,is,ns],(e,t,a,r,s)=>_t(e,"radiusAxis")?ze(t,a,!1):ze(r,s,!1)),ds=C([Jt,ls],(e,t)=>{if(e!=null){var a=e.find(r=>r.type==="radar"&&t===r.id);return a?.dataKey}}),us=C([ts,os,Et,ds,cs],(e,t,a,r,s)=>{var{chartData:i,dataStartIndex:l,dataEndIndex:c}=a;if(!(e==null||t==null||i==null||s==null||r==null)){var u=i.slice(l,c+1);return bs({radiusAxis:e,angleAxis:t,displayedData:u,dataKey:r,bandSize:s})}}),ms=["id"];function ps(e,t){if(e==null)return{};var a,r,s=vs(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function vs(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ga(Object(a),!0).forEach(function(r){Be(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Be(e,t,a){return(t=fs(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fs(e){var t=gs(e,"string");return typeof t=="symbol"?t:t+""}function gs(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},re.apply(null,arguments)}function $e(e,t){return e&&e!=="none"?e:t}var hs=e=>{var{dataKey:t,name:a,stroke:r,fill:s,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:$e(r,s),value:Na(a,t),payload:e}]};function ys(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:i,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,nameKey:void 0,dataKey:t,name:Na(i,t),hide:l,type:c,color:$e(a,s),unit:""}}}function xs(e,t){var a;return o.isValidElement(e)?a=o.cloneElement(e,t):typeof e=="function"?a=e(t):a=o.createElement(Ra,re({},t,{className:X("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),a}function bs(e){var{radiusAxis:t,angleAxis:a,displayedData:r,dataKey:s,bandSize:i}=e,{cx:l,cy:c}=a,u=!1,p=[],v=a.type!=="number"?i??0:0;r.forEach((g,h)=>{var _=He(g,a.dataKey,h),O=He(g,s),W=a.scale(_)+v,U=Array.isArray(O)?Ct(O):O,P=Ze(U)?void 0:t.scale(U);Array.isArray(O)&&O.length>=2&&(u=!0),p.push(E(E({},G(l,c,P,W)),{},{name:_,value:O,cx:l,cy:c,radius:P,angle:W,payload:g}))});var f=[];return u&&p.forEach(g=>{if(Array.isArray(g.value)){var h=g.value[0],_=Ze(h)?void 0:t.scale(h);f.push(E(E({},g),{},{radius:_},G(l,c,_,g.angle)))}else f.push(g)}),{points:p,isRange:u,baseLinePoints:f}}function Ps(e){var{points:t,props:a}=e,{dot:r,dataKey:s}=a;if(!r)return null;var{id:i}=a,l=ps(a,ms),c=M(l),u=Mt(r),p=t.map((v,f)=>{var g=E(E(E({key:"dot-".concat(f),r:3},c),u),{},{dataKey:s,cx:v.x,cy:v.y,index:f,payload:v});return xs(r,g)});return o.createElement(Z,{className:"recharts-radar-dots"},p)}function js(e){var{showLabels:t,points:a,children:r}=e,s=a.map(i=>{var l={x:i.x,y:i.y,width:0,height:0};return E(E({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return o.createElement($t,{value:t?s:null},r)}function As(e){var{points:t,baseLinePoints:a,props:r}=e;if(t==null)return null;var{shape:s,isRange:i,connectNulls:l}=r,c=v=>{var{onMouseEnter:f}=r;f&&f(r,v)},u=v=>{var{onMouseLeave:f}=r;f&&f(r,v)},p;return o.isValidElement(s)?p=o.cloneElement(s,E(E({},r),{},{points:t})):typeof s=="function"?p=s(E(E({},r),{},{points:t})):p=o.createElement(Da,re({},de(r),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:i?a:void 0,connectNulls:l})),o.createElement(Z,{className:"recharts-radar-polygon"},p,o.createElement(Ps,{props:r,points:t}))}var ha=(e,t,a)=>(r,s)=>{var i=e&&e[Math.floor(s*t)];return i?E(E({},r),{},{x:ve(i.x,r.x,a),y:ve(i.y,r.y,a)}):E(E({},r),{},{x:ve(r.cx,r.x,a),y:ve(r.cy,r.y,a)})};function ws(e){var{props:t,previousPointsRef:a,previousBaseLinePointsRef:r}=e,{points:s,baseLinePoints:i,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:p,onAnimationEnd:v,onAnimationStart:f}=t,g=a.current,h=r.current,_=g&&g.length/s.length,O=h&&h.length/i.length,W=Tt(t,"recharts-radar-"),[U,P]=o.useState(!1),L=!U,Q=o.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),Y=o.useCallback(()=>{typeof f=="function"&&f(),P(!0)},[f]);return o.createElement(js,{showLabels:L,points:s},o.createElement(Lt,{animationId:W,begin:c,duration:u,isActive:l,easing:p,key:"radar-".concat(W),onAnimationEnd:Q,onAnimationStart:Y},V=>{var z=V===1?s:s.map(ha(g,_,V)),ee=V===1?i:i?.map(ha(h,O,V));return V>0&&(a.current=z,r.current=ee),o.createElement(As,{points:z,baseLinePoints:ee,props:t})}),o.createElement(Bt,{label:t.label}),t.children)}function ks(e){var t=o.useRef(void 0),a=o.useRef(void 0);return o.createElement(ws,{props:e,previousPointsRef:t,previousBaseLinePointsRef:a})}var Os={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Gt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Es extends o.PureComponent{render(){var{hide:t,className:a,points:r}=this.props;if(t||r==null)return null;var s=X("recharts-radar",a);return o.createElement(o.Fragment,null,o.createElement(Z,{className:s},o.createElement(ks,this.props)),o.createElement(It,{points:r,mainColor:$e(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function _s(e){var t=Sa(),a=$(r=>us(r,e.radiusAxisId,e.angleAxisId,t,e.id));return o.createElement(Es,re({},e,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}class Me extends o.PureComponent{render(){return o.createElement(St,{id:this.props.id,type:"radar"},t=>o.createElement(o.Fragment,null,o.createElement(Rt,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),o.createElement(Nt,{legendPayload:hs(this.props)}),o.createElement(Dt,{fn:ys,args:this.props}),o.createElement(_s,re({},this.props,{id:t}))))}}Be(Me,"displayName","Radar");Be(Me,"defaultProps",Os);var Ss=["axis"],Rs={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ns=o.forwardRef((e,t)=>{var a=Ft(e,Rs);return o.createElement(Xt,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ss,tooltipPayloadSearcher:qt,categoricalChartProps:a,ref:t})});const Ai=()=>{const{user:e}=Ya(),t=Qa(),{toast:a}=it(),[r,s]=o.useState(!0),[i,l]=o.useState(!1),[c,u]=o.useState(null),[p,v]=o.useState(0),[f,g]=o.useState(!0),[h,_]=o.useState({avgGrade:0,totalActivities:0,completedActivities:0,ranking:null}),[O,W]=o.useState([]),[U,P]=o.useState([]),[L,Q]=o.useState([]),[Y,V]=o.useState([]),[z,ee]=o.useState("all"),[F,ne]=o.useState("all"),[oe,Fa]=o.useState([]);o.useEffect(()=>{e?.id&&(qa(),we())},[e,z,F]);const we=async()=>{try{g(!0);const d=new Date;d.setHours(0,0,0,0);const{data:y,error:A}=await k.from("ai_recommendations_usage").select("id").eq("student_id",e.id).gte("created_at",d.toISOString());A?(R.error("[AI Usage] Erro ao buscar contador:",A),v(0)):(v(y?.length||0),R.debug("[AI Usage] Usos hoje:",y?.length||0))}catch(d){R.error("[AI Usage] Erro ao buscar contador:",d),v(0)}finally{g(!1)}},qa=async()=>{try{s(!0),await Promise.all([Wa(),Ua(),Va(),za(),Ha(),Ka()])}catch(d){R.error("Erro ao carregar dados de desempenho:",d)}finally{s(!1)}},Ka=async()=>{try{const{data:d}=await k.from("class_members").select("class_id").eq("user_id",e.id).eq("role","student"),y=d?.map(b=>b.class_id)||[],{data:A}=await k.from("classes").select("id, name, subject").in("id",y);Fa(A||[])}catch(d){R.error("Erro ao carregar turmas:",d)}},Wa=async()=>{try{const{data:d}=await k.from("class_members").select("class_id").eq("user_id",e.id).eq("role","student");let y=d?.map(m=>m.class_id)||[];if(z!=="all"&&(y=y.filter(m=>m===z)),y.length===0){_({avgGrade:0,totalActivities:0,completedActivities:0,ranking:null});return}const{data:A}=await k.from("activity_class_assignments").select("activity_id").in("class_id",y),b=A?.map(m=>m.activity_id)||[],T=b.length;let w=k.from("submissions").select("activity_id, status, grade, submitted_at").eq("student_id",e.id).in("activity_id",b);if(F!=="all"){const m=new Date;let H=new Date;F==="week"?H.setDate(m.getDate()-7):F==="month"?H.setMonth(m.getMonth()-1):F==="semester"&&H.setMonth(m.getMonth()-6),w=w.gte("submitted_at",H.toISOString())}const{data:N}=await w,x=N?.length||0,S=N?.filter(m=>m.grade!==null)||[],D=S.length>0?S.reduce((m,H)=>m+parseFloat(H.grade),0)/S.length:0;_({avgGrade:D,totalActivities:T,completedActivities:x,ranking:null})}catch(d){R.error("Erro ao carregar stats:",d)}},Ua=async()=>{try{const{data:d}=await k.from("submissions").select("id, grade, feedback, submitted_at, status, activity_id").eq("student_id",e.id).not("grade","is",null).order("submitted_at",{ascending:!1}).limit(10),y=d?.map(m=>m.activity_id)||[],{data:A}=await k.from("activities").select("id, title, max_score").in("id",y),b={};A?.forEach(m=>{b[m.id]=m});const{data:T}=await k.from("activity_class_assignments").select("activity_id, class_id").in("activity_id",y),w=T?.map(m=>m.class_id).filter(Boolean)||[],{data:N}=await k.from("classes").select("id, name").in("id",w),x={};N?.forEach(m=>{x[m.id]=m});const S={};T?.forEach(m=>{S[m.activity_id]=x[m.class_id]?.name});const D=(d||[]).map(m=>({...m,activity_title:b[m.activity_id]?.title,max_score:b[m.activity_id]?.max_score,class_name:S[m.activity_id]}));W(D)}catch(d){R.error("Erro ao carregar notas recentes:",d)}},Va=async()=>{try{const{data:d}=await k.from("submissions").select("grade, submitted_at, activity:activities(max_score)").eq("student_id",e.id).not("grade","is",null).order("submitted_at",{ascending:!0}).limit(20),y=(d||[]).map(A=>({date:ea(new Date(A.submitted_at),"dd/MM",{locale:aa}),nota:parseFloat(A.grade)||0,maxScore:A.activity?.max_score||10}));P(y)}catch(d){R.error("Erro ao carregar evoluÃ§Ã£o:",d)}},za=async()=>{try{const{data:d}=await k.from("class_members").select("class_id").eq("user_id",e.id).eq("role","student"),y=d?.map(w=>w.class_id)||[],{data:A}=await k.from("classes").select("id, name, subject").in("id",y),b={};A?.forEach(w=>{b[w.id]=w});const T=await Promise.all((d||[]).map(async w=>{const{data:N}=await k.from("activity_class_assignments").select("activity_id").eq("class_id",w.class_id),x=N?.map(I=>I.activity_id)||[],{data:S}=await k.from("submissions").select("id, grade, submitted_at, activity_id").eq("student_id",e.id).in("activity_id",x).not("grade","is",null).order("submitted_at",{ascending:!0}),D=S?.map(I=>I.activity_id)||[],{data:m}=await k.from("activities").select("id, title, max_score").in("id",D),H={};m?.forEach(I=>{H[I.id]=I});const j=S?.map(I=>parseFloat(I.grade))||[],le=j.length>0?j.reduce((I,Xa)=>I+Xa,0)/j.length:0,Ja=(S||[]).map(I=>({date:ea(new Date(I.submitted_at),"dd/MM",{locale:aa}),grade:parseFloat(I.grade)}));return{name:b[w.class_id]?.name||"Turma",media:le,history:Ja}}));Q(T.sort((w,N)=>N.media-w.media))}catch(d){R.error("Erro ao carregar desempenho por turma:",d)}},Ha=async()=>{try{const d=[{skill:"Objetivas",value:0,count:0},{skill:"Abertas",value:0,count:0},{skill:"Mistas",value:0,count:0}],{data:y}=await k.from("submissions").select(`
          grade,
          activity:activities(type, max_score)
        `).eq("student_id",e.id).not("grade","is",null);y?.forEach(b=>{const T=parseFloat(b.grade)/parseFloat(b.activity?.max_score)*100;b.activity?.type==="objective"?(d[0].value+=T,d[0].count++):b.activity?.type==="open"?(d[1].value+=T,d[1].count++):b.activity?.type==="mixed"&&(d[2].value+=T,d[2].count++)});const A=d.map(b=>({skill:b.skill,value:b.count>0?Math.round(b.value/b.count):0}));V(A)}catch(d){R.error("Erro ao carregar radar de habilidades:",d)}},Za=async()=>{const d=`ai_recommendations_${e.id}`;try{l(!0);const y=localStorage.getItem(d);if(y){const{recommendations:x,timestamp:S}=JSON.parse(y),D=Date.now()-S,m=1800*1e3;if(D<m){R.debug("[AI] Usando recomendaÃ§Ãµes do cache (rate limit)"),u(x),l(!1),a({title:"âœ… RecomendaÃ§Ãµes carregadas",description:"Usando anÃ¡lise recente do cache"});return}}const A={avgGrade:h.avgGrade,totalActivities:h.totalActivities,completedActivities:h.completedActivities,recentGrades:O.slice(0,5).map(x=>({activityTitle:x.activity_title,grade:x.submission?.grade,maxScore:x.max_score,submittedAt:x.submission?.submitted_at})),classPerformance:L.map(x=>({className:x.className,averageGrade:x.averageGrade,totalActivities:x.totalActivities})),radarData:Y};a({title:"ðŸ¤– Gerando recomendaÃ§Ãµes...",description:"Aguarde enquanto a IA analisa seu desempenho"});const{data:b}=await k.auth.getSession(),T=b?.session?.access_token,w=await fetch("https://wapbwaimkurbuihatmix.supabase.co/functions/v1/ai-study-recommendations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({studentId:e.id,performanceData:A})});let N;if(w.ok){const x=await w.json();if(x.limitReached){R.warn("[AI] Limite diÃ¡rio atingido:",x),l(!1),await we(),a({title:"â° Limite DiÃ¡rio Atingido",description:x.message||"VocÃª jÃ¡ gerou 3 recomendaÃ§Ãµes hoje. Tente novamente amanhÃ£!",variant:"destructive",duration:5e3});return}await we(),R.debug("[AI] RecomendaÃ§Ãµes recebidas da Edge Function"),N=x.recommendations||x}else{R.debug("[AI] Usando fallback local (erro na API)");const x=L.filter(j=>j.averageGrade<7).sort((j,le)=>j.averageGrade-le.averageGrade),S=L.filter(j=>j.averageGrade>=8).sort((j,le)=>le.averageGrade-j.averageGrade),D=[];x.length>0?x.slice(0,2).forEach(j=>{D.push(`Revisar conceitos de ${j.className} onde as notas foram menores (mÃ©dia: ${j.averageGrade.toFixed(1)})`)}):D.push("Manter o ritmo de estudos atual"),O.some(j=>!j.submission||j.submission.status==="draft")&&D.push("Completar atividades pendentes antes do prazo"),D.push("Participar mais das discussÃµes em sala");const m=[];h.avgGrade>=8?m.push("Ã“timo desempenho geral nas atividades"):h.avgGrade>=7?m.push("Bom desempenho nas atividades"):m.push("Mostrando esforÃ§o e dedicaÃ§Ã£o"),S.length>0&&S.slice(0,2).forEach(j=>{m.push(`Excelente em ${j.className} (mÃ©dia: ${j.averageGrade.toFixed(1)})`)}),(h.totalActivities>0?h.completedActivities/h.totalActivities*100:0)>=80&&m.push("ConsistÃªncia nas entregas dentro do prazo"),N={strengths:m,improvements:D,tips:["ðŸ“š Reserve 30min diÃ¡rios para revisÃ£o","âœï¸ Pratique mais questÃµes abertas","ðŸŽ¯ EstabeleÃ§a metas semanais de estudo","ðŸ‘¥ Forme grupos de estudo com colegas","â“ Tire dÃºvidas com professores"].slice(0,3)}}u(N),localStorage.setItem(d,JSON.stringify({recommendations:N,timestamp:Date.now()})),a({title:"âœ… RecomendaÃ§Ãµes geradas!",description:"Confira as sugestÃµes personalizadas abaixo"})}catch(y){R.error("Erro ao gerar recomendaÃ§Ãµes:",y),a({title:"âŒ Erro ao gerar recomendaÃ§Ãµes",description:"Tente novamente mais tarde",variant:"destructive"})}finally{l(!1)}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(et,{size:"lg"})}):n.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 p-6",children:[n.jsx(Ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:n.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2 flex items-center gap-3",children:[n.jsx(ke,{className:"w-8 h-8 text-yellow-600"}),"Meu Desempenho"]}),n.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acompanhe suas notas e evoluÃ§Ã£o acadÃªmica"})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[n.jsx(tt,{onClick:Za,disabled:i||h.totalActivities===0||p>=3,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:i?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}),"Gerando..."]}):p>=3?n.jsxs(n.Fragment,{children:[n.jsx(nt,{className:"w-4 h-4 mr-2"}),"Limite DiÃ¡rio Atingido"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Gerar RecomendaÃ§Ãµes com IA"]})}),!f&&n.jsxs("span",{className:`text-sm ${p>=3?"text-red-600 dark:text-red-400 font-semibold":p>=2?"text-orange-600 dark:text-orange-400 font-medium":"text-slate-500 dark:text-slate-400"}`,children:[p,"/3 utilizadas hoje"]})]})]})}),c&&n.jsx(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:n.jsxs(ce,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 border-2 border-purple-200 dark:border-purple-800",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[n.jsx(Ue,{className:"w-6 h-6 text-purple-600"}),"RecomendaÃ§Ãµes Personalizadas da IA"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-green-700 dark:text-green-400 mb-3 flex items-center gap-2",children:[n.jsx(ot,{className:"w-5 h-5"}),"Seus Pontos Fortes"]}),n.jsx("ul",{className:"space-y-2",children:c.strengths?.map((d,y)=>n.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 bg-white/70 dark:bg-slate-900/50 p-3 rounded-lg border border-green-200 dark:border-green-800",children:["â€¢ ",d]},y))||n.jsx("li",{className:"text-sm text-slate-500",children:"Carregando..."})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-orange-700 dark:text-orange-400 mb-3 flex items-center gap-2",children:[n.jsx(Ve,{className:"w-5 h-5"}),"Ãreas para Melhorar"]}),n.jsx("ul",{className:"space-y-2",children:c.improvements?.map((d,y)=>n.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 bg-white/70 dark:bg-slate-900/50 p-3 rounded-lg border border-orange-200 dark:border-orange-800",children:["â€¢ ",d]},y))||n.jsx("li",{className:"text-sm text-slate-500",children:"Carregando..."})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-blue-700 dark:text-blue-400 mb-3 flex items-center gap-2",children:[n.jsx(lt,{className:"w-5 h-5"}),"Dicas de Estudo"]}),n.jsx("ul",{className:"space-y-2",children:c.tips?.map((d,y)=>n.jsx("li",{className:"text-sm text-slate-700 dark:text-slate-300 bg-white/70 dark:bg-slate-900/50 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:d},y))||n.jsx("li",{className:"text-sm text-slate-500",children:"Carregando..."})})]})]})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[n.jsxs(Fe,{value:z,onValueChange:ee,children:[n.jsx(qe,{className:"w-full md:w-64",children:n.jsx(Ke,{placeholder:"Todas as turmas"})}),n.jsxs(We,{children:[n.jsx(ae,{value:"all",children:"Todas as turmas"}),oe.map(d=>n.jsx(ae,{value:d.id,children:d.name},d.id))]})]}),n.jsxs(Fe,{value:F,onValueChange:ne,children:[n.jsx(qe,{className:"w-full md:w-64",children:n.jsx(Ke,{placeholder:"Todo o perÃ­odo"})}),n.jsxs(We,{children:[n.jsx(ae,{value:"all",children:"Todo o perÃ­odo"}),n.jsx(ae,{value:"week",children:"Ãšltima semana"}),n.jsx(ae,{value:"month",children:"Ãšltimo mÃªs"}),n.jsx(ae,{value:"semester",children:"Ãšltimo semestre"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(pe,{icon:ke,value:h.avgGrade>0?h.avgGrade.toFixed(1):"--",label:"MÃ©dia Geral",gradient:"yellow"}),n.jsx(pe,{icon:Ve,value:h.completedActivities,label:"Atividades ConcluÃ­das",gradient:"green"}),n.jsx(pe,{icon:ct,value:h.totalActivities,label:"Total de Atividades",gradient:"blue"}),n.jsx(pe,{icon:dt,value:h.ranking||"--",label:"PosiÃ§Ã£o no Ranking",gradient:"purple"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs(ce,{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"ðŸ“ Ãšltimas Notas"}),O.length>0?n.jsx("div",{className:"space-y-4",children:O.map((d,y)=>n.jsx(st,{grade:d,onViewDetails:()=>t(`/students/activities/${d.activity_id}`),index:y},d.id))}):n.jsx(rt,{icon:ke,title:"Nenhuma nota ainda",description:"Complete suas atividades para ver suas notas aqui.",variant:"default"})]}),U.length>0&&n.jsxs(ce,{className:"p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(ut,{className:"w-6 h-6 text-green-600"}),"EvoluÃ§Ã£o das Notas"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Oe,{width:"100%",height:300,className:"min-w-[400px]",children:n.jsxs(Kt,{data:U,margin:{top:5,right:20,left:0,bottom:5},children:[n.jsx(Je,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),n.jsx(Xe,{dataKey:"date",stroke:"#64748b",tick:{fontSize:12}}),n.jsx(Ye,{stroke:"#64748b",domain:[0,10],tick:{fontSize:12}}),n.jsx(Qe,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),n.jsx(Wt,{type:"monotone",dataKey:"nota",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:6},name:"Nota"})]})})})]})]}),n.jsxs("div",{className:"space-y-8",children:[L.length>0&&n.jsxs(ce,{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"ðŸ“Š Por Turma"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Oe,{width:"100%",height:250,className:"min-w-[300px]",children:n.jsxs(Ut,{data:L,layout:"vertical",margin:{left:20,right:20},children:[n.jsx(Je,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),n.jsx(Xe,{type:"number",stroke:"#64748b",domain:[0,10]}),n.jsx(Ye,{type:"category",dataKey:"className",stroke:"#64748b",width:120,tick:{fontSize:12}}),n.jsx(Qe,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),n.jsx(Vt,{dataKey:"averageGrade",fill:"#3b82f6",radius:[0,8,8,0],name:"MÃ©dia"})]})})})]}),Y.length>0&&n.jsxs(ce,{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"ðŸŽ¯ Por Tipo"}),n.jsx(Oe,{width:"100%",height:250,children:n.jsxs(Ns,{data:Y,children:[n.jsx(Ca,{stroke:"#e2e8f0"}),n.jsx(Ae,{dataKey:"skill",stroke:"#64748b"}),n.jsx(Pe,{stroke:"#64748b"}),n.jsx(Me,{name:"Desempenho",dataKey:"value",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6})]})})]})]})]})]})};export{Ai as default};
