import{a as p,r,s as x,j as e,k as g}from"./main-Cr4CeQqJ.js";import{C as l}from"./card-CvoT5xff.js";import{B as u}from"./badge-BpFoLbJI.js";import{P as f}from"./progress-B22G_fnC.js";import{S as o}from"./StatsCard-CEAHNeHe.js";import{D as h}from"./dropdown-menu-W1Sf6eM2.js";import"./button-VDnOzUX8.js";import"./input-DJYxsXYr.js";import"./label-Cj0ah_CE.js";import{T as b}from"./trophy-CXP8DNan.js";import{S as j}from"./star-CIRstmTc.js";import{A as v}from"./award-D3JSnlDV.js";import"./index-Zvo5G3yJ.js";import"./chevron-right-D9YOEkTh.js";import"./check-BNbB6Qjw.js";const L=()=>{const{user:a}=p(),[n,m]=r.useState(!0),[t,c]=r.useState(null);r.useEffect(()=>{d()},[a]);const d=async()=>{if(a)try{const{data:s}=await x.from("gamification_profiles").select("*").eq("user_id",a.id).single();c(s||{level:1,xp_total:0,xp_current:0,xp_to_next_level:100})}catch(s){console.error("Erro:",s)}finally{m(!1)}};return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(g,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[e.jsx(h,{title:"Gamificação",subtitle:"Seu progresso e conquistas",role:"student"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(o,{title:"Nível Atual",value:t?.level||1,icon:b,gradient:"from-amber-500 to-yellow-500",delay:0}),e.jsx(o,{title:"XP Total",value:t?.xp_total||0,icon:j,gradient:"from-purple-500 to-pink-500",delay:.1}),e.jsx(o,{title:"Badges",value:t?.badges_count||0,icon:v,gradient:"from-blue-500 to-cyan-500",delay:.2})]}),e.jsxs(l,{className:"p-6 bg-white dark:bg-slate-900 mb-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Progresso para o Próximo Nível"}),e.jsx(f,{value:t?.xp_current/t?.xp_to_next_level*100,className:"h-4"}),e.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:[t?.xp_current," / ",t?.xp_to_next_level," XP"]})]}),e.jsxs(l,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Conquistas"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["🏆","⭐","🎯","🔥","💎","🚀","🎓","📚"].map((s,i)=>e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:s}),e.jsxs(u,{children:["Conquista ",i+1]})]},i))})]})]})};export{L as default};
