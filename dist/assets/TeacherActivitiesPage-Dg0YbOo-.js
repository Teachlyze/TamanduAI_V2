import{c as kd,j as M,l as Xe,r as Re,s as Tt,w as cp,x as Ve,B as pt,t as lp,u as Rd,b as Lc,a as up,q as dp}from"./main-BSMlxxlZ.js";import{B as Ye,m as Qi}from"./button-CKV5JkoH.js";import{C as Do}from"./card-DMraIbJz.js";import{I as Si}from"./input-D5v1eFNU.js";import{L as wt}from"./label-BUfKwcD5.js";import{S as Bs,a as Ns,b as Is,c as Ms,d as Rt}from"./select-Y5bYU8BP.js";import{D as _o,a as wo,b as Ao,c as To,d as Eo,e as Co}from"./dialog-DORbdWMS.js";import{T as hp,a as fp,b as On}from"./tabs-COryJLg7.js";import{D as pp,g as Ji}from"./DashboardHeader-D4CeRMFl.js";import{S as er}from"./StatsCard-DSP1a0eb.js";import{E as gp}from"./EmptyState-BKiITlbk.js";import{D as Bd,a as Nd,b as Id,c as vt,d as Ls}from"./dropdown-menu-CuQbPzbo.js";import{u as ji}from"./use-toast-DU85wOBR.js";import{c as $n}from"./utils-CX-KJBqH.js";import{h as Ui}from"./SidebarPremium-Bf98hnme.js";import{C as Md}from"./checkbox-CEg-kBOV.js";import{S as So}from"./star-DKU9KxO3.js";import{F as Ld}from"./file-text-BP6UKDNn.js";import{U as Uo}from"./users-BNOTPuIE.js";import{C as wr}from"./circle-check-big-CZzygBvA.js";import{S as Xr}from"./square-pen-CRw4Q6qJ.js";import{E as Pd}from"./ellipsis-vertical-DrB8TuYe.js";import{C as Od}from"./copy-r8hbJ6Yo.js";import{E as $r}from"./eye-CDqlTRJI.js";import{S as Fo}from"./share-2-Dn6u-T5M.js";import{D as Wd}from"./download-BxwFDvRG.js";import{A as ii}from"./archive-BEicriiN.js";import{T as mp}from"./trash-2-DyY8LVvA.js";import{f as bp}from"./format-BcFT9btV.js";import{p as yp}from"./pt-BR-CuGSKEGQ.js";import{T as jd}from"./trending-up-6aD5U3kC.js";import{T as to}from"./textarea-DUFKXAdq.js";import{S as Ps,A as vp}from"./ActivityPreview-C-SVXFT_.js";import{C as qd}from"./circle-alert-EA2lUZox.js";import{C as zd}from"./index-CpTBUXYw.js";import{c as tr}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{U as no}from"./upload--QHt5GWd.js";import{X as io}from"./x-rSiybgWV.js";import{P as Os}from"./plus-v2nik42B.js";import{C as Pc}from"./clipboard-list-Cixm1l63.js";import{G as xp}from"./grid-3x3-CH3BtkC1.js";import{S as Dp}from"./search-CrNNaOb7.js";import{L as _p}from"./list-Bg2w8Cy7.js";import{C as wp}from"./chevron-up-C0F5446Y.js";import{C as Ap}from"./chevron-down-Bk5F_mLz.js";import"./index-BwDK55Mp.js";import"./index-CB9Ufca0.js";import"./index-DrqYlGSU.js";import"./index-CtuxL-Fj.js";import"./check-iGKxEgx2.js";import"./index-Cwkg_cGm.js";import"./chevron-right-D_FKfY1S.js";import"./bell-C38I9ebQ.js";import"./user-C2we2FXy.js";import"./settings-Ce4vc5Vl.js";import"./house-BiazGQzC.js";import"./graduation-cap-CzbYlLlS.js";import"./chart-column-CNsjJ5jU.js";import"./en-US-B6HbAA6N.js";import"./clock-2llRiqNt.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ep=kd("layout-grid",Tp);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Sp=kd("sliders-horizontal",Cp),Up=({activity:o,selected:e,onSelect:t,onEdit:n,onDuplicate:i,onToggleFavorite:r,onArchive:s,onUnarchive:a,onDelete:c,onPreview:l,getTypeBadge:u})=>{const{toast:d}=ji(),h=b=>{const p={open:"bg-green-500 text-white",assignment:"bg-green-500 text-white",closed:"bg-blue-500 text-white",quiz:"bg-blue-500 text-white",mixed:"bg-purple-500 text-white",project:"bg-purple-500 text-white"};return p[o.type]||p.open},f=b=>{const p={published:{label:"Publicada",color:"bg-emerald-500 text-white"},draft:{label:"Rascunho",color:"bg-gray-400 text-white"},archived:{label:"Arquivada",color:"bg-slate-400 text-white"}},g=p[b]||p.draft;return M.jsx(Ui,{className:$n("text-xs font-medium",g.color),children:g.label})};return M.jsx(Do,{className:$n("p-5 hover:shadow-lg transition-all duration-200 bg-white dark:bg-slate-800 border-l-4",e?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950/30 border-l-blue-500":"border-l-transparent hover:border-l-blue-400"),children:M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx(Md,{checked:e,onCheckedChange:()=>t(o.id),className:"flex-shrink-0"}),M.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[M.jsxs("div",{className:"flex items-start gap-2",children:[M.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 line-clamp-1 flex-1",children:o.title}),M.jsx("button",{onClick:()=>{Xe.debug("[ActivityListItem] ‚≠ê Bot√£o Favorito clicado"),Xe.debug("[ActivityListItem] Activity ID:",o.id),r(o.id)},className:"flex-shrink-0 text-gray-400 hover:text-yellow-500 transition-colors",children:M.jsx(So,{className:$n("w-4 h-4",o.is_favorite&&"fill-yellow-500 text-yellow-500")})})]}),o.description&&M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:o.description}),M.jsxs("div",{className:"flex items-center gap-5 text-sm",children:[M.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[M.jsx("div",{className:"p-1.5 rounded-md bg-blue-100 dark:bg-blue-900/30",children:M.jsx(Ld,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),M.jsxs("span",{className:"font-medium",children:[o.content?.questions?.length||0," quest√µes"]})]}),M.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[M.jsx("div",{className:"p-1.5 rounded-md bg-purple-100 dark:bg-purple-900/30",children:M.jsx(Uo,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),M.jsxs("span",{className:"font-medium",children:[o.timesUsed||0," turma(s)"]})]}),M.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[M.jsx("div",{className:"p-1.5 rounded-md bg-green-100 dark:bg-green-900/30",children:M.jsx(wr,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),M.jsxs("span",{className:"font-medium",children:[o.submittedCount||0," envios"]})]}),o.created_at&&M.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto",children:bp(new Date(o.created_at),"dd/MM/yyyy",{locale:yp})})]})]}),M.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 px-4 border-l border-r border-gray-200 dark:border-gray-700",children:[M.jsx(Ui,{className:$n("text-xs font-bold px-4 py-1.5 shadow-sm",h(o.type)),children:u(o.type)}),f(o.status)]}),M.jsxs("div",{className:"flex flex-col items-center justify-center px-6",children:[M.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border border-amber-200 dark:border-amber-700",children:M.jsx("span",{className:"text-3xl font-black text-amber-600 dark:text-amber-400",children:o.max_score||100})}),M.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mt-1",children:"pontos"})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs(Ye,{size:"sm",onClick:()=>{Xe.debug("[ActivityListItem] ‚úèÔ∏è Bot√£o Editar Principal clicado"),Xe.debug("[ActivityListItem] Activity:",o),n(o)},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 shadow-md hover:shadow-lg",children:[M.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Editar"]}),M.jsxs(Bd,{children:[M.jsx(Nd,{asChild:!0,children:M.jsx(Ye,{variant:"ghost",size:"icon",className:"flex-shrink-0",children:M.jsx(Pd,{className:"w-5 h-5"})})}),M.jsxs(Id,{align:"end",className:"w-48",children:[M.jsxs(vt,{onClick:()=>{Xe.debug('[ActivityListItem] ‚úèÔ∏è Dropdown "Editar" clicado'),Xe.debug("[ActivityListItem] Activity:",o),n(o)},children:[M.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Editar"]}),M.jsxs(vt,{onClick:()=>{Xe.debug('[ActivityListItem] üìã Dropdown "Duplicar" clicado'),Xe.debug("[ActivityListItem] Activity:",o),i(o)},children:[M.jsx(Od,{className:"w-4 h-4 mr-2"}),"Duplicar"]}),M.jsxs(vt,{onClick:b=>{b.stopPropagation(),d({title:"Em breve",description:"Fun√ß√£o de pr√©via ser√° implementada em breve."})},children:[M.jsx($r,{className:"w-4 h-4 mr-2"}),"Ver Pr√©via"]}),M.jsx(Ls,{}),M.jsxs(vt,{onClick:async b=>{b.stopPropagation();try{const p=`${window.location.origin}/dashboard/activities/${o.id}`;await navigator.clipboard.writeText(p),d({title:" Link copiado!",description:"O link da atividade foi copiado para a √°rea de transfer√™ncia."})}catch(p){Xe.error("Erro ao copiar:",p),d({title:" Erro",description:"N√£o foi poss√≠vel copiar o link.",variant:"destructive"})}},children:[M.jsx(Fo,{className:"w-4 h-4 mr-2"}),"Compartilhar"]}),l&&M.jsxs(vt,{onClick:()=>l(o),children:[M.jsx($r,{className:"w-4 h-4 mr-2"}),"Ver Pr√©via"]}),M.jsx(Ls,{}),M.jsxs(vt,{onClick:async b=>{b.stopPropagation();try{const p=JSON.stringify(o,null,2),g=new Blob([p],{type:"application/json"}),m=URL.createObjectURL(g),y=document.createElement("a");y.href=m,y.download=`atividade_${o.title?.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(m),d({title:"‚úÖ Atividade exportada!",description:"Download iniciado."})}catch(p){Xe.error("Erro ao exportar:",p),d({title:"‚ùå Erro",description:"N√£o foi poss√≠vel exportar a atividade.",variant:"destructive"})}},children:[M.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Exportar"]}),M.jsx(Ls,{}),o.status==="archived"?M.jsxs(vt,{onClick:b=>{b.stopPropagation(),a(o.id)},children:[M.jsx(ii,{className:"w-4 h-4 mr-2"}),"Desarquivar"]}):M.jsxs(vt,{onClick:b=>{b.stopPropagation(),s(o.id)},children:[M.jsx(ii,{className:"w-4 h-4 mr-2"}),"Arquivar"]}),M.jsxs(vt,{onClick:b=>{b.stopPropagation(),c(o)},className:"text-red-600 focus:text-red-600 dark:text-red-400",children:[M.jsx(mp,{className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})]})})},Fp=({activity:o,onEdit:e,onToggleFavorite:t,onDuplicate:n,onArchive:i,onUnarchive:r,getTypeBadge:s,navigate:a})=>{const{toast:c}=ji(),l=u=>{const d={open:"bg-green-100 text-green-700",assignment:"bg-green-100 text-green-700",closed:"bg-blue-100 text-blue-700",quiz:"bg-blue-100 text-blue-700",mixed:"bg-purple-100 text-purple-700",project:"bg-purple-100 text-purple-700"};return d[o.type]||d.open};return M.jsxs(Do,{className:"group h-full hover:shadow-xl transition-all duration-300 overflow-hidden border-t-4 border-t-blue-500",children:[M.jsx("div",{className:"relative p-5 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30",children:M.jsxs("div",{className:"flex items-start justify-between",children:[M.jsx(Ui,{className:l(o.type),children:s(o.type)}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:u=>{u.stopPropagation(),t(o.id)},className:"text-gray-400 hover:text-yellow-500 transition-colors",children:M.jsx(So,{className:$n("w-5 h-5",o.is_favorite&&"fill-yellow-500 text-yellow-500")})}),M.jsxs(Bd,{children:[M.jsx(Nd,{asChild:!0,onClick:u=>u.stopPropagation(),children:M.jsx(Ye,{variant:"ghost",size:"icon",className:"h-8 w-8",children:M.jsx(Pd,{className:"w-4 h-4"})})}),M.jsxs(Id,{align:"end",children:[M.jsxs(vt,{onClick:u=>{u.stopPropagation(),e(o)},children:[M.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Editar"]}),M.jsxs(vt,{onClick:u=>{u.stopPropagation(),n&&n(o)},children:[M.jsx(Od,{className:"w-4 h-4 mr-2"}),"Duplicar"]}),M.jsxs(vt,{onClick:u=>{u.stopPropagation(),c({title:"Em breve",description:"Pr√©via em desenvolvimento."})},children:[M.jsx($r,{className:"w-4 h-4 mr-2"}),"Pr√©via"]}),M.jsxs(vt,{onClick:u=>{u.stopPropagation();const d=`${window.location.origin}/dashboard/activities/${o.id}`;navigator.clipboard.writeText(d),c({title:"Link copiado!",description:"O link da atividade foi copiado para a √°rea de transfer√™ncia."})},children:[M.jsx(Fo,{className:"w-4 h-4 mr-2"}),"Compartilhar"]}),o.status==="archived"?M.jsxs(vt,{onClick:u=>{u.stopPropagation(),r&&r(o.id)},children:[M.jsx(ii,{className:"w-4 h-4 mr-2"}),"Desarquivar"]}):M.jsxs(vt,{onClick:u=>{u.stopPropagation(),i&&i(o.id)},children:[M.jsx(ii,{className:"w-4 h-4 mr-2"}),"Arquivar"]})]})]})]})]})}),M.jsxs("div",{className:"p-5",children:[M.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 line-clamp-2 mb-3 min-h-[56px]",children:o.title}),M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3 mb-4 min-h-[60px]",children:o.description||"Sem descri√ß√£o"}),M.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.content?.tags?.slice(0,2).map((u,d)=>M.jsxs(Ui,{variant:"secondary",className:"text-xs",children:["#",u]},d)),o.content?.tags?.length>2&&M.jsxs(Ui,{variant:"secondary",className:"text-xs",children:["+",o.content.tags.length-2]})]}),M.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[M.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[M.jsxs("div",{className:"flex items-center gap-1",title:"Quest√µes",children:[M.jsx($r,{className:"w-4 h-4"}),M.jsx("span",{children:o.content?.questions?.length||0})]}),M.jsxs("div",{className:"flex items-center gap-1",title:"Pontos",children:[M.jsx(jd,{className:"w-4 h-4"}),M.jsx("span",{children:o.max_score})]}),M.jsxs("div",{className:"flex items-center gap-1",title:"Usos",children:[M.jsx(Uo,{className:"w-4 h-4"}),M.jsxs("span",{children:[o.timesUsed,"x"]})]})]}),M.jsxs(Ye,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-md hover:shadow-lg transition-all",onClick:()=>a(`/dashboard/activities/${o.id}/edit`),children:[M.jsx(Xr,{className:"w-4 h-4 mr-1"}),"Editar"]})]})]})]})},kp=({activities:o,classes:e,onClose:t,onSuccess:n})=>{const{toast:i}=ji(),[r,s]=Re.useState([]),[a,c]=Re.useState(""),[l,u]=Re.useState(o[0]?.max_score||10),[d,h]=Re.useState(1),[f,b]=Re.useState(""),[p,g]=Re.useState(!1),[m,y]=Re.useState(!1),[v,_]=Re.useState(!0),[x,D]=Re.useState(!1),A=E=>{s(R=>R.includes(E)?R.filter(q=>q!==E):[...R,E])},S=async()=>{if(r.length===0){i({title:"Erro",description:"Selecione pelo menos uma turma.",variant:"destructive"});return}if(!a){i({title:"Erro",description:"Defina uma data de entrega.",variant:"destructive"});return}try{D(!0);for(const E of o)for(const R of r){const{data:q}=await Tt.from("activity_class_assignments").select("id").eq("activity_id",E.id);let C=E.id;if(q&&q.length>0){const{data:T,error:W}=await Tt.from("activities").insert({title:E.title,description:E.description,content:E.content,type:E.type,max_score:l,due_date:a,weight:d,instructions:f||E.instructions,plagiarism_enabled:m,status:"published",created_by:E.created_by,teacher_id:E.teacher_id}).select().single();if(W)throw W;C=T.id}else{const{error:T}=await Tt.from("activities").update({due_date:a,max_score:l,weight:d,instructions:f||E.instructions,plagiarism_enabled:m,status:"published"}).eq("id",E.id);if(T)throw T}const{error:N}=await Tt.from("activity_class_assignments").insert({activity_id:C,class_id:R});if(N)throw N;if(v){const{data:T}=await Tt.from("class_members").select("user_id").eq("class_id",R).eq("role","student");if(T){const W=T.map(k=>({user_id:k.user_id,title:"Nova Atividade Postada",message:`A atividade "${E.title}" foi postada e est√° dispon√≠vel.`,type:"activity_posted",data:{activity_id:E.id,class_id:R,due_date:a}}));await Tt.from("notifications").insert(W)}}}i({title:"Sucesso!",description:`Atividade${o.length>1?"s":""} postada${o.length>1?"s":""} em ${r.length} turma${r.length>1?"s":""}.`}),n()}catch(E){Xe.error("Erro ao postar atividade:",E),i({title:"Erro",description:"N√£o foi poss√≠vel postar a atividade.",variant:"destructive"})}finally{D(!1)}};return M.jsx(_o,{open:!0,onOpenChange:t,children:M.jsxs(wo,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[M.jsxs(Ao,{children:[M.jsxs(To,{children:["Postar Atividade",o.length>1?"s":"",": ",o[0]?.title,o.length>1&&` (+${o.length-1})`]}),M.jsx(Eo,{children:"Configure as op√ß√µes de postagem e selecione as turmas"})]}),M.jsxs("div",{className:"space-y-6 py-4",children:[M.jsxs("div",{children:[M.jsxs(wt,{className:"text-base font-semibold mb-3 flex items-center gap-2",children:[M.jsx(Uo,{className:"w-5 h-5"}),"Selecionar Turmas"]}),M.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:e.length===0?M.jsxs("div",{className:"text-center py-4 text-gray-500",children:[M.jsx(qd,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),M.jsx("p",{children:"Voc√™ n√£o tem turmas ativas."}),M.jsx("p",{className:"text-sm",children:"Crie uma turma primeiro."})]}):e.map(E=>M.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded",children:[M.jsx(Md,{id:E.id,checked:r.includes(E.id),onCheckedChange:()=>A(E.id)}),M.jsx(wt,{htmlFor:E.id,className:"flex-1 cursor-pointer",children:E.name})]},E.id))})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsxs(wt,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[M.jsx(zd,{className:"w-4 h-4"}),"Prazo de Entrega *"]}),M.jsx(Si,{id:"dueDate",type:"datetime-local",value:a,onChange:E=>c(E.target.value),className:"mt-1",required:!0})]}),M.jsxs("div",{children:[M.jsx(wt,{htmlFor:"maxScore",children:"Pontua√ß√£o Total *"}),M.jsx(Si,{id:"maxScore",type:"number",min:"0",step:"0.1",value:l,onChange:E=>u(parseFloat(E.target.value)),className:"mt-1"})]}),M.jsxs("div",{children:[M.jsx(wt,{htmlFor:"weight",children:"Peso na M√©dia"}),M.jsx(Si,{id:"weight",type:"number",min:"0",step:"0.1",value:d,onChange:E=>h(parseFloat(E.target.value)),className:"mt-1"})]})]}),M.jsxs("div",{children:[M.jsx(wt,{htmlFor:"instructions",children:"Instru√ß√µes Adicionais (Opcional)"}),M.jsx(to,{id:"instructions",placeholder:"Adicione instru√ß√µes espec√≠ficas para esta postagem...",value:f,onChange:E=>b(E.target.value),className:"mt-1 min-h-[100px]"})]}),M.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[M.jsx("h4",{className:"font-semibold text-sm",children:"Configura√ß√µes Avan√ßadas"}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx(wt,{htmlFor:"allowLate",className:"cursor-pointer",children:"Permitir Envio Atrasado"}),M.jsx("p",{className:"text-xs text-gray-500",children:"Alunos poder√£o submeter ap√≥s o prazo"})]}),M.jsx(Ps,{id:"allowLate",checked:p,onCheckedChange:g})]}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx(wt,{htmlFor:"plagiarism",className:"cursor-pointer",children:"Ativar Antipl√°gio"}),M.jsx("p",{className:"text-xs text-gray-500",children:"Verificar originalidade das respostas"})]}),M.jsx(Ps,{id:"plagiarism",checked:m,onCheckedChange:y})]}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx(wt,{htmlFor:"notify",className:"cursor-pointer",children:"Notificar Alunos"}),M.jsx("p",{className:"text-xs text-gray-500",children:"Enviar notifica√ß√£o sobre nova atividade"})]}),M.jsx(Ps,{id:"notify",checked:v,onCheckedChange:_})]})]})]}),M.jsxs(Co,{children:[M.jsx(Ye,{variant:"outline",onClick:t,disabled:x,children:"Cancelar"}),M.jsx(Ye,{onClick:S,disabled:x||r.length===0,children:x?"Postando...":"Postar Agora"})]})]})})};var Bt={},ko="1.13.7",Oc=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||Function("return this")()||{},ns=Array.prototype,Ro=Object.prototype,Wc=typeof Symbol<"u"?Symbol.prototype:null,Rp=ns.push,qi=ns.slice,ki=Ro.toString,Bp=Ro.hasOwnProperty,Hd=typeof ArrayBuffer<"u",Np=typeof DataView<"u",Ip=Array.isArray,jc=Object.keys,qc=Object.create,zc=Hd&&ArrayBuffer.isView,Mp=isNaN,Lp=isFinite,Vd=!{toString:null}.propertyIsEnumerable("toString"),Hc=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Pp=Math.pow(2,53)-1;function xt(o,e){return e=e==null?o.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+e];switch(e){case 0:return o.call(this,n);case 1:return o.call(this,arguments[0],n);case 2:return o.call(this,arguments[0],arguments[1],n)}var r=Array(e+1);for(i=0;i<e;i++)r[i]=arguments[i];return r[e]=n,o.apply(this,r)}}function gn(o){var e=typeof o;return e==="function"||e==="object"&&!!o}function Xd(o){return o===null}function Bo(o){return o===void 0}function No(o){return o===!0||o===!1||ki.call(o)==="[object Boolean]"}function $d(o){return!!(o&&o.nodeType===1)}function gt(o){var e="[object "+o+"]";return function(t){return ki.call(t)===e}}const is=gt("String"),Io=gt("Number"),Gd=gt("Date"),Yd=gt("RegExp"),Kd=gt("Error"),Mo=gt("Symbol"),Lo=gt("ArrayBuffer");var dt=gt("Function"),Op=Oc.document&&Oc.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Op!="function"&&(dt=function(o){return typeof o=="function"||!1});const Zd=gt("Object");var Qd=Np&&(!/\[native code\]/.test(String(DataView))||Zd(new DataView(new ArrayBuffer(8)))),Po=typeof Map<"u"&&Zd(new Map),Wp=gt("DataView");function jp(o){return o!=null&&dt(o.getInt8)&&Lo(o.buffer)}const Ri=Qd?jp:Wp,mn=Ip||gt("Array");function bn(o,e){return o!=null&&Bp.call(o,e)}var ri=gt("Arguments");(function(){ri(arguments)||(ri=function(o){return bn(o,"callee")})})();function Jd(o){return!Mo(o)&&Lp(o)&&!isNaN(parseFloat(o))}function Oo(o){return Io(o)&&Mp(o)}function Wo(o){return function(){return o}}function eh(o){return function(e){var t=o(e);return typeof t=="number"&&t>=0&&t<=Pp}}function th(o){return function(e){return e?.[o]}}const Gr=th("byteLength"),qp=eh(Gr);var zp=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Hp(o){return zc?zc(o)&&!Ri(o):qp(o)&&zp.test(ki.call(o))}const jo=Hd?Hp:Wo(!1),Et=th("length");function Vp(o){for(var e={},t=o.length,n=0;n<t;++n)e[o[n]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,o.push(i)}}}function nh(o,e){e=Vp(e);var t=Hc.length,n=o.constructor,i=dt(n)&&n.prototype||Ro,r="constructor";for(bn(o,r)&&!e.contains(r)&&e.push(r);t--;)r=Hc[t],r in o&&o[r]!==i[r]&&!e.contains(r)&&e.push(r)}function nt(o){if(!gn(o))return[];if(jc)return jc(o);var e=[];for(var t in o)bn(o,t)&&e.push(t);return Vd&&nh(o,e),e}function ih(o){if(o==null)return!0;var e=Et(o);return typeof e=="number"&&(mn(o)||is(o)||ri(o))?e===0:Et(nt(o))===0}function qo(o,e){var t=nt(e),n=t.length;if(o==null)return!n;for(var i=Object(o),r=0;r<n;r++){var s=t[r];if(e[s]!==i[s]||!(s in i))return!1}return!0}function We(o){if(o instanceof We)return o;if(!(this instanceof We))return new We(o);this._wrapped=o}We.VERSION=ko;We.prototype.value=function(){return this._wrapped};We.prototype.valueOf=We.prototype.toJSON=We.prototype.value;We.prototype.toString=function(){return String(this._wrapped)};function Vc(o){return new Uint8Array(o.buffer||o,o.byteOffset||0,Gr(o))}var Xc="[object DataView]";function ro(o,e,t,n){if(o===e)return o!==0||1/o===1/e;if(o==null||e==null)return!1;if(o!==o)return e!==e;var i=typeof o;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:rh(o,e,t,n)}function rh(o,e,t,n){o instanceof We&&(o=o._wrapped),e instanceof We&&(e=e._wrapped);var i=ki.call(o);if(i!==ki.call(e))return!1;if(Qd&&i=="[object Object]"&&Ri(o)){if(!Ri(e))return!1;i=Xc}switch(i){case"[object RegExp]":case"[object String]":return""+o==""+e;case"[object Number]":return+o!=+o?+e!=+e:+o==0?1/+o===1/e:+o==+e;case"[object Date]":case"[object Boolean]":return+o==+e;case"[object Symbol]":return Wc.valueOf.call(o)===Wc.valueOf.call(e);case"[object ArrayBuffer]":case Xc:return rh(Vc(o),Vc(e),t,n)}var r=i==="[object Array]";if(!r&&jo(o)){var s=Gr(o);if(s!==Gr(e))return!1;if(o.buffer===e.buffer&&o.byteOffset===e.byteOffset)return!0;r=!0}if(!r){if(typeof o!="object"||typeof e!="object")return!1;var a=o.constructor,c=e.constructor;if(a!==c&&!(dt(a)&&a instanceof a&&dt(c)&&c instanceof c)&&"constructor"in o&&"constructor"in e)return!1}t=t||[],n=n||[];for(var l=t.length;l--;)if(t[l]===o)return n[l]===e;if(t.push(o),n.push(e),r){if(l=o.length,l!==e.length)return!1;for(;l--;)if(!ro(o[l],e[l],t,n))return!1}else{var u=nt(o),d;if(l=u.length,nt(e).length!==l)return!1;for(;l--;)if(d=u[l],!(bn(e,d)&&ro(o[d],e[d],t,n)))return!1}return t.pop(),n.pop(),!0}function sh(o,e){return ro(o,e)}function ci(o){if(!gn(o))return[];var e=[];for(var t in o)e.push(t);return Vd&&nh(o,e),e}function zo(o){var e=Et(o);return function(t){if(t==null)return!1;var n=ci(t);if(Et(n))return!1;for(var i=0;i<e;i++)if(!dt(t[o[i]]))return!1;return o!==ch||!dt(t[Ho])}}var Ho="forEach",ah="has",Vo=["clear","delete"],oh=["get",ah,"set"],Xp=Vo.concat(Ho,oh),ch=Vo.concat(oh),$p=["add"].concat(Vo,Ho,ah);const lh=Po?zo(Xp):gt("Map"),uh=Po?zo(ch):gt("WeakMap"),dh=Po?zo($p):gt("Set"),hh=gt("WeakSet");function Rn(o){for(var e=nt(o),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=o[e[i]];return n}function fh(o){for(var e=nt(o),t=e.length,n=Array(t),i=0;i<t;i++)n[i]=[e[i],o[e[i]]];return n}function Xo(o){for(var e={},t=nt(o),n=0,i=t.length;n<i;n++)e[o[t[n]]]=t[n];return e}function Bi(o){var e=[];for(var t in o)dt(o[t])&&e.push(t);return e.sort()}function $o(o,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||t==null)return t;for(var i=1;i<n;i++)for(var r=arguments[i],s=o(r),a=s.length,c=0;c<a;c++){var l=s[c];(!e||t[l]===void 0)&&(t[l]=r[l])}return t}}const Go=$o(ci),si=$o(nt),Yo=$o(ci,!0);function Gp(){return function(){}}function ph(o){if(!gn(o))return{};if(qc)return qc(o);var e=Gp();e.prototype=o;var t=new e;return e.prototype=null,t}function gh(o,e){var t=ph(o);return e&&si(t,e),t}function mh(o){return gn(o)?mn(o)?o.slice():Go({},o):o}function bh(o,e){return e(o),o}function Ko(o){return mn(o)?o:[o]}We.toPath=Ko;function zi(o){return We.toPath(o)}function Zo(o,e){for(var t=e.length,n=0;n<t;n++){if(o==null)return;o=o[e[n]]}return t?o:void 0}function Qo(o,e,t){var n=Zo(o,zi(e));return Bo(n)?t:n}function yh(o,e){e=zi(e);for(var t=e.length,n=0;n<t;n++){var i=e[n];if(!bn(o,i))return!1;o=o[i]}return!!t}function rs(o){return o}function Un(o){return o=si({},o),function(e){return qo(e,o)}}function ss(o){return o=zi(o),function(e){return Zo(e,o)}}function Hi(o,e,t){if(e===void 0)return o;switch(t??3){case 1:return function(n){return o.call(e,n)};case 3:return function(n,i,r){return o.call(e,n,i,r)};case 4:return function(n,i,r,s){return o.call(e,n,i,r,s)}}return function(){return o.apply(e,arguments)}}function vh(o,e,t){return o==null?rs:dt(o)?Hi(o,e,t):gn(o)&&!mn(o)?Un(o):ss(o)}function as(o,e){return vh(o,e,1/0)}We.iteratee=as;function Ct(o,e,t){return We.iteratee!==as?We.iteratee(o,e):vh(o,e,t)}function xh(o,e,t){e=Ct(e,t);for(var n=nt(o),i=n.length,r={},s=0;s<i;s++){var a=n[s];r[a]=e(o[a],a,o)}return r}function Jo(){}function Dh(o){return o==null?Jo:function(e){return Qo(o,e)}}function _h(o,e,t){var n=Array(Math.max(0,o));e=Hi(e,t,1);for(var i=0;i<o;i++)n[i]=e(i);return n}function Yr(o,e){return e==null&&(e=o,o=0),o+Math.floor(Math.random()*(e-o+1))}const ai=Date.now||function(){return new Date().getTime()};function wh(o){var e=function(r){return o[r]},t="(?:"+nt(o).join("|")+")",n=RegExp(t),i=RegExp(t,"g");return function(r){return r=r==null?"":""+r,n.test(r)?r.replace(i,e):r}}const Ah={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Th=wh(Ah),Yp=Xo(Ah),Eh=wh(Yp),Ch=We.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ws=/(.)^/,Kp={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Zp=/\\|'|\r|\n|\u2028|\u2029/g;function Qp(o){return"\\"+Kp[o]}var Jp=/^\s*(\w|\$)+\s*$/;function Sh(o,e,t){!e&&t&&(e=t),e=Yo({},e,We.templateSettings);var n=RegExp([(e.escape||Ws).source,(e.interpolate||Ws).source,(e.evaluate||Ws).source].join("|")+"|$","g"),i=0,r="__p+='";o.replace(n,function(l,u,d,h,f){return r+=o.slice(i,f).replace(Zp,Qp),i=f+l.length,u?r+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:d?r+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:h&&(r+=`';
`+h+`
__p+='`),l}),r+=`';
`;var s=e.variable;if(s){if(!Jp.test(s))throw new Error("variable is not a bare identifier: "+s)}else r=`with(obj||{}){
`+r+`}
`,s="obj";r=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+r+`return __p;
`;var a;try{a=new Function(s,"_",r)}catch(l){throw l.source=r,l}var c=function(l){return a.call(this,l,We)};return c.source="function("+s+`){
`+r+"}",c}function Uh(o,e,t){e=zi(e);var n=e.length;if(!n)return dt(t)?t.call(o):t;for(var i=0;i<n;i++){var r=o?.[e[i]];r===void 0&&(r=t,i=n),o=dt(r)?r.call(o):r}return o}var eg=0;function Fh(o){var e=++eg+"";return o?o+e:e}function kh(o){var e=We(o);return e._chain=!0,e}function Rh(o,e,t,n,i){if(!(n instanceof e))return o.apply(t,i);var r=ph(o.prototype),s=o.apply(r,i);return gn(s)?s:r}var Bn=xt(function(o,e){var t=Bn.placeholder,n=function(){for(var i=0,r=e.length,s=Array(r),a=0;a<r;a++)s[a]=e[a]===t?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return Rh(o,n,this,this,s)};return n});Bn.placeholder=We;const ec=xt(function(o,e,t){if(!dt(o))throw new TypeError("Bind must be called on a function");var n=xt(function(i){return Rh(o,n,e,this,t.concat(i))});return n}),kt=eh(Et);function Nn(o,e,t,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(o);for(var i=n.length,r=0,s=Et(o);r<s;r++){var a=o[r];if(kt(a)&&(mn(a)||ri(a)))if(e>1)Nn(a,e-1,t,n),i=n.length;else for(var c=0,l=a.length;c<l;)n[i++]=a[c++];else t||(n[i++]=a)}return n}const Bh=xt(function(o,e){e=Nn(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];o[n]=ec(o[n],o)}return o});function Nh(o,e){var t=function(n){var i=t.cache,r=""+(e?e.apply(this,arguments):n);return bn(i,r)||(i[r]=o.apply(this,arguments)),i[r]};return t.cache={},t}const tc=xt(function(o,e,t){return setTimeout(function(){return o.apply(null,t)},e)}),Ih=Bn(tc,We,1);function Mh(o,e,t){var n,i,r,s,a=0;t||(t={});var c=function(){a=t.leading===!1?0:ai(),n=null,s=o.apply(i,r),n||(i=r=null)},l=function(){var u=ai();!a&&t.leading===!1&&(a=u);var d=e-(u-a);return i=this,r=arguments,d<=0||d>e?(n&&(clearTimeout(n),n=null),a=u,s=o.apply(i,r),n||(i=r=null)):!n&&t.trailing!==!1&&(n=setTimeout(c,d)),s};return l.cancel=function(){clearTimeout(n),a=0,n=i=r=null},l}function Lh(o,e,t){var n,i,r,s,a,c=function(){var u=ai()-i;e>u?n=setTimeout(c,e-u):(n=null,t||(s=o.apply(a,r)),n||(r=a=null))},l=xt(function(u){return a=this,r=u,i=ai(),n||(n=setTimeout(c,e),t&&(s=o.apply(a,r))),s});return l.cancel=function(){clearTimeout(n),n=r=a=null},l}function Ph(o,e){return Bn(e,o)}function os(o){return function(){return!o.apply(this,arguments)}}function Oh(){var o=arguments,e=o.length-1;return function(){for(var t=e,n=o[e].apply(this,arguments);t--;)n=o[t].call(this,n);return n}}function Wh(o,e){return function(){if(--o<1)return e.apply(this,arguments)}}function nc(o,e){var t;return function(){return--o>0&&(t=e.apply(this,arguments)),o<=1&&(e=null),t}}const jh=Bn(nc,2);function ic(o,e,t){e=Ct(e,t);for(var n=nt(o),i,r=0,s=n.length;r<s;r++)if(i=n[r],e(o[i],i,o))return i}function qh(o){return function(e,t,n){t=Ct(t,n);for(var i=Et(e),r=o>0?0:i-1;r>=0&&r<i;r+=o)if(t(e[r],r,e))return r;return-1}}const cs=qh(1),rc=qh(-1);function sc(o,e,t,n){t=Ct(t,n,1);for(var i=t(e),r=0,s=Et(o);r<s;){var a=Math.floor((r+s)/2);t(o[a])<i?r=a+1:s=a}return r}function zh(o,e,t){return function(n,i,r){var s=0,a=Et(n);if(typeof r=="number")o>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(t&&r&&a)return r=t(n,i),n[r]===i?r:-1;if(i!==i)return r=e(qi.call(n,s,a),Oo),r>=0?r+s:-1;for(r=o>0?s:a-1;r>=0&&r<a;r+=o)if(n[r]===i)return r;return-1}}const ac=zh(1,cs,sc),Hh=zh(-1,rc);function Ni(o,e,t){var n=kt(o)?cs:ic,i=n(o,e,t);if(i!==void 0&&i!==-1)return o[i]}function Vh(o,e){return Ni(o,Un(e))}function zt(o,e,t){e=Hi(e,t);var n,i;if(kt(o))for(n=0,i=o.length;n<i;n++)e(o[n],n,o);else{var r=nt(o);for(n=0,i=r.length;n<i;n++)e(o[r[n]],r[n],o)}return o}function rn(o,e,t){e=Ct(e,t);for(var n=!kt(o)&&nt(o),i=(n||o).length,r=Array(i),s=0;s<i;s++){var a=n?n[s]:s;r[s]=e(o[a],a,o)}return r}function Xh(o){var e=function(t,n,i,r){var s=!kt(t)&&nt(t),a=(s||t).length,c=o>0?0:a-1;for(r||(i=t[s?s[c]:c],c+=o);c>=0&&c<a;c+=o){var l=s?s[c]:c;i=n(i,t[l],l,t)}return i};return function(t,n,i,r){var s=arguments.length>=3;return e(t,Hi(n,r,4),i,s)}}const Zn=Xh(1),Kr=Xh(-1);function dn(o,e,t){var n=[];return e=Ct(e,t),zt(o,function(i,r,s){e(i,r,s)&&n.push(i)}),n}function $h(o,e,t){return dn(o,os(Ct(e)),t)}function Zr(o,e,t){e=Ct(e,t);for(var n=!kt(o)&&nt(o),i=(n||o).length,r=0;r<i;r++){var s=n?n[r]:r;if(!e(o[s],s,o))return!1}return!0}function Qr(o,e,t){e=Ct(e,t);for(var n=!kt(o)&&nt(o),i=(n||o).length,r=0;r<i;r++){var s=n?n[r]:r;if(e(o[s],s,o))return!0}return!1}function Pt(o,e,t,n){return kt(o)||(o=Rn(o)),(typeof t!="number"||n)&&(t=0),ac(o,e,t)>=0}const Gh=xt(function(o,e,t){var n,i;return dt(e)?i=e:(e=zi(e),n=e.slice(0,-1),e=e[e.length-1]),rn(o,function(r){var s=i;if(!s){if(n&&n.length&&(r=Zo(r,n)),r==null)return;s=r[e]}return s==null?s:s.apply(r,t)})});function ls(o,e){return rn(o,ss(e))}function Yh(o,e){return dn(o,Un(e))}function oc(o,e,t){var n=-1/0,i=-1/0,r,s;if(e==null||typeof e=="number"&&typeof o[0]!="object"&&o!=null){o=kt(o)?o:Rn(o);for(var a=0,c=o.length;a<c;a++)r=o[a],r!=null&&r>n&&(n=r)}else e=Ct(e,t),zt(o,function(l,u,d){s=e(l,u,d),(s>i||s===-1/0&&n===-1/0)&&(n=l,i=s)});return n}function Kh(o,e,t){var n=1/0,i=1/0,r,s;if(e==null||typeof e=="number"&&typeof o[0]!="object"&&o!=null){o=kt(o)?o:Rn(o);for(var a=0,c=o.length;a<c;a++)r=o[a],r!=null&&r<n&&(n=r)}else e=Ct(e,t),zt(o,function(l,u,d){s=e(l,u,d),(s<i||s===1/0&&n===1/0)&&(n=l,i=s)});return n}var tg=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cc(o){return o?mn(o)?qi.call(o):is(o)?o.match(tg):kt(o)?rn(o,rs):Rn(o):[]}function lc(o,e,t){if(e==null||t)return kt(o)||(o=Rn(o)),o[Yr(o.length-1)];var n=cc(o),i=Et(n);e=Math.max(Math.min(e,i),0);for(var r=i-1,s=0;s<e;s++){var a=Yr(s,r),c=n[s];n[s]=n[a],n[a]=c}return n.slice(0,e)}function Zh(o){return lc(o,1/0)}function Qh(o,e,t){var n=0;return e=Ct(e,t),ls(rn(o,function(i,r,s){return{value:i,index:n++,criteria:e(i,r,s)}}).sort(function(i,r){var s=i.criteria,a=r.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-r.index}),"value")}function us(o,e){return function(t,n,i){var r=e?[[],[]]:{};return n=Ct(n,i),zt(t,function(s,a){var c=n(s,a,t);o(r,s,c)}),r}}const Jh=us(function(o,e,t){bn(o,t)?o[t].push(e):o[t]=[e]}),ef=us(function(o,e,t){o[t]=e}),tf=us(function(o,e,t){bn(o,t)?o[t]++:o[t]=1}),nf=us(function(o,e,t){o[t?0:1].push(e)},!0);function rf(o){return o==null?0:kt(o)?o.length:nt(o).length}function ng(o,e,t){return e in t}const uc=xt(function(o,e){var t={},n=e[0];if(o==null)return t;dt(n)?(e.length>1&&(n=Hi(n,e[1])),e=ci(o)):(n=ng,e=Nn(e,!1,!1),o=Object(o));for(var i=0,r=e.length;i<r;i++){var s=e[i],a=o[s];n(a,s,o)&&(t[s]=a)}return t}),sf=xt(function(o,e){var t=e[0],n;return dt(t)?(t=os(t),e.length>1&&(n=e[1])):(e=rn(Nn(e,!1,!1),String),t=function(i,r){return!Pt(e,r)}),uc(o,t,n)});function dc(o,e,t){return qi.call(o,0,Math.max(0,o.length-(e==null||t?1:e)))}function Qn(o,e,t){return o==null||o.length<1?e==null||t?void 0:[]:e==null||t?o[0]:dc(o,o.length-e)}function Sn(o,e,t){return qi.call(o,e==null||t?1:e)}function af(o,e,t){return o==null||o.length<1?e==null||t?void 0:[]:e==null||t?o[o.length-1]:Sn(o,Math.max(0,o.length-e))}function of(o){return dn(o,Boolean)}function cf(o,e){return Nn(o,e,!1)}const hc=xt(function(o,e){return e=Nn(e,!0,!0),dn(o,function(t){return!Pt(e,t)})}),lf=xt(function(o,e){return hc(o,e)});function Ii(o,e,t,n){No(e)||(n=t,t=e,e=!1),t!=null&&(t=Ct(t,n));for(var i=[],r=[],s=0,a=Et(o);s<a;s++){var c=o[s],l=t?t(c,s,o):c;e&&!t?((!s||r!==l)&&i.push(c),r=l):t?Pt(r,l)||(r.push(l),i.push(c)):Pt(i,c)||i.push(c)}return i}const uf=xt(function(o){return Ii(Nn(o,!0,!0))});function df(o){for(var e=[],t=arguments.length,n=0,i=Et(o);n<i;n++){var r=o[n];if(!Pt(e,r)){var s;for(s=1;s<t&&Pt(arguments[s],r);s++);s===t&&e.push(r)}}return e}function Mi(o){for(var e=o&&oc(o,Et).length||0,t=Array(e),n=0;n<e;n++)t[n]=ls(o,n);return t}const hf=xt(Mi);function ff(o,e){for(var t={},n=0,i=Et(o);n<i;n++)e?t[o[n]]=e[n]:t[o[n][0]]=o[n][1];return t}function pf(o,e,t){e==null&&(e=o||0,o=0),t||(t=e<o?-1:1);for(var n=Math.max(Math.ceil((e-o)/t),0),i=Array(n),r=0;r<n;r++,o+=t)i[r]=o;return i}function gf(o,e){if(e==null||e<1)return[];for(var t=[],n=0,i=o.length;n<i;)t.push(qi.call(o,n,n+=e));return t}function fc(o,e){return o._chain?We(e).chain():e}function pc(o){return zt(Bi(o),function(e){var t=We[e]=o[e];We.prototype[e]=function(){var n=[this._wrapped];return Rp.apply(n,arguments),fc(this,t.apply(We,n))}}),We}zt(["pop","push","reverse","shift","sort","splice","unshift"],function(o){var e=ns[o];We.prototype[o]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(o==="shift"||o==="splice")&&t.length===0&&delete t[0]),fc(this,t)}});zt(["concat","join","slice"],function(o){var e=ns[o];We.prototype[o]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),fc(this,t)}});const ig=Object.freeze(Object.defineProperty({__proto__:null,VERSION:ko,after:Wh,all:Zr,allKeys:ci,any:Qr,assign:si,before:nc,bind:ec,bindAll:Bh,chain:kh,chunk:gf,clone:mh,collect:rn,compact:of,compose:Oh,constant:Wo,contains:Pt,countBy:tf,create:gh,debounce:Lh,default:We,defaults:Yo,defer:Ih,delay:tc,detect:Ni,difference:hc,drop:Sn,each:zt,escape:Th,every:Zr,extend:Go,extendOwn:si,filter:dn,find:Ni,findIndex:cs,findKey:ic,findLastIndex:rc,findWhere:Vh,first:Qn,flatten:cf,foldl:Zn,foldr:Kr,forEach:zt,functions:Bi,get:Qo,groupBy:Jh,has:yh,head:Qn,identity:rs,include:Pt,includes:Pt,indexBy:ef,indexOf:ac,initial:dc,inject:Zn,intersection:df,invert:Xo,invoke:Gh,isArguments:ri,isArray:mn,isArrayBuffer:Lo,isBoolean:No,isDataView:Ri,isDate:Gd,isElement:$d,isEmpty:ih,isEqual:sh,isError:Kd,isFinite:Jd,isFunction:dt,isMap:lh,isMatch:qo,isNaN:Oo,isNull:Xd,isNumber:Io,isObject:gn,isRegExp:Yd,isSet:dh,isString:is,isSymbol:Mo,isTypedArray:jo,isUndefined:Bo,isWeakMap:uh,isWeakSet:hh,iteratee:as,keys:nt,last:af,lastIndexOf:Hh,map:rn,mapObject:xh,matcher:Un,matches:Un,max:oc,memoize:Nh,methods:Bi,min:Kh,mixin:pc,negate:os,noop:Jo,now:ai,object:ff,omit:sf,once:jh,pairs:fh,partial:Bn,partition:nf,pick:uc,pluck:ls,property:ss,propertyOf:Dh,random:Yr,range:pf,reduce:Zn,reduceRight:Kr,reject:$h,rest:Sn,restArguments:xt,result:Uh,sample:lc,select:dn,shuffle:Zh,size:rf,some:Qr,sortBy:Qh,sortedIndex:sc,tail:Sn,take:Qn,tap:bh,template:Sh,templateSettings:Ch,throttle:Mh,times:_h,toArray:cc,toPath:Ko,transpose:Mi,unescape:Eh,union:uf,uniq:Ii,unique:Ii,uniqueId:Fh,unzip:Mi,values:Rn,where:Yh,without:lf,wrap:Ph,zip:hf},Symbol.toStringTag,{value:"Module"}));var so=pc(ig);so._=so;const rg=Object.freeze(Object.defineProperty({__proto__:null,VERSION:ko,after:Wh,all:Zr,allKeys:ci,any:Qr,assign:si,before:nc,bind:ec,bindAll:Bh,chain:kh,chunk:gf,clone:mh,collect:rn,compact:of,compose:Oh,constant:Wo,contains:Pt,countBy:tf,create:gh,debounce:Lh,default:so,defaults:Yo,defer:Ih,delay:tc,detect:Ni,difference:hc,drop:Sn,each:zt,escape:Th,every:Zr,extend:Go,extendOwn:si,filter:dn,find:Ni,findIndex:cs,findKey:ic,findLastIndex:rc,findWhere:Vh,first:Qn,flatten:cf,foldl:Zn,foldr:Kr,forEach:zt,functions:Bi,get:Qo,groupBy:Jh,has:yh,head:Qn,identity:rs,include:Pt,includes:Pt,indexBy:ef,indexOf:ac,initial:dc,inject:Zn,intersection:df,invert:Xo,invoke:Gh,isArguments:ri,isArray:mn,isArrayBuffer:Lo,isBoolean:No,isDataView:Ri,isDate:Gd,isElement:$d,isEmpty:ih,isEqual:sh,isError:Kd,isFinite:Jd,isFunction:dt,isMap:lh,isMatch:qo,isNaN:Oo,isNull:Xd,isNumber:Io,isObject:gn,isRegExp:Yd,isSet:dh,isString:is,isSymbol:Mo,isTypedArray:jo,isUndefined:Bo,isWeakMap:uh,isWeakSet:hh,iteratee:as,keys:nt,last:af,lastIndexOf:Hh,map:rn,mapObject:xh,matcher:Un,matches:Un,max:oc,memoize:Nh,methods:Bi,min:Kh,mixin:pc,negate:os,noop:Jo,now:ai,object:ff,omit:sf,once:jh,pairs:fh,partial:Bn,partition:nf,pick:uc,pluck:ls,property:ss,propertyOf:Dh,random:Yr,range:pf,reduce:Zn,reduceRight:Kr,reject:$h,rest:Sn,restArguments:xt,result:Uh,sample:lc,select:dn,shuffle:Zh,size:rf,some:Qr,sortBy:Qh,sortedIndex:sc,tail:Sn,take:Qn,tap:bh,template:Sh,templateSettings:Ch,throttle:Mh,times:_h,toArray:cc,toPath:Ko,transpose:Mi,unescape:Eh,union:uf,uniq:Ii,unique:Ii,uniqueId:Fh,unzip:Mi,values:Rn,where:Yh,without:lf,wrap:Ph,zip:hf},Symbol.toStringTag,{value:"Module"})),Je=cp(rg);var nr={},Nt={},js={exports:{}},ir={exports:{}},$c;function li(){if($c)return ir.exports;$c=1;var o=(function(){return this===void 0})();if(o)ir.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:o,propertyIsWritable:function(u,d){var h=Object.getOwnPropertyDescriptor(u,d);return!!(!h||h.writable||h.set)}};else{var e={}.hasOwnProperty,t={}.toString,n={}.constructor.prototype,i=function(u){var d=[];for(var h in u)e.call(u,h)&&d.push(h);return d},r=function(u,d){return{value:u[d]}},s=function(u,d,h){return u[d]=h.value,u},a=function(u){return u},c=function(u){try{return Object(u).constructor.prototype}catch{return n}},l=function(u){try{return t.call(u)==="[object Array]"}catch{return!1}};ir.exports={isArray:l,keys:i,names:i,defineProperty:s,getDescriptor:r,freeze:a,getPrototypeOf:c,isES5:o,propertyIsWritable:function(){return!0}}}return ir.exports}var di,Gc;function ze(){if(Gc)return di;Gc=1;var o={},e=li(),t=typeof navigator>"u",n={e:{}},i,r=typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:di!==void 0?di:null;function s(){try{var X=i;return i=null,X.apply(this,arguments)}catch(ne){return n.e=ne,n}}function a(X){return i=X,s}var c=function(X,ne){var ie={}.hasOwnProperty;function ue(){this.constructor=X,this.constructor$=ne;for(var oe in ne.prototype)ie.call(ne.prototype,oe)&&oe.charAt(oe.length-1)!=="$"&&(this[oe+"$"]=ne.prototype[oe])}return ue.prototype=ne.prototype,X.prototype=new ue,X.prototype};function l(X){return X==null||X===!0||X===!1||typeof X=="string"||typeof X=="number"}function u(X){return typeof X=="function"||typeof X=="object"&&X!==null}function d(X){return l(X)?new Error(A(X)):X}function h(X,ne){var ie=X.length,ue=new Array(ie+1),oe;for(oe=0;oe<ie;++oe)ue[oe]=X[oe];return ue[oe]=ne,ue}function f(X,ne,ie){if(e.isES5){var ue=Object.getOwnPropertyDescriptor(X,ne);if(ue!=null)return ue.get==null&&ue.set==null?ue.value:ie}else return{}.hasOwnProperty.call(X,ne)?X[ne]:void 0}function b(X,ne,ie){if(l(X))return X;var ue={value:ie,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(X,ne,ue),X}function p(X){throw X}var g=(function(){var X=[Array.prototype,Object.prototype,Function.prototype],ne=function(oe){for(var le=0;le<X.length;++le)if(X[le]===oe)return!0;return!1};if(e.isES5){var ie=Object.getOwnPropertyNames;return function(oe){for(var le=[],fe=Object.create(null);oe!=null&&!ne(oe);){var ge;try{ge=ie(oe)}catch{return le}for(var xe=0;xe<ge.length;++xe){var Ae=ge[xe];if(!fe[Ae]){fe[Ae]=!0;var ke=Object.getOwnPropertyDescriptor(oe,Ae);ke!=null&&ke.get==null&&ke.set==null&&le.push(Ae)}}oe=e.getPrototypeOf(oe)}return le}}else{var ue={}.hasOwnProperty;return function(oe){if(ne(oe))return[];var le=[];e:for(var fe in oe)if(ue.call(oe,fe))le.push(fe);else{for(var ge=0;ge<X.length;++ge)if(ue.call(X[ge],fe))continue e;le.push(fe)}return le}}})(),m=/this\s*\.\s*\S+\s*=/;function y(X){try{if(typeof X=="function"){var ne=e.names(X.prototype),ie=e.isES5&&ne.length>1,ue=ne.length>0&&!(ne.length===1&&ne[0]==="constructor"),oe=m.test(X+"")&&e.names(X).length>0;if(ie||ue||oe)return!0}return!1}catch{return!1}}function v(X){return X}var _=/^[a-z$_][a-z$_0-9]*$/i;function x(X){return _.test(X)}function D(X,ne,ie){for(var ue=new Array(X),oe=0;oe<X;++oe)ue[oe]=ne+oe+ie;return ue}function A(X){try{return X+""}catch{return"[no string representation]"}}function S(X){return X!==null&&typeof X=="object"&&typeof X.message=="string"&&typeof X.name=="string"}function E(X){try{b(X,"isOperational",!0)}catch{}}function R(X){return X==null?!1:X instanceof Error.__BluebirdErrorTypes__.OperationalError||X.isOperational===!0}function q(X){return S(X)&&e.propertyIsWritable(X,"stack")}var C=(function(){return"stack"in new Error?function(X){return q(X)?X:new Error(A(X))}:function(X){if(q(X))return X;try{throw new Error(A(X))}catch(ne){return ne}}})();function N(X){return{}.toString.call(X)}function T(X,ne,ie){for(var ue=e.names(X),oe=0;oe<ue.length;++oe){var le=ue[oe];if(ie(le))try{e.defineProperty(ne,le,e.getDescriptor(X,le))}catch{}}}var W=function(X){return e.isArray(X)?X:null};if(typeof Symbol<"u"&&Symbol.iterator){var k=typeof Array.from=="function"?function(X){return Array.from(X)}:function(X){for(var ne=[],ie=X[Symbol.iterator](),ue;!(ue=ie.next()).done;)ne.push(ue.value);return ne};W=function(X){return e.isArray(X)?X:X!=null&&typeof X[Symbol.iterator]=="function"?k(X):null}}var B=typeof Ve<"u"&&N(Ve).toLowerCase()==="[object process]",H=typeof Ve<"u"&&typeof o<"u";function z(X){return H?o[X]:void 0}function ee(){if(typeof Promise=="function")try{var X=new Promise(function(){});if({}.toString.call(X)==="[object Promise]")return Promise}catch{}}function O(X,ne){return X.bind(ne)}var $={isClass:y,isIdentifier:x,inheritedDataKeys:g,getDataPropertyOrDefault:f,thrower:p,isArray:e.isArray,asArray:W,notEnumerableProp:b,isPrimitive:l,isObject:u,isError:S,canEvaluate:t,errorObj:n,tryCatch:a,inherits:c,withAppended:h,maybeWrapAsError:d,toFastProperties:v,filledRange:D,toString:A,canAttachTrace:q,ensureErrorObject:C,originatesFromRejection:R,markAsOriginatingFromRejection:E,classString:N,copyDescriptors:T,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:B,hasEnvVariables:H,env:z,global:r,getNativePromise:ee,domainBind:O};$.isRecentNode=$.isNode&&(function(){var X=Ve.versions.node.split(".").map(Number);return X[0]===0&&X[1]>10||X[0]>0})(),$.isNode&&$.toFastProperties(Ve);try{throw new Error}catch(X){$.lastLineError=X}return di=$,di}var rr={exports:{}},qs,Yc;function sg(){if(Yc)return qs;Yc=1;var o=ze(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},n=o.getNativePromise();if(o.isNode&&typeof MutationObserver>"u"){var i=globalThis.setImmediate,r=Ve.nextTick;e=o.isRecentNode?function(a){i.call(globalThis,a)}:function(a){r.call(Ve,a)}}else if(typeof n=="function"&&typeof n.resolve=="function"){var s=n.resolve();e=function(a){s.then(a)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var a=document.createElement("div"),c={attributes:!0},l=!1,u=document.createElement("div"),d=new MutationObserver(function(){a.classList.toggle("foo"),l=!1});d.observe(u,c);var h=function(){l||(l=!0,u.classList.toggle("foo"))};return function(b){var p=new MutationObserver(function(){p.disconnect(),b()});p.observe(a,c),h()}})():typeof setImmediate<"u"?e=function(a){setImmediate(a)}:typeof setTimeout<"u"?e=function(a){setTimeout(a,0)}:e=t;return qs=e,qs}var zs,Kc;function ag(){if(Kc)return zs;Kc=1;function o(t,n,i,r,s){for(var a=0;a<s;++a)i[a+r]=t[a+n],t[a+n]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;this[i]=t,this._length=n+1},e.prototype.push=function(t,n,i){var r=this.length()+3;if(this._willBeOverCapacity(r)){this._pushOne(t),this._pushOne(n),this._pushOne(i);return}var s=this._front+r-3;this._checkCapacity(r);var a=this._capacity-1;this[s+0&a]=t,this[s+1&a]=n,this[s+2&a]=i,this._length=r},e.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var n=this._capacity;this._capacity=t;var i=this._front,r=this._length,s=i+r&n-1;o(this,0,this,n,s)},zs=e,zs}var Zc;function og(){if(Zc)return rr.exports;Zc=1;var o;try{throw new Error}catch(c){o=c}var e=sg(),t=ag(),n=ze();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(c){var l=this._schedule;return this._schedule=c,this._customScheduler=!0,l},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){n.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(c,l){l?(Ve.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),Ve.exit(2)):this.throwLater(c)},i.prototype.throwLater=function(c,l){if(arguments.length===1&&(l=c,c=function(){throw l}),typeof setTimeout<"u")setTimeout(function(){c(l)},0);else try{this._schedule(function(){c(l)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function r(c,l,u){this._lateQueue.push(c,l,u),this._queueTick()}function s(c,l,u){this._normalQueue.push(c,l,u),this._queueTick()}function a(c){this._normalQueue._pushOne(c),this._queueTick()}return n.hasDevTools?(i.prototype.invokeLater=function(c,l,u){this._trampolineEnabled?r.call(this,c,l,u):this._schedule(function(){setTimeout(function(){c.call(l,u)},100)})},i.prototype.invoke=function(c,l,u){this._trampolineEnabled?s.call(this,c,l,u):this._schedule(function(){c.call(l,u)})},i.prototype.settlePromises=function(c){this._trampolineEnabled?a.call(this,c):this._schedule(function(){c._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=s,i.prototype.settlePromises=a),i.prototype._drainQueue=function(c){for(;c.length()>0;){var l=c.shift();if(typeof l!="function"){l._settlePromises();continue}var u=c.shift(),d=c.shift();l.call(u,d)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},rr.exports=i,rr.exports.firstLineError=o,rr.exports}var Hs,Qc;function hn(){if(Qc)return Hs;Qc=1;var o=li(),e=o.freeze,t=ze(),n=t.inherits,i=t.notEnumerableProp;function r(m,y){function v(_){if(!(this instanceof v))return new v(_);i(this,"message",typeof _=="string"?_:y),i(this,"name",m),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(v,Error),v}var s,a,c=r("Warning","warning"),l=r("CancellationError","cancellation error"),u=r("TimeoutError","timeout error"),d=r("AggregateError","aggregate error");try{s=TypeError,a=RangeError}catch{s=r("TypeError","type error"),a=r("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),f=0;f<h.length;++f)typeof Array.prototype[h[f]]=="function"&&(d.prototype[h[f]]=Array.prototype[h[f]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var b=0;d.prototype.toString=function(){var m=Array(b*4+1).join(" "),y=`
`+m+`AggregateError of:
`;b++,m=Array(b*4+1).join(" ");for(var v=0;v<this.length;++v){for(var _=this[v]===this?"[Circular AggregateError]":this[v]+"",x=_.split(`
`),D=0;D<x.length;++D)x[D]=m+x[D];_=x.join(`
`),y+=_+`
`}return b--,y};function p(m){if(!(this instanceof p))return new p(m);i(this,"name","OperationalError"),i(this,"message",m),this.cause=m,this.isOperational=!0,m instanceof Error?(i(this,"message",m.message),i(this,"stack",m.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}n(p,Error);var g=Error.__BluebirdErrorTypes__;return g||(g=e({CancellationError:l,TimeoutError:u,OperationalError:p,RejectionError:p,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),Hs={Error,TypeError:s,RangeError:a,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:c},Hs}var Vs,Jc;function cg(){return Jc||(Jc=1,Vs=function(o,e){var t=ze(),n=t.errorObj,i=t.isObject;function r(d,h){if(i(d)){if(d instanceof o)return d;var f=a(d);if(f===n){h&&h._pushContext();var b=o.reject(f.e);return h&&h._popContext(),b}else if(typeof f=="function"){if(l(d)){var b=new o(e);return d._then(b._fulfill,b._reject,void 0,b,null),b}return u(d,f,h)}}return d}function s(d){return d.then}function a(d){try{return s(d)}catch(h){return n.e=h,n}}var c={}.hasOwnProperty;function l(d){try{return c.call(d,"_promise0")}catch{return!1}}function u(d,h,f){var b=new o(e),p=b;f&&f._pushContext(),b._captureStackTrace(),f&&f._popContext();var g=!0,m=t.tryCatch(h).call(d,y,v);g=!1,b&&m===n&&(b._rejectCallback(m.e,!0,!0),b=null);function y(_){b&&(b._resolveCallback(_),b=null)}function v(_){b&&(b._rejectCallback(_,g,!0),b=null)}return p}return r}),Vs}var Xs,el;function lg(){return el||(el=1,Xs=function(o,e,t,n,i){var r=ze();r.isArray;function s(c){switch(c){case-2:return[];case-3:return{}}}function a(c){var l=this._promise=new o(e);c instanceof o&&l._propagateFrom(c,3),l._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return r.inherits(a,i),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(l,u){var d=t(this._values,this._promise);if(d instanceof o){d=d._target();var h=d._bitField;if(this._values=d,(h&50397184)===0)return this._promise._setAsyncGuaranteed(),d._then(c,this._reject,void 0,this,u);if((h&33554432)!==0)d=d._value();else return(h&16777216)!==0?this._reject(d._reason()):this._cancel()}if(d=r.asArray(d),d===null){var f=n("expecting an array or an iterable object but got "+r.classString(d)).reason();this._promise._rejectCallback(f,!1);return}if(d.length===0){u===-5?this._resolveEmptyArray():this._resolve(s(u));return}this._iterate(d)},a.prototype._iterate=function(c){var l=this.getActualLength(c.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var u=this._promise,d=!1,h=null,f=0;f<l;++f){var b=t(c[f],u);b instanceof o?(b=b._target(),h=b._bitField):h=null,d?h!==null&&b.suppressUnhandledRejections():h!==null?(h&50397184)===0?(b._proxy(this,f),this._values[f]=b):(h&33554432)!==0?d=this._promiseFulfilled(b._value(),f):(h&16777216)!==0?d=this._promiseRejected(b._reason(),f):d=this._promiseCancelled(f):d=this._promiseFulfilled(b,f)}d||u._setAsyncGuaranteed()},a.prototype._isResolved=function(){return this._values===null},a.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},a.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},a.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},a.prototype._promiseFulfilled=function(c,l){this._values[l]=c;var u=++this._totalResolved;return u>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof o)c.cancel();else for(var l=0;l<c.length;++l)c[l]instanceof o&&c[l].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(c){return c},a}),Xs}var $s,tl;function ug(){return tl||(tl=1,$s=function(o){var e=!1,t=[];o.prototype._promiseCreated=function(){},o.prototype._pushContext=function(){},o.prototype._popContext=function(){return null},o._peekContext=o.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(r())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var s=t.pop(),a=s._promiseCreated;return s._promiseCreated=null,a}return null};function i(){if(e)return new n}function r(){var s=t.length-1;if(s>=0)return t[s]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var s=o.prototype._pushContext,a=o.prototype._popContext,c=o._peekContext,l=o.prototype._peekContext,u=o.prototype._promiseCreated;n.deactivateLongStackTraces=function(){o.prototype._pushContext=s,o.prototype._popContext=a,o._peekContext=c,o.prototype._peekContext=l,o.prototype._promiseCreated=u,e=!1},e=!0,o.prototype._pushContext=n.prototype._pushContext,o.prototype._popContext=n.prototype._popContext,o._peekContext=o.prototype._peekContext=r,o.prototype._promiseCreated=function(){var d=this._peekContext();d&&d._promiseCreated==null&&(d._promiseCreated=this)}},n}),$s}var Gs,nl;function dg(){return nl||(nl=1,Gs=function(o,e){var t=o._getDomain,n=o._async,i=hn().Warning,r=ze(),s=r.canAttachTrace,a,c,l=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,u=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,h=null,f=null,b=!1,p,g=!!(r.env("BLUEBIRD_DEBUG")!=0&&(r.env("BLUEBIRD_DEBUG")||r.env("NODE_ENV")==="development")),m=!!(r.env("BLUEBIRD_WARNINGS")!=0&&(g||r.env("BLUEBIRD_WARNINGS"))),y=!!(r.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(g||r.env("BLUEBIRD_LONG_STACK_TRACES"))),v=r.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(m||!!r.env("BLUEBIRD_W_FORGOTTEN_RETURN"));o.prototype.suppressUnhandledRejections=function(){var j=this._target();j._bitField=j._bitField&-1048577|524288},o.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},o.prototype._notifyUnhandledRejectionIsHandled=function(){Ae("rejectionHandled",a,void 0,this)},o.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},o.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},o.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var j=this._settledValue();this._setUnhandledRejectionIsNotified(),Ae("unhandledRejection",c,j,this)}},o.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},o.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},o.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},o.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},o.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},o.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},o.prototype._warn=function(j,V,Z){return ne(j,V,Z||this)},o.onPossiblyUnhandledRejection=function(j){var V=t();c=typeof j=="function"?V===null?j:r.domainBind(V,j):void 0},o.onUnhandledRejectionHandled=function(j){var V=t();a=typeof j=="function"?V===null?j:r.domainBind(V,j):void 0};var _=function(){};o.longStackTraces=function(){if(n.haveItemsQueued()&&!K.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!K.longStackTraces&&Q()){var j=o.prototype._captureStackTrace,V=o.prototype._attachExtraTrace;K.longStackTraces=!0,_=function(){if(n.haveItemsQueued()&&!K.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);o.prototype._captureStackTrace=j,o.prototype._attachExtraTrace=V,e.deactivateLongStackTraces(),n.enableTrampoline(),K.longStackTraces=!1},o.prototype._captureStackTrace=ee,o.prototype._attachExtraTrace=O,e.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},o.hasLongStackTraces=function(){return K.longStackTraces&&Q()};var x=(function(){try{if(typeof CustomEvent=="function"){var j=new CustomEvent("CustomEvent");return r.global.dispatchEvent(j),function(V,Z){var se=new CustomEvent(V.toLowerCase(),{detail:Z,cancelable:!0});return!r.global.dispatchEvent(se)}}else if(typeof Event=="function"){var j=new Event("CustomEvent");return r.global.dispatchEvent(j),function(Z,se){var de=new Event(Z.toLowerCase(),{cancelable:!0});return de.detail=se,!r.global.dispatchEvent(de)}}else{var j=document.createEvent("CustomEvent");return j.initCustomEvent("testingtheevent",!1,!0,{}),r.global.dispatchEvent(j),function(Z,se){var de=document.createEvent("CustomEvent");return de.initCustomEvent(Z.toLowerCase(),!1,!0,se),!r.global.dispatchEvent(de)}}}catch{}return function(){return!1}})(),D=(function(){return r.isNode?function(){return Ve.emit.apply(Ve,arguments)}:r.global?function(j){var V="on"+j.toLowerCase(),Z=r.global[V];return Z?(Z.apply(r.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function A(j,V){return{promise:V}}var S={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(j,V,Z){return{promise:V,child:Z}},warning:function(j,V){return{warning:V}},unhandledRejection:function(j,V,Z){return{reason:V,promise:Z}},rejectionHandled:A},E=function(j){var V=!1;try{V=D.apply(null,arguments)}catch(se){n.throwLater(se),V=!0}var Z=!1;try{Z=x(j,S[j].apply(null,arguments))}catch(se){n.throwLater(se),Z=!0}return Z||V};o.config=function(j){if(j=Object(j),"longStackTraces"in j&&(j.longStackTraces?o.longStackTraces():!j.longStackTraces&&o.hasLongStackTraces()&&_()),"warnings"in j){var V=j.warnings;K.warnings=!!V,v=K.warnings,r.isObject(V)&&"wForgottenReturn"in V&&(v=!!V.wForgottenReturn)}if("cancellation"in j&&j.cancellation&&!K.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");o.prototype._clearCancellationData=W,o.prototype._propagateFrom=k,o.prototype._onCancel=N,o.prototype._setOnCancel=T,o.prototype._attachCancellationCallback=C,o.prototype._execute=q,H=k,K.cancellation=!0}return"monitoring"in j&&(j.monitoring&&!K.monitoring?(K.monitoring=!0,o.prototype._fireEvent=E):!j.monitoring&&K.monitoring&&(K.monitoring=!1,o.prototype._fireEvent=R)),o};function R(){return!1}o.prototype._fireEvent=R,o.prototype._execute=function(j,V,Z){try{j(V,Z)}catch(se){return se}},o.prototype._onCancel=function(){},o.prototype._setOnCancel=function(j){},o.prototype._attachCancellationCallback=function(j){},o.prototype._captureStackTrace=function(){},o.prototype._attachExtraTrace=function(){},o.prototype._clearCancellationData=function(){},o.prototype._propagateFrom=function(j,V){};function q(j,V,Z){var se=this;try{j(V,Z,function(de){if(typeof de!="function")throw new TypeError("onCancel must be a function, got: "+r.toString(de));se._attachCancellationCallback(de)})}catch(de){return de}}function C(j){if(!this._isCancellable())return this;var V=this._onCancel();V!==void 0?r.isArray(V)?V.push(j):this._setOnCancel([V,j]):this._setOnCancel(j)}function N(){return this._onCancelField}function T(j){this._onCancelField=j}function W(){this._cancellationParent=void 0,this._onCancelField=void 0}function k(j,V){if((V&1)!==0){this._cancellationParent=j;var Z=j._branchesRemainingToCancel;Z===void 0&&(Z=0),j._branchesRemainingToCancel=Z+1}(V&2)!==0&&j._isBound()&&this._setBoundTo(j._boundTo)}function B(j,V){(V&2)!==0&&j._isBound()&&this._setBoundTo(j._boundTo)}var H=B;function z(){var j=this._boundTo;return j!==void 0&&j instanceof o?j.isFulfilled()?j.value():void 0:j}function ee(){this._trace=new te(this._peekContext())}function O(j,V){if(s(j)){var Z=this._trace;if(Z!==void 0&&V&&(Z=Z._parent),Z!==void 0)Z.attachExtraTrace(j);else if(!j.__stackCleaned__){var se=ge(j);r.notEnumerableProp(j,"stack",se.message+`
`+se.stack.join(`
`)),r.notEnumerableProp(j,"__stackCleaned__",!0)}}}function $(j,V,Z,se,de){if(j===void 0&&V!==null&&v){if(de!==void 0&&de._returnedNonUndefined()||(se._bitField&65535)===0)return;Z&&(Z=Z+" ");var ye="",Te="";if(V._trace){for(var De=V._trace.stack.split(`
`),Se=le(De),Me=Se.length-1;Me>=0;--Me){var J=Se[Me];if(!u.test(J)){var ce=J.match(d);ce&&(ye="at "+ce[1]+":"+ce[2]+":"+ce[3]+" ");break}}if(Se.length>0){for(var pe=Se[0],Me=0;Me<De.length;++Me)if(De[Me]===pe){Me>0&&(Te=`
`+De[Me-1]);break}}}var ve="a promise was created in a "+Z+"handler "+ye+"but was not returned from it, see http://goo.gl/rRqMUw"+Te;se._warn(ve,!0,V)}}function X(j,V){var Z=j+" is deprecated and will be removed in a future version.";return V&&(Z+=" Use "+V+" instead."),ne(Z)}function ne(j,V,Z){if(K.warnings){var se=new i(j),de;if(V)Z._attachExtraTrace(se);else if(K.longStackTraces&&(de=o._peekContext()))de.attachExtraTrace(se);else{var ye=ge(se);se.stack=ye.message+`
`+ye.stack.join(`
`)}E("warning",se)||xe(se,"",!0)}}function ie(j,V){for(var Z=0;Z<V.length-1;++Z)V[Z].push("From previous event:"),V[Z]=V[Z].join(`
`);return Z<V.length&&(V[Z]=V[Z].join(`
`)),j+`
`+V.join(`
`)}function ue(j){for(var V=0;V<j.length;++V)(j[V].length===0||V+1<j.length&&j[V][0]===j[V+1][0])&&(j.splice(V,1),V--)}function oe(j){for(var V=j[0],Z=1;Z<j.length;++Z){for(var se=j[Z],de=V.length-1,ye=V[de],Te=-1,De=se.length-1;De>=0;--De)if(se[De]===ye){Te=De;break}for(var De=Te;De>=0;--De){var Se=se[De];if(V[de]===Se)V.pop(),de--;else break}V=se}}function le(j){for(var V=[],Z=0;Z<j.length;++Z){var se=j[Z],de=se==="    (No stack trace)"||h.test(se),ye=de&&Y(se);de&&!ye&&(b&&se.charAt(0)!==" "&&(se="    "+se),V.push(se))}return V}function fe(j){for(var V=j.stack.replace(/\s+$/g,"").split(`
`),Z=0;Z<V.length;++Z){var se=V[Z];if(se==="    (No stack trace)"||h.test(se))break}return Z>0&&j.name!="SyntaxError"&&(V=V.slice(Z)),V}function ge(j){var V=j.stack,Z=j.toString();return V=typeof V=="string"&&V.length>0?fe(j):["    (No stack trace)"],{message:Z,stack:j.name=="SyntaxError"?V:le(V)}}function xe(j,V,Z){if(typeof console<"u"){var se;if(r.isObject(j)){var de=j.stack;se=V+f(de,j)}else se=V+String(j);typeof p=="function"?p(se,Z):(typeof console.log=="function"||typeof console.log=="object")&&console.log(se)}}function Ae(j,V,Z,se){var de=!1;try{typeof V=="function"&&(de=!0,j==="rejectionHandled"?V(se):V(Z,se))}catch(ye){n.throwLater(ye)}j==="unhandledRejection"?!E(j,Z,se)&&!de&&xe(Z,"Unhandled rejection "):E(j,se)}function ke(j){var V;if(typeof j=="function")V="[function "+(j.name||"anonymous")+"]";else{V=j&&typeof j.toString=="function"?j.toString():r.toString(j);var Z=/\[object [a-zA-Z0-9$_]+\]/;if(Z.test(V))try{var se=JSON.stringify(j);V=se}catch{}V.length===0&&(V="(empty array)")}return"(<"+w(V)+">, no stack trace)"}function w(j){var V=41;return j.length<V?j:j.substr(0,V-3)+"..."}function Q(){return typeof ae=="function"}var Y=function(){return!1},L=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function F(j){var V=j.match(L);if(V)return{fileName:V[1],line:parseInt(V[2],10)}}function P(j,V){if(Q()){for(var Z=j.stack.split(`
`),se=V.stack.split(`
`),de=-1,ye=-1,Te,De,Se=0;Se<Z.length;++Se){var Me=F(Z[Se]);if(Me){Te=Me.fileName,de=Me.line;break}}for(var Se=0;Se<se.length;++Se){var Me=F(se[Se]);if(Me){De=Me.fileName,ye=Me.line;break}}de<0||ye<0||!Te||!De||Te!==De||de>=ye||(Y=function(J){if(l.test(J))return!0;var ce=F(J);return!!(ce&&ce.fileName===Te&&de<=ce.line&&ce.line<=ye)})}}function te(j){this._parent=j,this._promisesCreated=0;var V=this._length=1+(j===void 0?0:j._length);ae(this,te),V>32&&this.uncycle()}r.inherits(te,Error),e.CapturedTrace=te,te.prototype.uncycle=function(){var j=this._length;if(!(j<2)){for(var V=[],Z={},se=0,de=this;de!==void 0;++se)V.push(de),de=de._parent;j=this._length=se;for(var se=j-1;se>=0;--se){var ye=V[se].stack;Z[ye]===void 0&&(Z[ye]=se)}for(var se=0;se<j;++se){var Te=V[se].stack,De=Z[Te];if(De!==void 0&&De!==se){De>0&&(V[De-1]._parent=void 0,V[De-1]._length=1),V[se]._parent=void 0,V[se]._length=1;var Se=se>0?V[se-1]:this;De<j-1?(Se._parent=V[De+1],Se._parent.uncycle(),Se._length=Se._parent._length+1):(Se._parent=void 0,Se._length=1);for(var Me=Se._length+1,J=se-2;J>=0;--J)V[J]._length=Me,Me++;return}}}},te.prototype.attachExtraTrace=function(j){if(!j.__stackCleaned__){this.uncycle();for(var V=ge(j),Z=V.message,se=[V.stack],de=this;de!==void 0;)se.push(le(de.stack.split(`
`))),de=de._parent;oe(se),ue(se),r.notEnumerableProp(j,"stack",ie(Z,se)),r.notEnumerableProp(j,"__stackCleaned__",!0)}};var ae=(function(){var V=/^\s*at\s*/,Z=function(Te,De){return typeof Te=="string"?Te:De.name!==void 0&&De.message!==void 0?De.toString():ke(De)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,h=V,f=Z;var se=Error.captureStackTrace;return Y=function(Te){return l.test(Te)},function(Te,De){Error.stackTraceLimit+=6,se(Te,De),Error.stackTraceLimit-=6}}var de=new Error;if(typeof de.stack=="string"&&de.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return h=/@/,f=Z,b=!0,function(De){De.stack=new Error().stack};var ye;try{throw new Error}catch(Te){ye="stack"in Te}return!("stack"in de)&&ye&&typeof Error.stackTraceLimit=="number"?(h=V,f=Z,function(De){Error.stackTraceLimit+=6;try{throw new Error}catch(Se){De.stack=Se.stack}Error.stackTraceLimit-=6}):(f=function(Te,De){return typeof Te=="string"?Te:(typeof De=="object"||typeof De=="function")&&De.name!==void 0&&De.message!==void 0?De.toString():ke(De)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(p=function(j){console.warn(j)},r.isNode&&Ve.stderr.isTTY?p=function(j,V){var Z=V?"\x1B[33m":"\x1B[31m";console.warn(Z+j+`\x1B[0m
`)}:!r.isNode&&typeof new Error().stack=="string"&&(p=function(j,V){console.warn("%c"+j,V?"color: darkorange":"color: red")}));var K={warnings:m,longStackTraces:!1,cancellation:!1,monitoring:!1};return y&&o.longStackTraces(),{longStackTraces:function(){return K.longStackTraces},warnings:function(){return K.warnings},cancellation:function(){return K.cancellation},monitoring:function(){return K.monitoring},propagateFromFunction:function(){return H},boundValueFunction:function(){return z},checkForgottenReturns:$,setBounds:P,warn:ne,deprecated:X,CapturedTrace:te,fireDomEvent:x,fireGlobalEvent:D}}),Gs}var Ys,il;function hg(){return il||(il=1,Ys=function(o,e){var t=ze(),n=o.CancellationError,i=t.errorObj;function r(d,h,f){this.promise=d,this.type=h,this.handler=f,this.called=!1,this.cancelPromise=null}r.prototype.isFinallyHandler=function(){return this.type===0};function s(d){this.finallyHandler=d}s.prototype._resultCancelled=function(){a(this.finallyHandler)};function a(d,h){return d.cancelPromise!=null?(arguments.length>1?d.cancelPromise._reject(h):d.cancelPromise._cancel(),d.cancelPromise=null,!0):!1}function c(){return u.call(this,this.promise._target()._settledValue())}function l(d){if(!a(this,d))return i.e=d,i}function u(d){var h=this.promise,f=this.handler;if(!this.called){this.called=!0;var b=this.isFinallyHandler()?f.call(h._boundValue()):f.call(h._boundValue(),d);if(b!==void 0){h._setReturnedNonUndefined();var p=e(b,h);if(p instanceof o){if(this.cancelPromise!=null)if(p._isCancelled()){var g=new n("late cancellation observer");return h._attachExtraTrace(g),i.e=g,i}else p.isPending()&&p._attachCancellationCallback(new s(this));return p._then(c,l,void 0,this,void 0)}}}return h.isRejected()?(a(this),i.e=d,i):(a(this),d)}return o.prototype._passThrough=function(d,h,f,b){return typeof d!="function"?this.then():this._then(f,b,void 0,new r(this,h,d),void 0)},o.prototype.lastly=o.prototype.finally=function(d){return this._passThrough(d,0,u,u)},o.prototype.tap=function(d){return this._passThrough(d,1,u)},r}),Ys}var Ks,rl;function fg(){return rl||(rl=1,Ks=function(o){var e=ze(),t=li().keys,n=e.tryCatch,i=e.errorObj;function r(s,a,c){return function(l){var u=c._boundValue();e:for(var d=0;d<s.length;++d){var h=s[d];if(h===Error||h!=null&&h.prototype instanceof Error){if(l instanceof h)return n(a).call(u,l)}else if(typeof h=="function"){var f=n(h).call(u,l);if(f===i)return f;if(f)return n(a).call(u,l)}else if(e.isObject(l)){for(var b=t(h),p=0;p<b.length;++p){var g=b[p];if(h[g]!=l[g])continue e}return n(a).call(u,l)}}return o}}return r}),Ks}var Zs,sl;function mf(){if(sl)return Zs;sl=1;var o=ze(),e=o.maybeWrapAsError,t=hn(),n=t.OperationalError,i=li();function r(l){return l instanceof Error&&i.getPrototypeOf(l)===Error.prototype}var s=/^(?:name|message|stack|cause)$/;function a(l){var u;if(r(l)){u=new n(l),u.name=l.name,u.message=l.message,u.stack=l.stack;for(var d=i.keys(l),h=0;h<d.length;++h){var f=d[h];s.test(f)||(u[f]=l[f])}return u}return o.markAsOriginatingFromRejection(l),l}function c(l,u){return function(d,h){if(l!==null){if(d){var f=a(e(d));l._attachExtraTrace(f),l._reject(f)}else if(!u)l._fulfill(h);else{for(var b=arguments.length,p=new Array(Math.max(b-1,0)),g=1;g<b;++g)p[g-1]=arguments[g];l._fulfill(p)}l=null}}}return Zs=c,Zs}var Qs,al;function pg(){return al||(al=1,Qs=function(o,e,t,n,i){var r=ze(),s=r.tryCatch;o.method=function(a){if(typeof a!="function")throw new o.TypeError("expecting a function but got "+r.classString(a));return function(){var c=new o(e);c._captureStackTrace(),c._pushContext();var l=s(a).apply(this,arguments),u=c._popContext();return i.checkForgottenReturns(l,u,"Promise.method",c),c._resolveFromSyncValue(l),c}},o.attempt=o.try=function(a){if(typeof a!="function")return n("expecting a function but got "+r.classString(a));var c=new o(e);c._captureStackTrace(),c._pushContext();var l;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],d=arguments[2];l=r.isArray(u)?s(a).apply(d,u):s(a).call(d,u)}else l=s(a)();var h=c._popContext();return i.checkForgottenReturns(l,h,"Promise.try",c),c._resolveFromSyncValue(l),c},o.prototype._resolveFromSyncValue=function(a){a===r.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}),Qs}var Js,ol;function gg(){return ol||(ol=1,Js=function(o,e,t,n){var i=!1,r=function(l,u){this._reject(u)},s=function(l,u){u.promiseRejectionQueued=!0,u.bindingPromise._then(r,r,null,this,l)},a=function(l,u){(this._bitField&50397184)===0&&this._resolveCallback(u.target)},c=function(l,u){u.promiseRejectionQueued||this._reject(l)};o.prototype.bind=function(l){i||(i=!0,o.prototype._propagateFrom=n.propagateFromFunction(),o.prototype._boundValue=n.boundValueFunction());var u=t(l),d=new o(e);d._propagateFrom(this,1);var h=this._target();if(d._setBoundTo(u),u instanceof o){var f={promiseRejectionQueued:!1,promise:d,target:h,bindingPromise:u};h._then(e,s,void 0,d,f),u._then(a,c,void 0,d,f),d._setOnCancel(u)}else d._resolveCallback(h);return d},o.prototype._setBoundTo=function(l){l!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=l):this._bitField=this._bitField&-2097153},o.prototype._isBound=function(){return(this._bitField&2097152)===2097152},o.bind=function(l,u){return o.resolve(u).bind(l)}}),Js}var ea,cl;function mg(){return cl||(cl=1,ea=function(o,e,t,n){var i=ze(),r=i.tryCatch,s=i.errorObj,a=o._async;o.prototype.break=o.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var c=this,l=c;c._isCancellable();){if(!c._cancelBy(l)){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}var u=c._cancellationParent;if(u==null||!u._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),l=c,c=u}},o.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},o.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},o.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},o.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},o.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},o.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},o.prototype._unsetOnCancel=function(){this._onCancelField=void 0},o.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},o.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},o.prototype._doInvokeOnCancel=function(c,l){if(i.isArray(c))for(var u=0;u<c.length;++u)this._doInvokeOnCancel(c[u],l);else if(c!==void 0)if(typeof c=="function"){if(!l){var d=r(c).call(this._boundValue());d===s&&(this._attachExtraTrace(d.e),a.throwLater(d.e))}}else c._resultCancelled(this)},o.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,c)},o.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},o.prototype._resultCancelled=function(){this.cancel()}}),ea}var ta,ll;function bg(){return ll||(ll=1,ta=function(o){function e(){return this.value}function t(){throw this.reason}o.prototype.return=o.prototype.thenReturn=function(n){return n instanceof o&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},o.prototype.throw=o.prototype.thenThrow=function(n){return this._then(t,void 0,void 0,{reason:n},void 0)},o.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:n},void 0);var i=arguments[1],r=function(){throw i};return this.caught(n,r)},o.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof o&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var i=arguments[1];i instanceof o&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}),ta}var na,ul;function yg(){return ul||(ul=1,na=function(o){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},r=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},s=e.prototype.isPending=function(){return(this._bitField&50397184)===0},a=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},o.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},o.prototype._isCancelled=function(){return this._target().__isCancelled()},o.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},o.prototype.isPending=function(){return s.call(this._target())},o.prototype.isRejected=function(){return r.call(this._target())},o.prototype.isFulfilled=function(){return i.call(this._target())},o.prototype.isResolved=function(){return a.call(this._target())},o.prototype.value=function(){return t.call(this._target())},o.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),n.call(c)},o.prototype._value=function(){return this._settledValue()},o.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},o.PromiseInspection=e}),na}var ia,dl;function vg(){return dl||(dl=1,ia=function(o,e,t,n,i,r){var s=ze(),a=s.canEvaluate,c=s.tryCatch,l=s.errorObj,u;if(a){for(var d=function(y){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,y))},h=function(y){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,y))},f=function(y){for(var v=new Array(y),_=0;_<v.length;++_)v[_]="this.p"+(_+1);var x=v.join(" = ")+" = null;",D=`var promise;
`+v.map(function(R){return`                                                         
	                promise = `+R+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),A=v.join(", "),S="Holder$"+y,E=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return E=E.replace(/\[TheName\]/g,S).replace(/\[TheTotal\]/g,y).replace(/\[ThePassedArguments\]/g,A).replace(/\[TheProperties\]/g,x).replace(/\[CancellationCode\]/g,D),new Function("tryCatch","errorObj","Promise","async",E)(c,l,o,i)},b=[],p=[],g=[],m=0;m<8;++m)b.push(f(m+1)),p.push(d(m+1)),g.push(h(m+1));u=function(y){this._reject(y)}}o.join=function(){var y=arguments.length-1,v;if(y>0&&typeof arguments[y]=="function"&&(v=arguments[y],y<=8&&a)){var T=new o(n);T._captureStackTrace();for(var _=b[y-1],x=new _(v),D=p,A=0;A<y;++A){var S=t(arguments[A],T);if(S instanceof o){S=S._target();var E=S._bitField;(E&50397184)===0?(S._then(D[A],u,void 0,T,x),g[A](S,x),x.asyncNeeded=!1):(E&33554432)!==0?D[A].call(T,S._value(),x):(E&16777216)!==0?T._reject(S._reason()):T._cancel()}else D[A].call(T,S,x)}if(!T._isFateSealed()){if(x.asyncNeeded){var R=r();R!==null&&(x.fn=s.domainBind(R,x.fn))}T._setAsyncGuaranteed(),T._setOnCancel(x)}return T}for(var q=arguments.length,C=new Array(q),N=0;N<q;++N)C[N]=arguments[N];v&&C.pop();var T=new e(C).promise();return v!==void 0?T.spread(v):T}}),ia}var ra,hl;function xg(){return hl||(hl=1,ra=function(o,e,t,n,i,r){var s=o._getDomain,a=ze(),c=a.tryCatch,l=a.errorObj,u=o._async;function d(f,b,p,g){this.constructor$(f),this._promise._captureStackTrace();var m=s();this._callback=m===null?b:a.domainBind(m,b),this._preservedValues=g===i?new Array(this.length()):null,this._limit=p,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}a.inherits(d,e),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(f,b){var p=this._values,g=this.length(),m=this._preservedValues,y=this._limit;if(b<0){if(b=b*-1-1,p[b]=f,y>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(y>=1&&this._inFlight>=y)return p[b]=f,this._queue.push(b),!1;m!==null&&(m[b]=f);var v=this._promise,_=this._callback,x=v._boundValue();v._pushContext();var D=c(_).call(x,f,b,g),A=v._popContext();if(r.checkForgottenReturns(D,A,m!==null?"Promise.filter":"Promise.map",v),D===l)return this._reject(D.e),!0;var S=n(D,this._promise);if(S instanceof o){S=S._target();var E=S._bitField;if((E&50397184)===0)return y>=1&&this._inFlight++,p[b]=S,S._proxy(this,(b+1)*-1),!1;if((E&33554432)!==0)D=S._value();else return(E&16777216)!==0?(this._reject(S._reason()),!0):(this._cancel(),!0)}p[b]=D}var R=++this._totalResolved;return R>=g?(m!==null?this._filter(p,m):this._resolve(p),!0):!1},d.prototype._drainQueue=function(){for(var f=this._queue,b=this._limit,p=this._values;f.length>0&&this._inFlight<b;){if(this._isResolved())return;var g=f.pop();this._promiseFulfilled(p[g],g)}},d.prototype._filter=function(f,b){for(var p=b.length,g=new Array(p),m=0,y=0;y<p;++y)f[y]&&(g[m++]=b[y]);g.length=m,this._resolve(g)},d.prototype.preservedValues=function(){return this._preservedValues};function h(f,b,p,g){if(typeof b!="function")return t("expecting a function but got "+a.classString(b));var m=0;if(p!==void 0)if(typeof p=="object"&&p!==null){if(typeof p.concurrency!="number")return o.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(p.concurrency)));m=p.concurrency}else return o.reject(new TypeError("options argument must be an object but it is "+a.classString(p)));return m=typeof m=="number"&&isFinite(m)&&m>=1?m:0,new d(f,b,m,g).promise()}o.prototype.map=function(f,b){return h(this,f,b,null)},o.map=function(f,b,p,g){return h(f,b,p,g)}}),ra}var sa,fl;function Dg(){if(fl)return sa;fl=1;var o=Object.create;if(o){var e=o(null),t=o(null);e[" size"]=t[" size"]=0}return sa=function(n){var i=ze(),r=i.canEvaluate,s=i.isIdentifier,a,c;{var l=function(g){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,g))(h)},u=function(g){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",g))},d=function(g,m,y){var v=y[g];if(typeof v!="function"){if(!s(g))return null;if(v=m(g),y[g]=v,y[" size"]++,y[" size"]>512){for(var _=Object.keys(y),x=0;x<256;++x)delete y[_[x]];y[" size"]=_.length-256}}return v};a=function(g){return d(g,l,e)},c=function(g){return d(g,u,t)}}function h(g,m){var y;if(g!=null&&(y=g[m]),typeof y!="function"){var v="Object "+i.classString(g)+" has no method '"+i.toString(m)+"'";throw new n.TypeError(v)}return y}function f(g){var m=this.pop(),y=h(g,m);return y.apply(g,this)}n.prototype.call=function(g){for(var m=arguments.length,y=new Array(Math.max(m-1,0)),v=1;v<m;++v)y[v-1]=arguments[v];if(r){var _=a(g);if(_!==null)return this._then(_,void 0,void 0,y,void 0)}return y.push(g),this._then(f,void 0,void 0,y,void 0)};function b(g){return g[this]}function p(g){var m=+this;return m<0&&(m=Math.max(0,m+g.length)),g[m]}n.prototype.get=function(g){var m=typeof g=="number",y;if(m)y=p;else if(r){var v=c(g);y=v!==null?v:b}else y=b;return this._then(y,void 0,void 0,g,void 0)}},sa}var aa,pl;function _g(){return pl||(pl=1,aa=function(o,e,t,n,i,r){var s=ze(),a=hn().TypeError,c=ze().inherits,l=s.errorObj,u=s.tryCatch,d={};function h(v){setTimeout(function(){throw v},0)}function f(v){var _=t(v);return _!==v&&typeof v._isDisposable=="function"&&typeof v._getDisposer=="function"&&v._isDisposable()&&_._setDisposable(v._getDisposer()),_}function b(v,_){var x=0,D=v.length,A=new o(i);function S(){if(x>=D)return A._fulfill();var E=f(v[x++]);if(E instanceof o&&E._isDisposable()){try{E=t(E._getDisposer().tryDispose(_),v.promise)}catch(R){return h(R)}if(E instanceof o)return E._then(S,h,null,null,null)}S()}return S(),A}function p(v,_,x){this._data=v,this._promise=_,this._context=x}p.prototype.data=function(){return this._data},p.prototype.promise=function(){return this._promise},p.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},p.prototype.tryDispose=function(v){var _=this.resource(),x=this._context;x!==void 0&&x._pushContext();var D=_!==d?this.doDispose(_,v):null;return x!==void 0&&x._popContext(),this._promise._unsetDisposable(),this._data=null,D},p.isDisposer=function(v){return v!=null&&typeof v.resource=="function"&&typeof v.tryDispose=="function"};function g(v,_,x){this.constructor$(v,_,x)}c(g,p),g.prototype.doDispose=function(v,_){var x=this.data();return x.call(v,v,_)};function m(v){return p.isDisposer(v)?(this.resources[this.index]._setDisposable(v),v.promise()):v}function y(v){this.length=v,this.promise=null,this[v-1]=null}y.prototype._resultCancelled=function(){for(var v=this.length,_=0;_<v;++_){var x=this[_];x instanceof o&&x.cancel()}},o.using=function(){var v=arguments.length;if(v<2)return e("you must pass at least 2 arguments to Promise.using");var _=arguments[v-1];if(typeof _!="function")return e("expecting a function but got "+s.classString(_));var x,D=!0;v===2&&Array.isArray(arguments[0])?(x=arguments[0],v=x.length,D=!1):(x=arguments,v--);for(var A=new y(v),S=0;S<v;++S){var E=x[S];if(p.isDisposer(E)){var R=E;E=E.promise(),E._setDisposable(R)}else{var q=t(E);q instanceof o&&(E=q._then(m,null,null,{resources:A,index:S},void 0))}A[S]=E}for(var C=new Array(A.length),S=0;S<C.length;++S)C[S]=o.resolve(A[S]).reflect();var N=o.all(C).then(function(W){for(var k=0;k<W.length;++k){var B=W[k];if(B.isRejected())return l.e=B.error(),l;if(!B.isFulfilled()){N.cancel();return}W[k]=B.value()}T._pushContext(),_=u(_);var H=D?_.apply(void 0,W):_(W),z=T._popContext();return r.checkForgottenReturns(H,z,"Promise.using",T),H}),T=N.lastly(function(){var W=new o.PromiseInspection(N);return b(A,W)});return A.promise=T,T._setOnCancel(A),T},o.prototype._setDisposable=function(v){this._bitField=this._bitField|131072,this._disposer=v},o.prototype._isDisposable=function(){return(this._bitField&131072)>0},o.prototype._getDisposer=function(){return this._disposer},o.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},o.prototype.disposer=function(v){if(typeof v=="function")return new g(v,this,n());throw new a}}),aa}var oa,gl;function wg(){return gl||(gl=1,oa=function(o,e,t){var n=ze(),i=o.TimeoutError;function r(d){this.handle=d}r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(d){return a(+this).thenReturn(d)},a=o.delay=function(d,h){var f,b;return h!==void 0?(f=o.resolve(h)._then(s,null,null,d,void 0),t.cancellation()&&h instanceof o&&f._setOnCancel(h)):(f=new o(e),b=setTimeout(function(){f._fulfill()},+d),t.cancellation()&&f._setOnCancel(new r(b)),f._captureStackTrace()),f._setAsyncGuaranteed(),f};o.prototype.delay=function(d){return a(d,this)};var c=function(d,h,f){var b;typeof h!="string"?h instanceof Error?b=h:b=new i("operation timed out"):b=new i(h),n.markAsOriginatingFromRejection(b),d._attachExtraTrace(b),d._reject(b),f?.cancel()};function l(d){return clearTimeout(this.handle),d}function u(d){throw clearTimeout(this.handle),d}o.prototype.timeout=function(d,h){d=+d;var f,b,p=new r(setTimeout(function(){f.isPending()&&c(f,h,b)},d));return t.cancellation()?(b=this.then(),f=b._then(l,u,void 0,p,void 0),f._setOnCancel(p)):f=this._then(l,u,void 0,p,void 0),f}}),oa}var ca,ml;function Ag(){return ml||(ml=1,ca=function(o,e,t,n,i,r){var s=hn(),a=s.TypeError,c=ze(),l=c.errorObj,u=c.tryCatch,d=[];function h(b,p,g){for(var m=0;m<p.length;++m){g._pushContext();var y=u(p[m])(b);if(g._popContext(),y===l){g._pushContext();var v=o.reject(l.e);return g._popContext(),v}var _=n(y,g);if(_ instanceof o)return _}return null}function f(b,p,g,m){if(r.cancellation()){var y=new o(t),v=this._finallyPromise=new o(t);this._promise=y.lastly(function(){return v}),y._captureStackTrace(),y._setOnCancel(this)}else{var _=this._promise=new o(t);_._captureStackTrace()}this._stack=m,this._generatorFunction=b,this._receiver=p,this._generator=void 0,this._yieldHandlers=typeof g=="function"?[g].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(f,i),f.prototype._isResolved=function(){return this._promise===null},f.prototype._cleanup=function(){this._promise=this._generator=null,r.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){if(!this._isResolved()){var b=typeof this._generator.return<"u",p;if(b)this._promise._pushContext(),p=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var g=new o.CancellationError("generator .return() sentinel");o.coroutine.returnSentinel=g,this._promise._attachExtraTrace(g),this._promise._pushContext(),p=u(this._generator.throw).call(this._generator,g),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(p)}},f.prototype._promiseFulfilled=function(b){this._yieldedPromise=null,this._promise._pushContext();var p=u(this._generator.next).call(this._generator,b);this._promise._popContext(),this._continue(p)},f.prototype._promiseRejected=function(b){this._yieldedPromise=null,this._promise._attachExtraTrace(b),this._promise._pushContext();var p=u(this._generator.throw).call(this._generator,b);this._promise._popContext(),this._continue(p)},f.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof o){var b=this._yieldedPromise;this._yieldedPromise=null,b.cancel()}},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(b){var p=this._promise;if(b===l)return this._cleanup(),this._cancellationPhase?p.cancel():p._rejectCallback(b.e,!1);var g=b.value;if(b.done===!0)return this._cleanup(),this._cancellationPhase?p.cancel():p._resolveCallback(g);var m=n(g,this._promise);if(!(m instanceof o)&&(m=h(m,this._yieldHandlers,this._promise),m===null)){this._promiseRejected(new a(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",g)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}m=m._target();var y=m._bitField;(y&50397184)===0?(this._yieldedPromise=m,m._proxy(this,null)):(y&33554432)!==0?o._async.invoke(this._promiseFulfilled,this,m._value()):(y&16777216)!==0?o._async.invoke(this._promiseRejected,this,m._reason()):this._promiseCancelled()},o.coroutine=function(b,p){if(typeof b!="function")throw new a(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var g=Object(p).yieldHandler,m=f,y=new Error().stack;return function(){var v=b.apply(this,arguments),_=new m(void 0,void 0,g,y),x=_.promise();return _._generator=v,_._promiseFulfilled(void 0),x}},o.coroutine.addYieldHandler=function(b){if(typeof b!="function")throw new a("expecting a function but got "+c.classString(b));d.push(b)},o.spawn=function(b){if(r.deprecated("Promise.spawn()","Promise.coroutine()"),typeof b!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var p=new f(b,this),g=p.promise();return p._run(o.spawn),g}}),ca}var la,bl;function Tg(){return bl||(bl=1,la=function(o){var e=ze(),t=o._async,n=e.tryCatch,i=e.errorObj;function r(c,l){var u=this;if(!e.isArray(c))return s.call(u,c,l);var d=n(l).apply(u._boundValue(),[null].concat(c));d===i&&t.throwLater(d.e)}function s(c,l){var u=this,d=u._boundValue(),h=c===void 0?n(l).call(d,null):n(l).call(d,null,c);h===i&&t.throwLater(h.e)}function a(c,l){var u=this;if(!c){var d=new Error(c+"");d.cause=c,c=d}var h=n(l).call(u._boundValue(),c);h===i&&t.throwLater(h.e)}o.prototype.asCallback=o.prototype.nodeify=function(c,l){if(typeof c=="function"){var u=s;l!==void 0&&Object(l).spread&&(u=r),this._then(u,a,void 0,this,c)}return this}}),la}var ua,yl;function Eg(){return yl||(yl=1,ua=function(o,e){var t={},n=ze(),i=mf(),r=n.withAppended,s=n.maybeWrapAsError,a=n.canEvaluate,c=hn().TypeError,l="Async",u={__isPromisified__:!0},d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],h=new RegExp("^(?:"+d.join("|")+")$"),f=function(N){return n.isIdentifier(N)&&N.charAt(0)!=="_"&&N!=="constructor"};function b(N){return!h.test(N)}function p(N){try{return N.__isPromisified__===!0}catch{return!1}}function g(N,T,W){var k=n.getDataPropertyOrDefault(N,T+W,u);return k?p(k):!1}function m(N,T,W){for(var k=0;k<N.length;k+=2){var B=N[k];if(W.test(B)){for(var H=B.replace(W,""),z=0;z<N.length;z+=2)if(N[z]===H)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",T))}}}function y(N,T,W,k){for(var B=n.inheritedDataKeys(N),H=[],z=0;z<B.length;++z){var ee=B[z],O=N[ee],$=k===f?!0:f(ee);typeof O=="function"&&!p(O)&&!g(N,ee,T)&&k(ee,O,N,$)&&H.push(ee,O)}return m(H,T,W),H}var v=function(N){return N.replace(/([$])/,"\\$")},_;{var x=function(N){for(var T=[N],W=Math.max(0,N-1-3),k=N-1;k>=W;--k)T.push(k);for(var k=N+1;k<=3;++k)T.push(k);return T},D=function(N){return n.filledRange(N,"_arg","")},A=function(N){return n.filledRange(Math.max(N,3),"_arg","")},S=function(N){return typeof N.length=="number"?Math.max(Math.min(N.length,1024),0):0};_=function(N,T,W,k,B,H){var z=Math.max(0,S(k)-1),ee=x(z),O=typeof N=="string"||T===t;function $(ue){var oe=D(ue).join(", "),le=ue>0?", ":"",fe;return O?fe=`ret = callback.call(this, {{args}}, nodeback); break;
`:fe=T===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,fe.replace("{{args}}",oe).replace(", ",le)}function X(){for(var ue="",oe=0;oe<ee.length;++oe)ue+="case "+ee[oe]+":"+$(ee[oe]);return ue+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",O?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ue}var ne=typeof N=="string"?"this != null ? this['"+N+"'] : fn":"fn",ie=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+H+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",X()).replace("[GetFunctionCode]",ne);return ie=ie.replace("Parameters",A(z)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ie)(o,k,T,r,s,i,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}}function E(N,T,W,k,B,H){var z=(function(){return this})(),ee=N;typeof ee=="string"&&(N=k);function O(){var $=T;T===t&&($=this);var X=new o(e);X._captureStackTrace();var ne=typeof ee=="string"&&this!==z?this[ee]:N,ie=i(X,H);try{ne.apply($,r(arguments,ie))}catch(ue){X._rejectCallback(s(ue),!0,!0)}return X._isFateSealed()||X._setAsyncGuaranteed(),X}return n.notEnumerableProp(O,"__isPromisified__",!0),O}var R=a?_:E;function q(N,T,W,k,B){for(var H=new RegExp(v(T)+"$"),z=y(N,T,H,W),ee=0,O=z.length;ee<O;ee+=2){var $=z[ee],X=z[ee+1],ne=$+T;if(k===R)N[ne]=R($,t,$,X,T,B);else{var ie=k(X,function(){return R($,t,$,X,T,B)});n.notEnumerableProp(ie,"__isPromisified__",!0),N[ne]=ie}}return n.toFastProperties(N),N}function C(N,T,W){return R(N,T,void 0,N,null,W)}o.promisify=function(N,T){if(typeof N!="function")throw new c("expecting a function but got "+n.classString(N));if(p(N))return N;T=Object(T);var W=T.context===void 0?t:T.context,k=!!T.multiArgs,B=C(N,W,k);return n.copyDescriptors(N,B,b),B},o.promisifyAll=function(N,T){if(typeof N!="function"&&typeof N!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);T=Object(T);var W=!!T.multiArgs,k=T.suffix;typeof k!="string"&&(k=l);var B=T.filter;typeof B!="function"&&(B=f);var H=T.promisifier;if(typeof H!="function"&&(H=R),!n.isIdentifier(k))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var z=n.inheritedDataKeys(N),ee=0;ee<z.length;++ee){var O=N[z[ee]];z[ee]!=="constructor"&&n.isClass(O)&&(q(O.prototype,k,B,H,W),q(O,k,B,H,W))}return q(N,k,B,H,W)}}),ua}var da,vl;function Cg(){return vl||(vl=1,da=function(o,e,t,n){var i=ze(),r=i.isObject,s=li(),a;typeof Map=="function"&&(a=Map);var c=(function(){var h=0,f=0;function b(p,g){this[h]=p,this[h+f]=g,h++}return function(g){f=g.size,h=0;var m=new Array(g.size*2);return g.forEach(b,m),m}})(),l=function(h){for(var f=new a,b=h.length/2|0,p=0;p<b;++p){var g=h[b+p],m=h[p];f.set(g,m)}return f};function u(h){var f=!1,b;if(a!==void 0&&h instanceof a)b=c(h),f=!0;else{var p=s.keys(h),g=p.length;b=new Array(g*2);for(var m=0;m<g;++m){var y=p[m];b[m]=h[y],b[m+g]=y}}this.constructor$(b),this._isMap=f,this._init$(void 0,-3)}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(h,f){this._values[f]=h;var b=++this._totalResolved;if(b>=this._length){var p;if(this._isMap)p=l(this._values);else{p={};for(var g=this.length(),m=0,y=this.length();m<y;++m)p[this._values[m+g]]=this._values[m]}return this._resolve(p),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(h){return h>>1};function d(h){var f,b=t(h);if(r(b))b instanceof o?f=b._then(o.props,void 0,void 0,void 0,void 0):f=new u(b).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return b instanceof o&&f._propagateFrom(b,2),f}o.prototype.props=function(){return d(this)},o.props=function(h){return d(h)}}),da}var ha,xl;function Sg(){return xl||(xl=1,ha=function(o,e,t,n){var i=ze(),r=function(a){return a.then(function(c){return s(c,a)})};function s(a,c){var l=t(a);if(l instanceof o)return r(l);if(a=i.asArray(a),a===null)return n("expecting an array or an iterable object but got "+i.classString(a));var u=new o(e);c!==void 0&&u._propagateFrom(c,3);for(var d=u._fulfill,h=u._reject,f=0,b=a.length;f<b;++f){var p=a[f];p===void 0&&!(f in a)||o.cast(p)._then(d,h,void 0,u,null)}return u}o.race=function(a){return s(a,void 0)},o.prototype.race=function(){return s(this,void 0)}}),ha}var fa,Dl;function Ug(){return Dl||(Dl=1,fa=function(o,e,t,n,i,r){var s=o._getDomain,a=ze(),c=a.tryCatch;function l(b,p,g,m){this.constructor$(b);var y=s();this._fn=y===null?p:a.domainBind(y,p),g!==void 0&&(g=o.resolve(g),g._attachCancellationCallback(this)),this._initialValue=g,this._currentCancellable=null,m===i?this._eachValues=Array(this._length):m===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}a.inherits(l,e),l.prototype._gotAccum=function(b){this._eachValues!==void 0&&this._eachValues!==null&&b!==i&&this._eachValues.push(b)},l.prototype._eachComplete=function(b){return this._eachValues!==null&&this._eachValues.push(b),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(b){this._promise._resolveCallback(b),this._values=null},l.prototype._resultCancelled=function(b){if(b===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof o&&this._currentCancellable.cancel(),this._initialValue instanceof o&&this._initialValue.cancel())},l.prototype._iterate=function(b){this._values=b;var p,g,m=b.length;if(this._initialValue!==void 0?(p=this._initialValue,g=0):(p=o.resolve(b[0]),g=1),this._currentCancellable=p,!p.isRejected())for(;g<m;++g){var y={accum:null,value:b[g],index:g,length:m,array:this};p=p._then(h,void 0,void 0,y,void 0)}this._eachValues!==void 0&&(p=p._then(this._eachComplete,void 0,void 0,this,void 0)),p._then(u,u,void 0,p,this)},o.prototype.reduce=function(b,p){return d(this,b,p,null)},o.reduce=function(b,p,g,m){return d(b,p,g,m)};function u(b,p){this.isFulfilled()?p._resolve(b):p._reject(b)}function d(b,p,g,m){if(typeof p!="function")return t("expecting a function but got "+a.classString(p));var y=new l(b,p,g,m);return y.promise()}function h(b){this.accum=b,this.array._gotAccum(b);var p=n(this.value,this.array._promise);return p instanceof o?(this.array._currentCancellable=p,p._then(f,void 0,void 0,this,void 0)):f.call(this,p)}function f(b){var p=this.array,g=p._promise,m=c(p._fn);g._pushContext();var y;p._eachValues!==void 0?y=m.call(g._boundValue(),b,this.index,this.length):y=m.call(g._boundValue(),this.accum,b,this.index,this.length),y instanceof o&&(p._currentCancellable=y);var v=g._popContext();return r.checkForgottenReturns(y,v,p._eachValues!==void 0?"Promise.each":"Promise.reduce",g),y}}),fa}var pa,_l;function Fg(){return _l||(_l=1,pa=function(o,e,t){var n=o.PromiseInspection,i=ze();function r(s){this.constructor$(s)}i.inherits(r,e),r.prototype._promiseResolved=function(s,a){this._values[s]=a;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},r.prototype._promiseFulfilled=function(s,a){var c=new n;return c._bitField=33554432,c._settledValueField=s,this._promiseResolved(a,c)},r.prototype._promiseRejected=function(s,a){var c=new n;return c._bitField=16777216,c._settledValueField=s,this._promiseResolved(a,c)},o.settle=function(s){return t.deprecated(".settle()",".reflect()"),new r(s).promise()},o.prototype.settle=function(){return o.settle(this)}}),pa}var ga,wl;function kg(){return wl||(wl=1,ga=function(o,e,t){var n=ze(),i=hn().RangeError,r=hn().AggregateError,s=n.isArray,a={};function c(u){this.constructor$(u),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var u=s(this._values);!this._isResolved()&&u&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(u){this._howMany=u},c.prototype._promiseFulfilled=function(u){return this._addFulfilled(u),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(u){return this._addRejected(u),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof o||this._values==null?this._cancel():(this._addRejected(a),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var u=new r,d=this.length();d<this._values.length;++d)this._values[d]!==a&&u.push(this._values[d]);return u.length>0?this._reject(u):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(u){this._values.push(u)},c.prototype._addFulfilled=function(u){this._values[this._totalResolved++]=u},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(u){var d="Input array must contain at least "+this._howMany+" items but contains only "+u+" items";return new i(d)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function l(u,d){if((d|0)!==d||d<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var h=new c(u),f=h.promise();return h.setHowMany(d),h.init(),f}o.some=function(u,d){return l(u,d)},o.prototype.some=function(u){return l(this,u)},o._SomePromiseArray=c}),ga}var ma,Al;function Rg(){return Al||(Al=1,ma=function(o,e){var t=o.map;o.prototype.filter=function(n,i){return t(this,n,i,e)},o.filter=function(n,i,r){return t(n,i,r,e)}}),ma}var ba,Tl;function Bg(){return Tl||(Tl=1,ba=function(o,e){var t=o.reduce,n=o.all;function i(){return n(this)}function r(s,a){return t(s,a,e,e)}o.prototype.each=function(s){return t(this,s,e,0)._then(i,void 0,void 0,this,void 0)},o.prototype.mapSeries=function(s){return t(this,s,e,e)},o.each=function(s,a){return t(s,a,e,0)._then(i,void 0,void 0,s,void 0)},o.mapSeries=r}),ba}var ya,El;function Ng(){return El||(El=1,ya=function(o){var e=o._SomePromiseArray;function t(n){var i=new e(n),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}o.any=function(n){return t(n)},o.prototype.any=function(){return t(this)}}),ya}var Cl;function Ig(){return Cl||(Cl=1,(function(o){o.exports=function(){var e=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new C.PromiseInspection(this._target())},n=function(k){return C.reject(new h(k))};function i(){}var r={},s=ze(),a;s.isNode?a=function(){var k=Ve.domain;return k===void 0&&(k=null),k}:a=function(){return null},s.notEnumerableProp(C,"_getDomain",a);var c=li(),l=og(),u=new l;c.defineProperty(C,"_async",{value:u});var d=hn(),h=C.TypeError=d.TypeError;C.RangeError=d.RangeError;var f=C.CancellationError=d.CancellationError;C.TimeoutError=d.TimeoutError,C.OperationalError=d.OperationalError,C.RejectionError=d.OperationalError,C.AggregateError=d.AggregateError;var b=function(){},p={},g={},m=cg()(C,b),y=lg()(C,b,m,n,i),v=ug()(C),_=v.create,x=dg()(C,v);x.CapturedTrace;var D=hg()(C,m),A=fg()(g),S=mf(),E=s.errorObj,R=s.tryCatch;function q(k,B){if(typeof B!="function")throw new h("expecting a function but got "+s.classString(B));if(k.constructor!==C)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function C(k){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,k!==b&&(q(this,k),this._resolveFromExecutor(k)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(k){var B=arguments.length;if(B>1){var H=new Array(B-1),z=0,ee;for(ee=0;ee<B-1;++ee){var O=arguments[ee];if(s.isObject(O))H[z++]=O;else return n("expecting an object but got A catch statement predicate "+s.classString(O))}return H.length=z,k=arguments[ee],this.then(void 0,A(H,k,this))}return this.then(void 0,k)},C.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},C.prototype.then=function(k,B){if(x.warnings()&&arguments.length>0&&typeof k!="function"&&typeof B!="function"){var H=".then() only accepts functions but was passed: "+s.classString(k);arguments.length>1&&(H+=", "+s.classString(B)),this._warn(H)}return this._then(k,B,void 0,void 0,void 0)},C.prototype.done=function(k,B){var H=this._then(k,B,void 0,void 0,void 0);H._setIsFinal()},C.prototype.spread=function(k){return typeof k!="function"?n("expecting a function but got "+s.classString(k)):this.all()._then(k,void 0,void 0,p,void 0)},C.prototype.toJSON=function(){var k={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(k.fulfillmentValue=this.value(),k.isFulfilled=!0):this.isRejected()&&(k.rejectionReason=this.reason(),k.isRejected=!0),k},C.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new y(this).promise()},C.prototype.error=function(k){return this.caught(s.originatesFromRejection,k)},C.getNewLibraryCopy=o.exports,C.is=function(k){return k instanceof C},C.fromNode=C.fromCallback=function(k){var B=new C(b);B._captureStackTrace();var H=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,z=R(k)(S(B,H));return z===E&&B._rejectCallback(z.e,!0),B._isFateSealed()||B._setAsyncGuaranteed(),B},C.all=function(k){return new y(k).promise()},C.cast=function(k){var B=m(k);return B instanceof C||(B=new C(b),B._captureStackTrace(),B._setFulfilled(),B._rejectionHandler0=k),B},C.resolve=C.fulfilled=C.cast,C.reject=C.rejected=function(k){var B=new C(b);return B._captureStackTrace(),B._rejectCallback(k,!0),B},C.setScheduler=function(k){if(typeof k!="function")throw new h("expecting a function but got "+s.classString(k));return u.setScheduler(k)},C.prototype._then=function(k,B,H,z,ee){var O=ee!==void 0,$=O?ee:new C(b),X=this._target(),ne=X._bitField;O||($._propagateFrom(this,3),$._captureStackTrace(),z===void 0&&(this._bitField&2097152)!==0&&((ne&50397184)!==0?z=this._boundValue():z=X===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,$));var ie=a();if((ne&50397184)!==0){var ue,oe,le=X._settlePromiseCtx;(ne&33554432)!==0?(oe=X._rejectionHandler0,ue=k):(ne&16777216)!==0?(oe=X._fulfillmentHandler0,ue=B,X._unsetRejectionIsUnhandled()):(le=X._settlePromiseLateCancellationObserver,oe=new f("late cancellation observer"),X._attachExtraTrace(oe),ue=B),u.invoke(le,X,{handler:ie===null?ue:typeof ue=="function"&&s.domainBind(ie,ue),promise:$,receiver:z,value:oe})}else X._addCallbacks(k,B,$,z,ie);return $},C.prototype._length=function(){return this._bitField&65535},C.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},C.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},C.prototype._setLength=function(k){this._bitField=this._bitField&-65536|k&65535},C.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},C.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},C.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},C.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},C.prototype._isFinal=function(){return(this._bitField&4194304)>0},C.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},C.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},C.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},C.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},C.prototype._receiverAt=function(k){var B=k===0?this._receiver0:this[k*4-4+3];if(B!==r)return B===void 0&&this._isBound()?this._boundValue():B},C.prototype._promiseAt=function(k){return this[k*4-4+2]},C.prototype._fulfillmentHandlerAt=function(k){return this[k*4-4+0]},C.prototype._rejectionHandlerAt=function(k){return this[k*4-4+1]},C.prototype._boundValue=function(){},C.prototype._migrateCallback0=function(k){k._bitField;var B=k._fulfillmentHandler0,H=k._rejectionHandler0,z=k._promise0,ee=k._receiverAt(0);ee===void 0&&(ee=r),this._addCallbacks(B,H,z,ee,null)},C.prototype._migrateCallbackAt=function(k,B){var H=k._fulfillmentHandlerAt(B),z=k._rejectionHandlerAt(B),ee=k._promiseAt(B),O=k._receiverAt(B);O===void 0&&(O=r),this._addCallbacks(H,z,ee,O,null)},C.prototype._addCallbacks=function(k,B,H,z,ee){var O=this._length();if(O>=65531&&(O=0,this._setLength(0)),O===0)this._promise0=H,this._receiver0=z,typeof k=="function"&&(this._fulfillmentHandler0=ee===null?k:s.domainBind(ee,k)),typeof B=="function"&&(this._rejectionHandler0=ee===null?B:s.domainBind(ee,B));else{var $=O*4-4;this[$+2]=H,this[$+3]=z,typeof k=="function"&&(this[$+0]=ee===null?k:s.domainBind(ee,k)),typeof B=="function"&&(this[$+1]=ee===null?B:s.domainBind(ee,B))}return this._setLength(O+1),O},C.prototype._proxy=function(k,B){this._addCallbacks(void 0,void 0,B,k,null)},C.prototype._resolveCallback=function(k,B){if((this._bitField&117506048)===0){if(k===this)return this._rejectCallback(e(),!1);var H=m(k,this);if(!(H instanceof C))return this._fulfill(k);B&&this._propagateFrom(H,2);var z=H._target();if(z===this){this._reject(e());return}var ee=z._bitField;if((ee&50397184)===0){var O=this._length();O>0&&z._migrateCallback0(this);for(var $=1;$<O;++$)z._migrateCallbackAt(this,$);this._setFollowing(),this._setLength(0),this._setFollowee(z)}else if((ee&33554432)!==0)this._fulfill(z._value());else if((ee&16777216)!==0)this._reject(z._reason());else{var X=new f("late cancellation observer");z._attachExtraTrace(X),this._reject(X)}}},C.prototype._rejectCallback=function(k,B,H){var z=s.ensureErrorObject(k),ee=z===k;if(!ee&&!H&&x.warnings()){var O="a promise was rejected with a non-error: "+s.classString(k);this._warn(O,!0)}this._attachExtraTrace(z,B?ee:!1),this._reject(k)},C.prototype._resolveFromExecutor=function(k){var B=this;this._captureStackTrace(),this._pushContext();var H=!0,z=this._execute(k,function(ee){B._resolveCallback(ee)},function(ee){B._rejectCallback(ee,H)});H=!1,this._popContext(),z!==void 0&&B._rejectCallback(z,!0)},C.prototype._settlePromiseFromHandler=function(k,B,H,z){var ee=z._bitField;if((ee&65536)===0){z._pushContext();var O;B===p?!H||typeof H.length!="number"?(O=E,O.e=new h("cannot .spread() a non-array: "+s.classString(H))):O=R(k).apply(this._boundValue(),H):O=R(k).call(B,H);var $=z._popContext();ee=z._bitField,(ee&65536)===0&&(O===g?z._reject(H):O===E?z._rejectCallback(O.e,!1):(x.checkForgottenReturns(O,$,"",z,this),z._resolveCallback(O)))}},C.prototype._target=function(){for(var k=this;k._isFollowing();)k=k._followee();return k},C.prototype._followee=function(){return this._rejectionHandler0},C.prototype._setFollowee=function(k){this._rejectionHandler0=k},C.prototype._settlePromise=function(k,B,H,z){var ee=k instanceof C,O=this._bitField,$=(O&134217728)!==0;(O&65536)!==0?(ee&&k._invokeInternalOnCancel(),H instanceof D&&H.isFinallyHandler()?(H.cancelPromise=k,R(B).call(H,z)===E&&k._reject(E.e)):B===t?k._fulfill(t.call(H)):H instanceof i?H._promiseCancelled(k):ee||k instanceof y?k._cancel():H.cancel()):typeof B=="function"?ee?($&&k._setAsyncGuaranteed(),this._settlePromiseFromHandler(B,H,z,k)):B.call(H,z,k):H instanceof i?H._isResolved()||((O&33554432)!==0?H._promiseFulfilled(z,k):H._promiseRejected(z,k)):ee&&($&&k._setAsyncGuaranteed(),(O&33554432)!==0?k._fulfill(z):k._reject(z))},C.prototype._settlePromiseLateCancellationObserver=function(k){var B=k.handler,H=k.promise,z=k.receiver,ee=k.value;typeof B=="function"?H instanceof C?this._settlePromiseFromHandler(B,z,ee,H):B.call(z,ee,H):H instanceof C&&H._reject(ee)},C.prototype._settlePromiseCtx=function(k){this._settlePromise(k.promise,k.handler,k.receiver,k.value)},C.prototype._settlePromise0=function(k,B,H){var z=this._promise0,ee=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(z,k,ee,B)},C.prototype._clearCallbackDataAtIndex=function(k){var B=k*4-4;this[B+2]=this[B+3]=this[B+0]=this[B+1]=void 0},C.prototype._fulfill=function(k){var B=this._bitField;if(!((B&117506048)>>>16)){if(k===this){var H=e();return this._attachExtraTrace(H),this._reject(H)}this._setFulfilled(),this._rejectionHandler0=k,(B&65535)>0&&((B&134217728)!==0?this._settlePromises():u.settlePromises(this))}},C.prototype._reject=function(k){var B=this._bitField;if(!((B&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=k,this._isFinal())return u.fatalError(k,s.isNode);(B&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},C.prototype._fulfillPromises=function(k,B){for(var H=1;H<k;H++){var z=this._fulfillmentHandlerAt(H),ee=this._promiseAt(H),O=this._receiverAt(H);this._clearCallbackDataAtIndex(H),this._settlePromise(ee,z,O,B)}},C.prototype._rejectPromises=function(k,B){for(var H=1;H<k;H++){var z=this._rejectionHandlerAt(H),ee=this._promiseAt(H),O=this._receiverAt(H);this._clearCallbackDataAtIndex(H),this._settlePromise(ee,z,O,B)}},C.prototype._settlePromises=function(){var k=this._bitField,B=k&65535;if(B>0){if((k&16842752)!==0){var H=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,H,k),this._rejectPromises(B,H)}else{var z=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,z,k),this._fulfillPromises(B,z)}this._setLength(0)}this._clearCancellationData()},C.prototype._settledValue=function(){var k=this._bitField;if((k&33554432)!==0)return this._rejectionHandler0;if((k&16777216)!==0)return this._fulfillmentHandler0};function N(k){this.promise._resolveCallback(k)}function T(k){this.promise._rejectCallback(k,!1)}C.defer=C.pending=function(){x.deprecated("Promise.defer","new Promise");var k=new C(b);return{promise:k,resolve:N,reject:T}},s.notEnumerableProp(C,"_makeSelfResolutionError",e),pg()(C,b,m,n,x),gg()(C,b,m,x),mg()(C,y,n,x),bg()(C),yg()(C),vg()(C,y,m,b,u,a),C.Promise=C,C.version="3.4.7",xg()(C,y,n,m,b,x),Dg()(C),_g()(C,n,m,_,b,x),wg()(C,b,x),Ag()(C,n,b,m,i,x),Tg()(C),Eg()(C,b),Cg()(C,y,m,n),Sg()(C,b,m,n),Ug()(C,y,n,m,b,x),Fg()(C,y,x),kg()(C,y,n),Rg()(C,b),Bg()(C,b),Ng()(C),s.toFastProperties(C),s.toFastProperties(C.prototype);function W(k){var B=new C(b);B._fulfillmentHandler0=k,B._rejectionHandler0=k,B._promise0=k,B._receiver0=k}return W({a:1}),W({b:2}),W({c:3}),W(1),W(function(){}),W(void 0),W(!1),W(new C(b)),x.setBounds(l.firstLineError,s.lastLineError),C}})(js)),js.exports}var Sl;function yn(){if(Sl)return Nt;Sl=1;var o=Je,e=Ig()();Nt.defer=t,Nt.when=e.resolve,Nt.resolve=e.resolve,Nt.all=e.all,Nt.props=e.props,Nt.reject=e.reject,Nt.promisify=e.promisify,Nt.mapSeries=e.mapSeries,Nt.attempt=e.attempt,Nt.nfcall=function(n){var i=Array.prototype.slice.call(arguments,1),r=e.promisify(n);return r.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(n){return this.then(function(i){var r=o.extend({},i,n(i));return e.props(r)})};function t(){var n,i,r=new e.Promise(function(s,a){n=s,i=a});return{resolve:n,reject:i,promise:r}}return Nt}var Le={},Ul;function In(){if(Ul)return Le;Ul=1;var o=Je,e=Le.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(D,A){return A=A||{},{type:e.document,children:D,notes:A.notes||new d({}),comments:A.comments||[]}}function n(D,A){A=A||{};var S=A.indent||{};return{type:e.paragraph,children:D,styleId:A.styleId||null,styleName:A.styleName||null,numbering:A.numbering||null,alignment:A.alignment||null,indent:{start:S.start||null,end:S.end||null,firstLine:S.firstLine||null,hanging:S.hanging||null}}}function i(D,A){return A=A||{},{type:e.run,children:D,styleId:A.styleId||null,styleName:A.styleName||null,isBold:!!A.isBold,isUnderline:!!A.isUnderline,isItalic:!!A.isItalic,isStrikethrough:!!A.isStrikethrough,isAllCaps:!!A.isAllCaps,isSmallCaps:!!A.isSmallCaps,verticalAlignment:A.verticalAlignment||r.baseline,font:A.font||null,fontSize:A.fontSize||null,highlight:A.highlight||null}}var r={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function s(D){return{type:e.text,value:D}}function a(){return{type:e.tab}}function c(D){return{type:e.checkbox,checked:D.checked}}function l(D,A){return{type:e.hyperlink,children:D,href:A.href,anchor:A.anchor,targetFrame:A.targetFrame}}function u(D){return{type:e.noteReference,noteType:D.noteType,noteId:D.noteId}}function d(D){this._notes=o.indexBy(D,function(A){return p(A.noteType,A.noteId)})}d.prototype.resolve=function(D){return this.findNoteByKey(p(D.noteType,D.noteId))},d.prototype.findNoteByKey=function(D){return this._notes[D]||null};function h(D){return{type:e.note,noteType:D.noteType,noteId:D.noteId,body:D.body}}function f(D){return{type:e.commentReference,commentId:D.commentId}}function b(D){return{type:e.comment,commentId:D.commentId,body:D.body,authorName:D.authorName,authorInitials:D.authorInitials}}function p(D,A){return D+"-"+A}function g(D){return{type:e.image,read:function(A){return A?D.readImage(A):D.readImage().then(function(S){return pt.from(S)})},readAsArrayBuffer:function(){return D.readImage()},readAsBase64String:function(){return D.readImage("base64")},readAsBuffer:function(){return D.readImage().then(function(A){return pt.from(A)})},altText:D.altText,contentType:D.contentType}}function m(D,A){return A=A||{},{type:e.table,children:D,styleId:A.styleId||null,styleName:A.styleName||null}}function y(D,A){return A=A||{},{type:e.tableRow,children:D,isHeader:A.isHeader||!1}}function v(D,A){return A=A||{},{type:e.tableCell,children:D,colSpan:A.colSpan==null?1:A.colSpan,rowSpan:A.rowSpan==null?1:A.rowSpan}}function _(D){return{type:e.break,breakType:D}}function x(D){return{type:e.bookmarkStart,name:D.name}}return Le.document=Le.Document=t,Le.paragraph=Le.Paragraph=n,Le.run=Le.Run=i,Le.text=Le.Text=s,Le.tab=Le.Tab=a,Le.checkbox=Le.Checkbox=c,Le.Hyperlink=l,Le.noteReference=Le.NoteReference=u,Le.Notes=d,Le.Note=h,Le.commentReference=f,Le.comment=b,Le.Image=g,Le.Table=m,Le.TableRow=y,Le.TableCell=v,Le.lineBreak=_("line"),Le.pageBreak=_("page"),Le.columnBreak=_("column"),Le.BookmarkStart=x,Le.verticalAlignment=r,Le}var Wn={},Fl;function sn(){if(Fl)return Wn;Fl=1;var o=Je;Wn.Result=e,Wn.success=t,Wn.warning=n,Wn.error=i;function e(c,l){this.value=c,this.messages=l||[]}e.prototype.map=function(c){return new e(c(this.value),this.messages)},e.prototype.flatMap=function(c){var l=c(this.value);return new e(l.value,r([this,l]))},e.prototype.flatMapThen=function(c){var l=this;return c(this.value).then(function(u){return new e(u.value,r([l,u]))})},e.combine=function(c){var l=o.flatten(o.pluck(c,"value")),u=r(c);return new e(l,u)};function t(c){return new e(c,[])}function n(c){return{type:"warning",message:c}}function i(c){return{type:"error",message:c.message,error:c}}function r(c){var l=[];return o.flatten(o.pluck(c,"messages"),!0).forEach(function(u){s(l,u)||l.push(u)}),l}function s(c,l){return o.find(c,a.bind(null,l))!==void 0}function a(c,l){return c.type===l.type&&c.message===l.message}return Wn}var hi={},fi={},kl;function Mg(){if(kl)return fi;kl=1,fi.byteLength=a,fi.toByteArray=l,fi.fromByteArray=h;for(var o=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=n.length;i<r;++i)o[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(f){var b=f.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=f.indexOf("=");p===-1&&(p=b);var g=p===b?0:4-p%4;return[p,g]}function a(f){var b=s(f),p=b[0],g=b[1];return(p+g)*3/4-g}function c(f,b,p){return(b+p)*3/4-p}function l(f){var b,p=s(f),g=p[0],m=p[1],y=new t(c(f,g,m)),v=0,_=m>0?g-4:g,x;for(x=0;x<_;x+=4)b=e[f.charCodeAt(x)]<<18|e[f.charCodeAt(x+1)]<<12|e[f.charCodeAt(x+2)]<<6|e[f.charCodeAt(x+3)],y[v++]=b>>16&255,y[v++]=b>>8&255,y[v++]=b&255;return m===2&&(b=e[f.charCodeAt(x)]<<2|e[f.charCodeAt(x+1)]>>4,y[v++]=b&255),m===1&&(b=e[f.charCodeAt(x)]<<10|e[f.charCodeAt(x+1)]<<4|e[f.charCodeAt(x+2)]>>2,y[v++]=b>>8&255,y[v++]=b&255),y}function u(f){return o[f>>18&63]+o[f>>12&63]+o[f>>6&63]+o[f&63]}function d(f,b,p){for(var g,m=[],y=b;y<p;y+=3)g=(f[y]<<16&16711680)+(f[y+1]<<8&65280)+(f[y+2]&255),m.push(u(g));return m.join("")}function h(f){for(var b,p=f.length,g=p%3,m=[],y=16383,v=0,_=p-g;v<_;v+=y)m.push(d(f,v,v+y>_?_:v+y));return g===1?(b=f[p-1],m.push(o[b>>2]+o[b<<4&63]+"==")):g===2&&(b=(f[p-2]<<8)+f[p-1],m.push(o[b>>10]+o[b>>4&63]+o[b<<2&63]+"=")),m.join("")}return fi}var va={exports:{}},Rl;function Lg(){return Rl||(Rl=1,(function(o,e){(function(t){o.exports=t()})(function(){return(function t(n,i,r){function s(l,u){if(!i[l]){if(!n[l]){var d=typeof tr=="function"&&tr;if(!u&&d)return d(l,!0);if(a)return a(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[l]={exports:{}};n[l][0].call(f.exports,function(b){var p=n[l][1][b];return s(p||b)},f,f.exports,t,n,i,r)}return i[l].exports}for(var a=typeof tr=="function"&&tr,c=0;c<r.length;c++)s(r[c]);return s})({1:[function(t,n,i){var r=t("./utils"),s=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var l,u,d,h,f,b,p,g=[],m=0,y=c.length,v=y,_=r.getTypeOf(c)!=="string";m<c.length;)v=y-m,d=_?(l=c[m++],u=m<y?c[m++]:0,m<y?c[m++]:0):(l=c.charCodeAt(m++),u=m<y?c.charCodeAt(m++):0,m<y?c.charCodeAt(m++):0),h=l>>2,f=(3&l)<<4|u>>4,b=1<v?(15&u)<<2|d>>6:64,p=2<v?63&d:64,g.push(a.charAt(h)+a.charAt(f)+a.charAt(b)+a.charAt(p));return g.join("")},i.decode=function(c){var l,u,d,h,f,b,p=0,g=0,m="data:";if(c.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,v=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&v--,c.charAt(c.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|v):new Array(0|v);p<c.length;)l=a.indexOf(c.charAt(p++))<<2|(h=a.indexOf(c.charAt(p++)))>>4,u=(15&h)<<4|(f=a.indexOf(c.charAt(p++)))>>2,d=(3&f)<<6|(b=a.indexOf(c.charAt(p++))),y[g++]=l,f!==64&&(y[g++]=u),b!==64&&(y[g++]=d);return y}},{"./support":30,"./utils":32}],2:[function(t,n,i){var r=t("./external"),s=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function l(u,d,h,f,b){this.compressedSize=u,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=b}l.prototype={getContentWorker:function(){var u=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,d,h){return u.pipe(new a).pipe(new c("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",d)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var r=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var r=t("./utils"),s=(function(){for(var a,c=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;c[l]=a}return c})();n.exports=function(a,c){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?(function(l,u,d,h){var f=s,b=h+d;l^=-1;for(var p=h;p<b;p++)l=l>>>8^f[255&(l^u[p])];return-1^l})(0|c,a,a.length,0):(function(l,u,d,h){var f=s,b=h+d;l^=-1;for(var p=h;p<b;p++)l=l>>>8^f[255&(l^u.charCodeAt(p))];return-1^l})(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var r=null;r=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:r}},{lie:37}],7:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),a=t("./utils"),c=t("./stream/GenericWorker"),l=r?"uint8array":"array";function u(d,h){c.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(u,c),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(l,d.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function r(f,b){var p,g="";for(p=0;p<b;p++)g+=String.fromCharCode(255&f),f>>>=8;return g}function s(f,b,p,g,m,y){var v,_,x=f.file,D=f.compression,A=y!==l.utf8encode,S=a.transformTo("string",y(x.name)),E=a.transformTo("string",l.utf8encode(x.name)),R=x.comment,q=a.transformTo("string",y(R)),C=a.transformTo("string",l.utf8encode(R)),N=E.length!==x.name.length,T=C.length!==R.length,W="",k="",B="",H=x.dir,z=x.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};b&&!p||(ee.crc32=f.crc32,ee.compressedSize=f.compressedSize,ee.uncompressedSize=f.uncompressedSize);var O=0;b&&(O|=8),A||!N&&!T||(O|=2048);var $=0,X=0;H&&($|=16),m==="UNIX"?(X=798,$|=(function(ie,ue){var oe=ie;return ie||(oe=ue?16893:33204),(65535&oe)<<16})(x.unixPermissions,H)):(X=20,$|=(function(ie){return 63&(ie||0)})(x.dosPermissions)),v=z.getUTCHours(),v<<=6,v|=z.getUTCMinutes(),v<<=5,v|=z.getUTCSeconds()/2,_=z.getUTCFullYear()-1980,_<<=4,_|=z.getUTCMonth()+1,_<<=5,_|=z.getUTCDate(),N&&(k=r(1,1)+r(u(S),4)+E,W+="up"+r(k.length,2)+k),T&&(B=r(1,1)+r(u(q),4)+C,W+="uc"+r(B.length,2)+B);var ne="";return ne+=`
\0`,ne+=r(O,2),ne+=D.magic,ne+=r(v,2),ne+=r(_,2),ne+=r(ee.crc32,4),ne+=r(ee.compressedSize,4),ne+=r(ee.uncompressedSize,4),ne+=r(S.length,2),ne+=r(W.length,2),{fileRecord:d.LOCAL_FILE_HEADER+ne+S+W,dirRecord:d.CENTRAL_FILE_HEADER+r(X,2)+ne+r(q.length,2)+"\0\0\0\0"+r($,4)+r(g,4)+S+W+q}}var a=t("../utils"),c=t("../stream/GenericWorker"),l=t("../utf8"),u=t("../crc32"),d=t("../signature");function h(f,b,p,g){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,c),h.prototype.push=function(f){var b=f.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(b+100*(p-g-1))/p:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var b=this.streamFiles&&!f.file.dir;if(b){var p=s(f,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var b=this.streamFiles&&!f.file.dir,p=s(f,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),b)this.push({data:(function(g){return d.DATA_DESCRIPTOR+r(g.crc32,4)+r(g.compressedSize,4)+r(g.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var p=this.bytesWritten-f,g=(function(m,y,v,_,x){var D=a.transformTo("string",x(_));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(m,2)+r(m,2)+r(y,4)+r(v,4)+r(D.length,2)+D})(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var b=this;return f.on("data",function(p){b.processChunk(p)}),f.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),f.on("error",function(p){b.error(p)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var b=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var p=0;p<b.length;p++)try{b[p].error(f)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,b=0;b<f.length;b++)f[b].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var r=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(a,c,l){var u=new s(c.streamFiles,l,c.platform,c.encodeFileName),d=0;try{a.forEach(function(h,f){d++;var b=(function(y,v){var _=y||v,x=r[_];if(!x)throw new Error(_+" is not a valid compression method !");return x})(f.options.compression,c.compression),p=f.options.compressionOptions||c.compressionOptions||{},g=f.dir,m=f.date;f._compressWorker(b,p).withStreamInfo("file",{name:h,dir:g,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new r;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(s,a){return new r().loadAsync(s,a)},r.external=t("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var r=t("./utils"),s=t("./external"),a=t("./utf8"),c=t("./zipEntries"),l=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function d(h){return new s.Promise(function(f,b){var p=h.decompressed.getContentWorker().pipe(new l);p.on("error",function(g){b(g)}).on("end",function(){p.streamInfo.crc32!==h.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(h,f){var b=this;return f=r.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(p){var g=new c(f);return g.load(p),g}).then(function(p){var g=[s.Promise.resolve(p)],m=p.files;if(f.checkCRC32)for(var y=0;y<m.length;y++)g.push(d(m[y]));return s.Promise.all(g)}).then(function(p){for(var g=p.shift(),m=g.files,y=0;y<m.length;y++){var v=m[y],_=v.fileNameStr,x=r.resolve(v.fileNameStr);b.file(x,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:f.createFolders}),v.dir||(b.file(x).unsafeOriginalName=_)}return g.zipComment.length&&(b.comment=g.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var r=t("../utils"),s=t("../stream/GenericWorker");function a(c,l){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}r.inherits(a,s),a.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var r=t("readable-stream").Readable;function s(a,c,l){r.call(this,c),this._helper=a;var u=this;a.on("data",function(d,h){u.push(d)||u._helper.pause(),l&&l(h)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}t("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof pt<"u",newBufferFrom:function(r,s){if(pt.from&&pt.from!==Uint8Array.from)return pt.from(r,s);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new pt(r,s)},allocBuffer:function(r){if(pt.alloc)return pt.alloc(r);var s=new pt(r);return s.fill(0),s},isBuffer:function(r){return pt.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,n,i){function r(x,D,A){var S,E=a.getTypeOf(D),R=a.extend(A||{},u);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(x=m(x)),R.createFolders&&(S=g(x))&&y.call(this,S,!0);var q=E==="string"&&R.binary===!1&&R.base64===!1;A&&A.binary!==void 0||(R.binary=!q),(D instanceof d&&D.uncompressedSize===0||R.dir||!D||D.length===0)&&(R.base64=!1,R.binary=!0,D="",R.compression="STORE",E="string");var C=null;C=D instanceof d||D instanceof c?D:b.isNode&&b.isStream(D)?new p(x,D):a.prepareContent(x,D,R.binary,R.optimizedBinaryString,R.base64);var N=new h(x,C,R);this.files[x]=N}var s=t("./utf8"),a=t("./utils"),c=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),u=t("./defaults"),d=t("./compressedObject"),h=t("./zipObject"),f=t("./generate"),b=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),g=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var D=x.lastIndexOf("/");return 0<D?x.substring(0,D):""},m=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},y=function(x,D){return D=D!==void 0?D:u.createFolders,x=m(x),this.files[x]||r.call(this,x,null,{dir:!0,createFolders:D}),this.files[x]};function v(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var D,A,S;for(D in this.files)S=this.files[D],(A=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&x(A,S)},filter:function(x){var D=[];return this.forEach(function(A,S){x(A,S)&&D.push(S)}),D},file:function(x,D,A){if(arguments.length!==1)return x=this.root+x,r.call(this,x,D,A),this;if(v(x)){var S=x;return this.filter(function(R,q){return!q.dir&&S.test(R)})}var E=this.files[this.root+x];return E&&!E.dir?E:null},folder:function(x){if(!x)return this;if(v(x))return this.filter(function(E,R){return R.dir&&x.test(E)});var D=this.root+x,A=y.call(this,D),S=this.clone();return S.root=A.name,S},remove:function(x){x=this.root+x;var D=this.files[x];if(D||(x.slice(-1)!=="/"&&(x+="/"),D=this.files[x]),D&&!D.dir)delete this.files[x];else for(var A=this.filter(function(E,R){return R.name.slice(0,x.length)===x}),S=0;S<A.length;S++)delete this.files[A[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var D,A={};try{if((A=a.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var S=A.comment||this.comment||"";D=f.generateWorker(this,A,S)}catch(E){(D=new c("error")).error(E)}return new l(D,A.type||"string",A.mimeType)},generateAsync:function(x,D){return this.generateInternalStream(x).accumulate(D)},generateNodeStream:function(x,D){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(D)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var r=t("./DataReader");function s(a){r.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}t("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),l=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===l&&this.data[h+2]===u&&this.data[h+3]===d)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),l=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),h=this.readData(4);return c===h[0]&&l===h[1]&&u===h[2]&&d===h[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var r=t("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,l=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=a,l},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=s},{"../utils":32}],19:[function(t,n,i){var r=t("./Uint8ArrayReader");function s(a){r.call(this,a)}t("../utils").inherits(s,r),s.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var r=t("./DataReader");function s(a){r.call(this,a)}t("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var r=t("./ArrayReader");function s(a){r.call(this,a)}t("../utils").inherits(s,r),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var r=t("../utils"),s=t("../support"),a=t("./ArrayReader"),c=t("./StringReader"),l=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");n.exports=function(d){var h=r.getTypeOf(d);return r.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new l(d):s.uint8array?new u(r.transformTo("uint8array",d)):new a(r.transformTo("array",d)):new c(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var r=t("./GenericWorker"),s=t("../utils");function a(c){r.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(a,r),a.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var r=t("./GenericWorker"),s=t("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,r),a.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var r=t("../utils"),s=t("./GenericWorker");function a(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}r.inherits(a,s),a.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}s.prototype.processChunk.call(this,c)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var r=t("../utils"),s=t("./GenericWorker");function a(c){s.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=r.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}r.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function r(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(c){a.processChunk(c)}),s.on("end",function(){a.end()}),s.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=r},{}],29:[function(t,n,i){var r=t("../utils"),s=t("./ConvertWorker"),a=t("./GenericWorker"),c=t("../base64"),l=t("../support"),u=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(b,p){return new u.Promise(function(g,m){var y=[],v=b._internalType,_=b._outputType,x=b._mimeType;b.on("data",function(D,A){y.push(D),p&&p(A)}).on("error",function(D){y=[],m(D)}).on("end",function(){try{var D=(function(A,S,E){switch(A){case"blob":return r.newBlob(r.transformTo("arraybuffer",S),E);case"base64":return c.encode(S);default:return r.transformTo(A,S)}})(_,(function(A,S){var E,R=0,q=null,C=0;for(E=0;E<S.length;E++)C+=S[E].length;switch(A){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(q=new Uint8Array(C),E=0;E<S.length;E++)q.set(S[E],R),R+=S[E].length;return q;case"nodebuffer":return pt.concat(S);default:throw new Error("concat : unsupported type '"+A+"'")}})(v,y),x);g(D)}catch(A){m(A)}y=[]}).resume()})}function f(b,p,g){var m=p;switch(p){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=p,this._mimeType=g,r.checkSupport(m),this._worker=b.pipe(new s(m)),b.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}f.prototype={accumulate:function(b){return h(this,b)},on:function(b,p){var g=this;return b==="data"?this._worker.on(b,function(m){p.call(g,m.data,m.meta)}):this._worker.on(b,function(){r.delay(p,arguments,g)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof pt<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var r=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),c=t("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function d(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?a.newBufferFrom(f,"utf-8"):(function(b){var p,g,m,y,v,_=b.length,x=0;for(y=0;y<_;y++)(64512&(g=b.charCodeAt(y)))==55296&&y+1<_&&(64512&(m=b.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),y++),x+=g<128?1:g<2048?2:g<65536?3:4;for(p=s.uint8array?new Uint8Array(x):new Array(x),y=v=0;v<x;y++)(64512&(g=b.charCodeAt(y)))==55296&&y+1<_&&(64512&(m=b.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),y++),g<128?p[v++]=g:(g<2048?p[v++]=192|g>>>6:(g<65536?p[v++]=224|g>>>12:(p[v++]=240|g>>>18,p[v++]=128|g>>>12&63),p[v++]=128|g>>>6&63),p[v++]=128|63&g);return p})(f)},i.utf8decode=function(f){return s.nodebuffer?r.transformTo("nodebuffer",f).toString("utf-8"):(function(b){var p,g,m,y,v=b.length,_=new Array(2*v);for(p=g=0;p<v;)if((m=b[p++])<128)_[g++]=m;else if(4<(y=l[m]))_[g++]=65533,p+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&p<v;)m=m<<6|63&b[p++],y--;1<y?_[g++]=65533:m<65536?_[g++]=m:(m-=65536,_[g++]=55296|m>>10&1023,_[g++]=56320|1023&m)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),r.applyFromCharCode(_)})(f=r.transformTo(s.uint8array?"uint8array":"array",f))},r.inherits(d,c),d.prototype.processChunk=function(f){var b=r.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=b;(b=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),b.set(p,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var g=(function(y,v){var _;for((v=v||y.length)>y.length&&(v=y.length),_=v-1;0<=_&&(192&y[_])==128;)_--;return _<0||_===0?v:_+l[y[_]]>v?_:v})(b),m=b;g!==b.length&&(s.uint8array?(m=b.subarray(0,g),this.leftOver=b.subarray(g,b.length)):(m=b.slice(0,g),this.leftOver=b.slice(g,b.length))),this.push({data:i.utf8decode(m),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,r.inherits(h,c),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var r=t("./support"),s=t("./base64"),a=t("./nodejsUtils"),c=t("./external");function l(p){return p}function u(p,g){for(var m=0;m<p.length;++m)g[m]=255&p.charCodeAt(m);return g}t("setimmediate"),i.newBlob=function(p,g){i.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(p),m.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(p,g,m){var y=[],v=0,_=p.length;if(_<=m)return String.fromCharCode.apply(null,p);for(;v<_;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,p.slice(v,Math.min(v+m,_)))):y.push(String.fromCharCode.apply(null,p.subarray(v,Math.min(v+m,_)))),v+=m;return y.join("")},stringifyByChar:function(p){for(var g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);return g},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function h(p){var g=65536,m=i.getTypeOf(p),y=!0;if(m==="uint8array"?y=d.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=d.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return d.stringifyByChunk(p,m,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(p)}function f(p,g){for(var m=0;m<p.length;m++)g[m]=p[m];return g}i.applyFromCharCode=h;var b={};b.string={string:l,array:function(p){return u(p,new Array(p.length))},arraybuffer:function(p){return b.string.uint8array(p).buffer},uint8array:function(p){return u(p,new Uint8Array(p.length))},nodebuffer:function(p){return u(p,a.allocBuffer(p.length))}},b.array={string:h,array:l,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},b.arraybuffer={string:function(p){return h(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:l,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},b.uint8array={string:h,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:l,nodebuffer:function(p){return a.newBufferFrom(p)}},b.nodebuffer={string:h,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return b.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:l},i.transformTo=function(p,g){if(g=g||"",!p)return g;i.checkSupport(p);var m=i.getTypeOf(g);return b[m][p](g)},i.resolve=function(p){for(var g=p.split("/"),m=[],y=0;y<g.length;y++){var v=g[y];v==="."||v===""&&y!==0&&y!==g.length-1||(v===".."?m.pop():m.push(v))}return m.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(p)?"nodebuffer":r.uint8array&&p instanceof Uint8Array?"uint8array":r.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!r[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var g,m,y="";for(m=0;m<(p||"").length;m++)y+="\\x"+((g=p.charCodeAt(m))<16?"0":"")+g.toString(16).toUpperCase();return y},i.delay=function(p,g,m){setImmediate(function(){p.apply(m||null,g||[])})},i.inherits=function(p,g){function m(){}m.prototype=g.prototype,p.prototype=new m},i.extend=function(){var p,g,m={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&m[g]===void 0&&(m[g]=arguments[p][g]);return m},i.prepareContent=function(p,g,m,y,v){return c.Promise.resolve(g).then(function(_){return r.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new c.Promise(function(x,D){var A=new FileReader;A.onload=function(S){x(S.target.result)},A.onerror=function(S){D(S.target.error)},A.readAsArrayBuffer(_)}):_}).then(function(_){var x=i.getTypeOf(_);return x?(x==="arraybuffer"?_=i.transformTo("uint8array",_):x==="string"&&(v?_=s.decode(_):m&&y!==!0&&(_=(function(D){return u(D,r.uint8array?new Uint8Array(D.length):new Array(D.length))})(_))),_):c.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var r=t("./reader/readerFor"),s=t("./utils"),a=t("./signature"),c=t("./zipEntry"),l=t("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var b=this.reader.readString(4)===h;return this.reader.setIndex(f),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=l.uint8array?"uint8array":"array",f=s.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,b=this.zip64EndOfCentralSize-44;0<b;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var b=h-f;if(0<b)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(d){this.reader=r(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var r=t("./reader/readerFor"),s=t("./utils"),a=t("./compressedObject"),c=t("./crc32"),l=t("./utf8"),u=t("./compressions"),d=t("./support");function h(f,b){this.options=f,this.loadOptions=b}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var b,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(g){for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)&&u[m].magic===g)return u[m];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,b,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var b=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(b),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var b,p,g,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)b=f.readInt(2),p=f.readInt(2),g=f.readData(p),this.extraFields[b]={id:b,length:p,value:g};f.setIndex(m)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var p=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var m=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var b=r(f.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:l.utf8decode(b.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var b=r(f.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:l.utf8decode(b.readData(f.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function r(b,p,g){this.name=b,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),c=t("./utf8"),l=t("./compressedObject"),u=t("./stream/GenericWorker");r.prototype={internalStream:function(b){var p=null,g="string";try{if(!b)throw new Error("No output type specified.");var m=(g=b.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(p=p.pipe(new c.Utf8EncodeWorker)),!y&&m&&(p=p.pipe(new c.Utf8DecodeWorker))}catch(v){(p=new u("error")).error(v)}return new s(p,g,"")},async:function(b,p){return this.internalStream(b).accumulate(p)},nodeStream:function(b,p){return this.internalStream(b||"nodebuffer").toNodejsStream(p)},_compressWorker:function(b,p){if(this._data instanceof l&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(g,b,p)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)r.prototype[d[f]]=h;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(r){var s,a,c=r.MutationObserver||r.WebKitMutationObserver;if(c){var l=0,u=new c(b),d=r.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=l=++l%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var p=r.document.createElement("script");p.onreadystatechange=function(){b(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},r.document.documentElement.appendChild(p)}:function(){setTimeout(b,0)};else{var h=new r.MessageChannel;h.port1.onmessage=b,s=function(){h.port2.postMessage(0)}}var f=[];function b(){var p,g;a=!0;for(var m=f.length;m;){for(g=f,f=[],p=-1;++p<m;)g[p]();m=f.length}a=!1}n.exports=function(p){f.push(p)!==1||a||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var r=t("immediate");function s(){}var a={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function d(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,m!==s&&p(this,m)}function h(m,y,v){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function f(m,y,v){r(function(){var _;try{_=y(v)}catch(x){return a.reject(m,x)}_===m?a.reject(m,new TypeError("Cannot resolve promise with itself")):a.resolve(m,_)})}function b(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function p(m,y){var v=!1;function _(A){v||(v=!0,a.reject(m,A))}function x(A){v||(v=!0,a.resolve(m,A))}var D=g(function(){y(x,_)});D.status==="error"&&_(D.value)}function g(m,y){var v={};try{v.value=m(y),v.status="success"}catch(_){v.status="error",v.value=_}return v}(n.exports=d).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(v){return y.resolve(m()).then(function(){return v})},function(v){return y.resolve(m()).then(function(){throw v})})},d.prototype.catch=function(m){return this.then(null,m)},d.prototype.then=function(m,y){if(typeof m!="function"&&this.state===l||typeof y!="function"&&this.state===c)return this;var v=new this.constructor(s);return this.state!==u?f(v,this.state===l?m:y,this.outcome):this.queue.push(new h(v,m,y)),v},h.prototype.callFulfilled=function(m){a.resolve(this.promise,m)},h.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},h.prototype.callRejected=function(m){a.reject(this.promise,m)},h.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},a.resolve=function(m,y){var v=g(b,y);if(v.status==="error")return a.reject(m,v.value);var _=v.value;if(_)p(m,_);else{m.state=l,m.outcome=y;for(var x=-1,D=m.queue.length;++x<D;)m.queue[x].callFulfilled(y)}return m},a.reject=function(m,y){m.state=c,m.outcome=y;for(var v=-1,_=m.queue.length;++v<_;)m.queue[v].callRejected(y);return m},d.resolve=function(m){return m instanceof this?m:a.resolve(new this(s),m)},d.reject=function(m){var y=new this(s);return a.reject(y,m)},d.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=m.length,_=!1;if(!v)return this.resolve([]);for(var x=new Array(v),D=0,A=-1,S=new this(s);++A<v;)E(m[A],A);return S;function E(R,q){y.resolve(R).then(function(C){x[q]=C,++D!==v||_||(_=!0,a.resolve(S,x))},function(C){_||(_=!0,a.reject(S,C))})}},d.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=m.length,_=!1;if(!v)return this.resolve([]);for(var x=-1,D=new this(s);++x<v;)A=m[x],y.resolve(A).then(function(S){_||(_=!0,a.resolve(D,S))},function(S){_||(_=!0,a.reject(D,S))});var A;return D}},{immediate:36}],38:[function(t,n,i){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var r=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),c=t("./zlib/messages"),l=t("./zlib/zstream"),u=Object.prototype.toString,d=0,h=-1,f=0,b=8;function p(m){if(!(this instanceof p))return new p(m);this.options=s.assign({level:h,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var v=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(v!==d)throw new Error(c[v]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var _;if(_=typeof y.dictionary=="string"?a.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(v=r.deflateSetDictionary(this.strm,_))!==d)throw new Error(c[v]);this._dict_set=!0}}function g(m,y){var v=new p(y);if(v.push(m,!0),v.err)throw v.msg||c[v.err];return v.result}p.prototype.push=function(m,y){var v,_,x=this.strm,D=this.options.chunkSize;if(this.ended)return!1;_=y===~~y?y:y===!0?4:0,typeof m=="string"?x.input=a.string2buf(m):u.call(m)==="[object ArrayBuffer]"?x.input=new Uint8Array(m):x.input=m,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new s.Buf8(D),x.next_out=0,x.avail_out=D),(v=r.deflate(x,_))!==1&&v!==d)return this.onEnd(v),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(x.output,x.next_out))):this.onData(s.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&v!==1);return _===4?(v=r.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===d):_!==2||(this.onEnd(d),!(x.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=p,i.deflate=g,i.deflateRaw=function(m,y){return(y=y||{}).raw=!0,g(m,y)},i.gzip=function(m,y){return(y=y||{}).gzip=!0,g(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var r=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),c=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),h=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var m=r.inflateInit2(this.strm,g.windowBits);if(m!==c.Z_OK)throw new Error(l[m]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function b(p,g){var m=new f(g);if(m.push(p,!0),m.err)throw m.msg||l[m.err];return m.result}f.prototype.push=function(p,g){var m,y,v,_,x,D,A=this.strm,S=this.options.chunkSize,E=this.options.dictionary,R=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?A.input=a.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(S),A.next_out=0,A.avail_out=S),(m=r.inflate(A,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&E&&(D=typeof E=="string"?a.string2buf(E):h.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,m=r.inflateSetDictionary(this.strm,D)),m===c.Z_BUF_ERROR&&R===!0&&(m=c.Z_OK,R=!1),m!==c.Z_STREAM_END&&m!==c.Z_OK)return this.onEnd(m),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&m!==c.Z_STREAM_END&&(A.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(A.output,A.next_out),_=A.next_out-v,x=a.buf2string(A.output,v),A.next_out=_,A.avail_out=S-_,_&&s.arraySet(A.output,A.output,v,_,0),this.onData(x)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(R=!0)}while((0<A.avail_in||A.avail_out===0)&&m!==c.Z_STREAM_END);return m===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(m=r.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(A.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=f,i.inflate=b,i.inflateRaw=function(p,g){return(g=g||{}).raw=!0,b(p,g)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(c[d]=u[d])}}return c},i.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var s={arraySet:function(c,l,u,d,h){if(l.subarray&&c.subarray)c.set(l.subarray(u,u+d),h);else for(var f=0;f<d;f++)c[h+f]=l[u+f]},flattenChunks:function(c){var l,u,d,h,f,b;for(l=d=0,u=c.length;l<u;l++)d+=c[l].length;for(b=new Uint8Array(d),l=h=0,u=c.length;l<u;l++)f=c[l],b.set(f,h),h+=f.length;return b}},a={arraySet:function(c,l,u,d,h){for(var f=0;f<d;f++)c[h+f]=l[u+f]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(r)},{}],42:[function(t,n,i){var r=t("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new r.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(d,h){if(h<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(d,h));for(var f="",b=0;b<h;b++)f+=String.fromCharCode(d[b]);return f}c[254]=c[254]=1,i.string2buf=function(d){var h,f,b,p,g,m=d.length,y=0;for(p=0;p<m;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<m&&(64512&(b=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(b-56320),p++),y+=f<128?1:f<2048?2:f<65536?3:4;for(h=new r.Buf8(y),p=g=0;g<y;p++)(64512&(f=d.charCodeAt(p)))==55296&&p+1<m&&(64512&(b=d.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(b-56320),p++),f<128?h[g++]=f:(f<2048?h[g++]=192|f>>>6:(f<65536?h[g++]=224|f>>>12:(h[g++]=240|f>>>18,h[g++]=128|f>>>12&63),h[g++]=128|f>>>6&63),h[g++]=128|63&f);return h},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var h=new r.Buf8(d.length),f=0,b=h.length;f<b;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,b,p,g,m=h||d.length,y=new Array(2*m);for(f=b=0;f<m;)if((p=d[f++])<128)y[b++]=p;else if(4<(g=c[p]))y[b++]=65533,f+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&f<m;)p=p<<6|63&d[f++],g--;1<g?y[b++]=65533:p<65536?y[b++]=p:(p-=65536,y[b++]=55296|p>>10&1023,y[b++]=56320|1023&p)}return u(y,b)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+c[d[f]]>h?f:h}},{"./common":41}],43:[function(t,n,i){n.exports=function(r,s,a,c){for(var l=65535&r|0,u=r>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(l=l+s[c++]|0)|0,--d;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var r=(function(){for(var s,a=[],c=0;c<256;c++){s=c;for(var l=0;l<8;l++)s=1&s?3988292384^s>>>1:s>>>1;a[c]=s}return a})();n.exports=function(s,a,c,l){var u=r,d=l+c;s^=-1;for(var h=l;h<d;h++)s=s>>>8^u[255&(s^a[h])];return-1^s}},{}],46:[function(t,n,i){var r,s=t("../utils/common"),a=t("./trees"),c=t("./adler32"),l=t("./crc32"),u=t("./messages"),d=0,h=4,f=0,b=-2,p=-1,g=4,m=2,y=8,v=9,_=286,x=30,D=19,A=2*_+1,S=15,E=3,R=258,q=R+E+1,C=42,N=113,T=1,W=2,k=3,B=4;function H(w,Q){return w.msg=u[Q],Q}function z(w){return(w<<1)-(4<w?9:0)}function ee(w){for(var Q=w.length;0<=--Q;)w[Q]=0}function O(w){var Q=w.state,Y=Q.pending;Y>w.avail_out&&(Y=w.avail_out),Y!==0&&(s.arraySet(w.output,Q.pending_buf,Q.pending_out,Y,w.next_out),w.next_out+=Y,Q.pending_out+=Y,w.total_out+=Y,w.avail_out-=Y,Q.pending-=Y,Q.pending===0&&(Q.pending_out=0))}function $(w,Q){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,Q),w.block_start=w.strstart,O(w.strm)}function X(w,Q){w.pending_buf[w.pending++]=Q}function ne(w,Q){w.pending_buf[w.pending++]=Q>>>8&255,w.pending_buf[w.pending++]=255&Q}function ie(w,Q){var Y,L,F=w.max_chain_length,P=w.strstart,te=w.prev_length,ae=w.nice_match,K=w.strstart>w.w_size-q?w.strstart-(w.w_size-q):0,j=w.window,V=w.w_mask,Z=w.prev,se=w.strstart+R,de=j[P+te-1],ye=j[P+te];w.prev_length>=w.good_match&&(F>>=2),ae>w.lookahead&&(ae=w.lookahead);do if(j[(Y=Q)+te]===ye&&j[Y+te-1]===de&&j[Y]===j[P]&&j[++Y]===j[P+1]){P+=2,Y++;do;while(j[++P]===j[++Y]&&j[++P]===j[++Y]&&j[++P]===j[++Y]&&j[++P]===j[++Y]&&j[++P]===j[++Y]&&j[++P]===j[++Y]&&j[++P]===j[++Y]&&j[++P]===j[++Y]&&P<se);if(L=R-(se-P),P=se-R,te<L){if(w.match_start=Q,ae<=(te=L))break;de=j[P+te-1],ye=j[P+te]}}while((Q=Z[Q&V])>K&&--F!=0);return te<=w.lookahead?te:w.lookahead}function ue(w){var Q,Y,L,F,P,te,ae,K,j,V,Z=w.w_size;do{if(F=w.window_size-w.lookahead-w.strstart,w.strstart>=Z+(Z-q)){for(s.arraySet(w.window,w.window,Z,Z,0),w.match_start-=Z,w.strstart-=Z,w.block_start-=Z,Q=Y=w.hash_size;L=w.head[--Q],w.head[Q]=Z<=L?L-Z:0,--Y;);for(Q=Y=Z;L=w.prev[--Q],w.prev[Q]=Z<=L?L-Z:0,--Y;);F+=Z}if(w.strm.avail_in===0)break;if(te=w.strm,ae=w.window,K=w.strstart+w.lookahead,j=F,V=void 0,V=te.avail_in,j<V&&(V=j),Y=V===0?0:(te.avail_in-=V,s.arraySet(ae,te.input,te.next_in,V,K),te.state.wrap===1?te.adler=c(te.adler,ae,V,K):te.state.wrap===2&&(te.adler=l(te.adler,ae,V,K)),te.next_in+=V,te.total_in+=V,V),w.lookahead+=Y,w.lookahead+w.insert>=E)for(P=w.strstart-w.insert,w.ins_h=w.window[P],w.ins_h=(w.ins_h<<w.hash_shift^w.window[P+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[P+E-1])&w.hash_mask,w.prev[P&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=P,P++,w.insert--,!(w.lookahead+w.insert<E)););}while(w.lookahead<q&&w.strm.avail_in!==0)}function oe(w,Q){for(var Y,L;;){if(w.lookahead<q){if(ue(w),w.lookahead<q&&Q===d)return T;if(w.lookahead===0)break}if(Y=0,w.lookahead>=E&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+E-1])&w.hash_mask,Y=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Y!==0&&w.strstart-Y<=w.w_size-q&&(w.match_length=ie(w,Y)),w.match_length>=E)if(L=a._tr_tally(w,w.strstart-w.match_start,w.match_length-E),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=E){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+E-1])&w.hash_mask,Y=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else L=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(L&&($(w,!1),w.strm.avail_out===0))return T}return w.insert=w.strstart<E-1?w.strstart:E-1,Q===h?($(w,!0),w.strm.avail_out===0?k:B):w.last_lit&&($(w,!1),w.strm.avail_out===0)?T:W}function le(w,Q){for(var Y,L,F;;){if(w.lookahead<q){if(ue(w),w.lookahead<q&&Q===d)return T;if(w.lookahead===0)break}if(Y=0,w.lookahead>=E&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+E-1])&w.hash_mask,Y=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=E-1,Y!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Y<=w.w_size-q&&(w.match_length=ie(w,Y),w.match_length<=5&&(w.strategy===1||w.match_length===E&&4096<w.strstart-w.match_start)&&(w.match_length=E-1)),w.prev_length>=E&&w.match_length<=w.prev_length){for(F=w.strstart+w.lookahead-E,L=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-E),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=F&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+E-1])&w.hash_mask,Y=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=E-1,w.strstart++,L&&($(w,!1),w.strm.avail_out===0))return T}else if(w.match_available){if((L=a._tr_tally(w,0,w.window[w.strstart-1]))&&$(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return T}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(L=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<E-1?w.strstart:E-1,Q===h?($(w,!0),w.strm.avail_out===0?k:B):w.last_lit&&($(w,!1),w.strm.avail_out===0)?T:W}function fe(w,Q,Y,L,F){this.good_length=w,this.max_lazy=Q,this.nice_length=Y,this.max_chain=L,this.func=F}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*x+1)),this.bl_tree=new s.Buf16(2*(2*D+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(S+1),this.heap=new s.Buf16(2*_+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*_+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(w){var Q;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=m,(Q=w.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?C:N,w.adler=Q.wrap===2?0:1,Q.last_flush=d,a._tr_init(Q),f):H(w,b)}function Ae(w){var Q=xe(w);return Q===f&&(function(Y){Y.window_size=2*Y.w_size,ee(Y.head),Y.max_lazy_match=r[Y.level].max_lazy,Y.good_match=r[Y.level].good_length,Y.nice_match=r[Y.level].nice_length,Y.max_chain_length=r[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=E-1,Y.match_available=0,Y.ins_h=0})(w.state),Q}function ke(w,Q,Y,L,F,P){if(!w)return b;var te=1;if(Q===p&&(Q=6),L<0?(te=0,L=-L):15<L&&(te=2,L-=16),F<1||v<F||Y!==y||L<8||15<L||Q<0||9<Q||P<0||g<P)return H(w,b);L===8&&(L=9);var ae=new ge;return(w.state=ae).strm=w,ae.wrap=te,ae.gzhead=null,ae.w_bits=L,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=F+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+E-1)/E),ae.window=new s.Buf8(2*ae.w_size),ae.head=new s.Buf16(ae.hash_size),ae.prev=new s.Buf16(ae.w_size),ae.lit_bufsize=1<<F+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new s.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=Q,ae.strategy=P,ae.method=Y,Ae(w)}r=[new fe(0,0,0,0,function(w,Q){var Y=65535;for(Y>w.pending_buf_size-5&&(Y=w.pending_buf_size-5);;){if(w.lookahead<=1){if(ue(w),w.lookahead===0&&Q===d)return T;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var L=w.block_start+Y;if((w.strstart===0||w.strstart>=L)&&(w.lookahead=w.strstart-L,w.strstart=L,$(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-q&&($(w,!1),w.strm.avail_out===0))return T}return w.insert=0,Q===h?($(w,!0),w.strm.avail_out===0?k:B):(w.strstart>w.block_start&&($(w,!1),w.strm.avail_out),T)}),new fe(4,4,8,4,oe),new fe(4,5,16,8,oe),new fe(4,6,32,32,oe),new fe(4,4,16,16,le),new fe(8,16,32,32,le),new fe(8,16,128,128,le),new fe(8,32,128,256,le),new fe(32,128,258,1024,le),new fe(32,258,258,4096,le)],i.deflateInit=function(w,Q){return ke(w,Q,y,15,8,0)},i.deflateInit2=ke,i.deflateReset=Ae,i.deflateResetKeep=xe,i.deflateSetHeader=function(w,Q){return w&&w.state?w.state.wrap!==2?b:(w.state.gzhead=Q,f):b},i.deflate=function(w,Q){var Y,L,F,P;if(!w||!w.state||5<Q||Q<0)return w?H(w,b):b;if(L=w.state,!w.output||!w.input&&w.avail_in!==0||L.status===666&&Q!==h)return H(w,w.avail_out===0?-5:b);if(L.strm=w,Y=L.last_flush,L.last_flush=Q,L.status===C)if(L.wrap===2)w.adler=0,X(L,31),X(L,139),X(L,8),L.gzhead?(X(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),X(L,255&L.gzhead.time),X(L,L.gzhead.time>>8&255),X(L,L.gzhead.time>>16&255),X(L,L.gzhead.time>>24&255),X(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),X(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(X(L,255&L.gzhead.extra.length),X(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(w.adler=l(w.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(X(L,0),X(L,0),X(L,0),X(L,0),X(L,0),X(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),X(L,3),L.status=N);else{var te=y+(L.w_bits-8<<4)<<8;te|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(te|=32),te+=31-te%31,L.status=N,ne(L,te),L.strstart!==0&&(ne(L,w.adler>>>16),ne(L,65535&w.adler)),w.adler=1}if(L.status===69)if(L.gzhead.extra){for(F=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>F&&(w.adler=l(w.adler,L.pending_buf,L.pending-F,F)),O(w),F=L.pending,L.pending!==L.pending_buf_size));)X(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>F&&(w.adler=l(w.adler,L.pending_buf,L.pending-F,F)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){F=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>F&&(w.adler=l(w.adler,L.pending_buf,L.pending-F,F)),O(w),F=L.pending,L.pending===L.pending_buf_size)){P=1;break}P=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,X(L,P)}while(P!==0);L.gzhead.hcrc&&L.pending>F&&(w.adler=l(w.adler,L.pending_buf,L.pending-F,F)),P===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){F=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>F&&(w.adler=l(w.adler,L.pending_buf,L.pending-F,F)),O(w),F=L.pending,L.pending===L.pending_buf_size)){P=1;break}P=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,X(L,P)}while(P!==0);L.gzhead.hcrc&&L.pending>F&&(w.adler=l(w.adler,L.pending_buf,L.pending-F,F)),P===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&O(w),L.pending+2<=L.pending_buf_size&&(X(L,255&w.adler),X(L,w.adler>>8&255),w.adler=0,L.status=N)):L.status=N),L.pending!==0){if(O(w),w.avail_out===0)return L.last_flush=-1,f}else if(w.avail_in===0&&z(Q)<=z(Y)&&Q!==h)return H(w,-5);if(L.status===666&&w.avail_in!==0)return H(w,-5);if(w.avail_in!==0||L.lookahead!==0||Q!==d&&L.status!==666){var ae=L.strategy===2?(function(K,j){for(var V;;){if(K.lookahead===0&&(ue(K),K.lookahead===0)){if(j===d)return T;break}if(K.match_length=0,V=a._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,V&&($(K,!1),K.strm.avail_out===0))return T}return K.insert=0,j===h?($(K,!0),K.strm.avail_out===0?k:B):K.last_lit&&($(K,!1),K.strm.avail_out===0)?T:W})(L,Q):L.strategy===3?(function(K,j){for(var V,Z,se,de,ye=K.window;;){if(K.lookahead<=R){if(ue(K),K.lookahead<=R&&j===d)return T;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=E&&0<K.strstart&&(Z=ye[se=K.strstart-1])===ye[++se]&&Z===ye[++se]&&Z===ye[++se]){de=K.strstart+R;do;while(Z===ye[++se]&&Z===ye[++se]&&Z===ye[++se]&&Z===ye[++se]&&Z===ye[++se]&&Z===ye[++se]&&Z===ye[++se]&&Z===ye[++se]&&se<de);K.match_length=R-(de-se),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=E?(V=a._tr_tally(K,1,K.match_length-E),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(V=a._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),V&&($(K,!1),K.strm.avail_out===0))return T}return K.insert=0,j===h?($(K,!0),K.strm.avail_out===0?k:B):K.last_lit&&($(K,!1),K.strm.avail_out===0)?T:W})(L,Q):r[L.level].func(L,Q);if(ae!==k&&ae!==B||(L.status=666),ae===T||ae===k)return w.avail_out===0&&(L.last_flush=-1),f;if(ae===W&&(Q===1?a._tr_align(L):Q!==5&&(a._tr_stored_block(L,0,0,!1),Q===3&&(ee(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),O(w),w.avail_out===0))return L.last_flush=-1,f}return Q!==h?f:L.wrap<=0?1:(L.wrap===2?(X(L,255&w.adler),X(L,w.adler>>8&255),X(L,w.adler>>16&255),X(L,w.adler>>24&255),X(L,255&w.total_in),X(L,w.total_in>>8&255),X(L,w.total_in>>16&255),X(L,w.total_in>>24&255)):(ne(L,w.adler>>>16),ne(L,65535&w.adler)),O(w),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?f:1)},i.deflateEnd=function(w){var Q;return w&&w.state?(Q=w.state.status)!==C&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==N&&Q!==666?H(w,b):(w.state=null,Q===N?H(w,-3):f):b},i.deflateSetDictionary=function(w,Q){var Y,L,F,P,te,ae,K,j,V=Q.length;if(!w||!w.state||(P=(Y=w.state).wrap)===2||P===1&&Y.status!==C||Y.lookahead)return b;for(P===1&&(w.adler=c(w.adler,Q,V,0)),Y.wrap=0,V>=Y.w_size&&(P===0&&(ee(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),j=new s.Buf8(Y.w_size),s.arraySet(j,Q,V-Y.w_size,Y.w_size,0),Q=j,V=Y.w_size),te=w.avail_in,ae=w.next_in,K=w.input,w.avail_in=V,w.next_in=0,w.input=Q,ue(Y);Y.lookahead>=E;){for(L=Y.strstart,F=Y.lookahead-(E-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[L+E-1])&Y.hash_mask,Y.prev[L&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=L,L++,--F;);Y.strstart=L,Y.lookahead=E-1,ue(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=E-1,Y.match_available=0,w.next_in=ae,w.input=K,w.avail_in=te,Y.wrap=P,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(r,s){var a,c,l,u,d,h,f,b,p,g,m,y,v,_,x,D,A,S,E,R,q,C,N,T,W;a=r.state,c=r.next_in,T=r.input,l=c+(r.avail_in-5),u=r.next_out,W=r.output,d=u-(s-r.avail_out),h=u+(r.avail_out-257),f=a.dmax,b=a.wsize,p=a.whave,g=a.wnext,m=a.window,y=a.hold,v=a.bits,_=a.lencode,x=a.distcode,D=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{v<15&&(y+=T[c++]<<v,v+=8,y+=T[c++]<<v,v+=8),S=_[y&D];t:for(;;){if(y>>>=E=S>>>24,v-=E,(E=S>>>16&255)===0)W[u++]=65535&S;else{if(!(16&E)){if((64&E)==0){S=_[(65535&S)+(y&(1<<E)-1)];continue t}if(32&E){a.mode=12;break e}r.msg="invalid literal/length code",a.mode=30;break e}R=65535&S,(E&=15)&&(v<E&&(y+=T[c++]<<v,v+=8),R+=y&(1<<E)-1,y>>>=E,v-=E),v<15&&(y+=T[c++]<<v,v+=8,y+=T[c++]<<v,v+=8),S=x[y&A];n:for(;;){if(y>>>=E=S>>>24,v-=E,!(16&(E=S>>>16&255))){if((64&E)==0){S=x[(65535&S)+(y&(1<<E)-1)];continue n}r.msg="invalid distance code",a.mode=30;break e}if(q=65535&S,v<(E&=15)&&(y+=T[c++]<<v,(v+=8)<E&&(y+=T[c++]<<v,v+=8)),f<(q+=y&(1<<E)-1)){r.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=E,v-=E,(E=u-d)<q){if(p<(E=q-E)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break e}if(N=m,(C=0)===g){if(C+=b-E,E<R){for(R-=E;W[u++]=m[C++],--E;);C=u-q,N=W}}else if(g<E){if(C+=b+g-E,(E-=g)<R){for(R-=E;W[u++]=m[C++],--E;);if(C=0,g<R){for(R-=E=g;W[u++]=m[C++],--E;);C=u-q,N=W}}}else if(C+=g-E,E<R){for(R-=E;W[u++]=m[C++],--E;);C=u-q,N=W}for(;2<R;)W[u++]=N[C++],W[u++]=N[C++],W[u++]=N[C++],R-=3;R&&(W[u++]=N[C++],1<R&&(W[u++]=N[C++]))}else{for(C=u-q;W[u++]=W[C++],W[u++]=W[C++],W[u++]=W[C++],2<(R-=3););R&&(W[u++]=W[C++],1<R&&(W[u++]=W[C++]))}break}}break}}while(c<l&&u<h);c-=R=v>>3,y&=(1<<(v-=R<<3))-1,r.next_in=c,r.next_out=u,r.avail_in=c<l?l-c+5:5-(c-l),r.avail_out=u<h?h-u+257:257-(u-h),a.hold=y,a.bits=v}},{}],49:[function(t,n,i){var r=t("../utils/common"),s=t("./adler32"),a=t("./crc32"),c=t("./inffast"),l=t("./inftrees"),u=1,d=2,h=0,f=-2,b=1,p=852,g=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(C){var N;return C&&C.state?(N=C.state,C.total_in=C.total_out=N.total=0,C.msg="",N.wrap&&(C.adler=1&N.wrap),N.mode=b,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new r.Buf32(p),N.distcode=N.distdyn=new r.Buf32(g),N.sane=1,N.back=-1,h):f}function _(C){var N;return C&&C.state?((N=C.state).wsize=0,N.whave=0,N.wnext=0,v(C)):f}function x(C,N){var T,W;return C&&C.state?(W=C.state,N<0?(T=0,N=-N):(T=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?f:(W.window!==null&&W.wbits!==N&&(W.window=null),W.wrap=T,W.wbits=N,_(C))):f}function D(C,N){var T,W;return C?(W=new y,(C.state=W).window=null,(T=x(C,N))!==h&&(C.state=null),T):f}var A,S,E=!0;function R(C){if(E){var N;for(A=new r.Buf32(512),S=new r.Buf32(32),N=0;N<144;)C.lens[N++]=8;for(;N<256;)C.lens[N++]=9;for(;N<280;)C.lens[N++]=7;for(;N<288;)C.lens[N++]=8;for(l(u,C.lens,0,288,A,0,C.work,{bits:9}),N=0;N<32;)C.lens[N++]=5;l(d,C.lens,0,32,S,0,C.work,{bits:5}),E=!1}C.lencode=A,C.lenbits=9,C.distcode=S,C.distbits=5}function q(C,N,T,W){var k,B=C.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new r.Buf8(B.wsize)),W>=B.wsize?(r.arraySet(B.window,N,T-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(W<(k=B.wsize-B.wnext)&&(k=W),r.arraySet(B.window,N,T-W,k,B.wnext),(W-=k)?(r.arraySet(B.window,N,T-W,W,0),B.wnext=W,B.whave=B.wsize):(B.wnext+=k,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=k))),0}i.inflateReset=_,i.inflateReset2=x,i.inflateResetKeep=v,i.inflateInit=function(C){return D(C,15)},i.inflateInit2=D,i.inflate=function(C,N){var T,W,k,B,H,z,ee,O,$,X,ne,ie,ue,oe,le,fe,ge,xe,Ae,ke,w,Q,Y,L,F=0,P=new r.Buf8(4),te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return f;(T=C.state).mode===12&&(T.mode=13),H=C.next_out,k=C.output,ee=C.avail_out,B=C.next_in,W=C.input,z=C.avail_in,O=T.hold,$=T.bits,X=z,ne=ee,Q=h;e:for(;;)switch(T.mode){case b:if(T.wrap===0){T.mode=13;break}for(;$<16;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(2&T.wrap&&O===35615){P[T.check=0]=255&O,P[1]=O>>>8&255,T.check=a(T.check,P,2,0),$=O=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&O)<<8)+(O>>8))%31){C.msg="incorrect header check",T.mode=30;break}if((15&O)!=8){C.msg="unknown compression method",T.mode=30;break}if($-=4,w=8+(15&(O>>>=4)),T.wbits===0)T.wbits=w;else if(w>T.wbits){C.msg="invalid window size",T.mode=30;break}T.dmax=1<<w,C.adler=T.check=1,T.mode=512&O?10:12,$=O=0;break;case 2:for(;$<16;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(T.flags=O,(255&T.flags)!=8){C.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){C.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=O>>8&1),512&T.flags&&(P[0]=255&O,P[1]=O>>>8&255,T.check=a(T.check,P,2,0)),$=O=0,T.mode=3;case 3:for(;$<32;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}T.head&&(T.head.time=O),512&T.flags&&(P[0]=255&O,P[1]=O>>>8&255,P[2]=O>>>16&255,P[3]=O>>>24&255,T.check=a(T.check,P,4,0)),$=O=0,T.mode=4;case 4:for(;$<16;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}T.head&&(T.head.xflags=255&O,T.head.os=O>>8),512&T.flags&&(P[0]=255&O,P[1]=O>>>8&255,T.check=a(T.check,P,2,0)),$=O=0,T.mode=5;case 5:if(1024&T.flags){for(;$<16;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}T.length=O,T.head&&(T.head.extra_len=O),512&T.flags&&(P[0]=255&O,P[1]=O>>>8&255,T.check=a(T.check,P,2,0)),$=O=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(z<(ie=T.length)&&(ie=z),ie&&(T.head&&(w=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),r.arraySet(T.head.extra,W,B,ie,w)),512&T.flags&&(T.check=a(T.check,W,ie,B)),z-=ie,B+=ie,T.length-=ie),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(z===0)break e;for(ie=0;w=W[B+ie++],T.head&&w&&T.length<65536&&(T.head.name+=String.fromCharCode(w)),w&&ie<z;);if(512&T.flags&&(T.check=a(T.check,W,ie,B)),z-=ie,B+=ie,w)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(z===0)break e;for(ie=0;w=W[B+ie++],T.head&&w&&T.length<65536&&(T.head.comment+=String.fromCharCode(w)),w&&ie<z;);if(512&T.flags&&(T.check=a(T.check,W,ie,B)),z-=ie,B+=ie,w)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;$<16;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(O!==(65535&T.check)){C.msg="header crc mismatch",T.mode=30;break}$=O=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),C.adler=T.check=0,T.mode=12;break;case 10:for(;$<32;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}C.adler=T.check=m(O),$=O=0,T.mode=11;case 11:if(T.havedict===0)return C.next_out=H,C.avail_out=ee,C.next_in=B,C.avail_in=z,T.hold=O,T.bits=$,2;C.adler=T.check=1,T.mode=12;case 12:if(N===5||N===6)break e;case 13:if(T.last){O>>>=7&$,$-=7&$,T.mode=27;break}for(;$<3;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}switch(T.last=1&O,$-=1,3&(O>>>=1)){case 0:T.mode=14;break;case 1:if(R(T),T.mode=20,N!==6)break;O>>>=2,$-=2;break e;case 2:T.mode=17;break;case 3:C.msg="invalid block type",T.mode=30}O>>>=2,$-=2;break;case 14:for(O>>>=7&$,$-=7&$;$<32;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if((65535&O)!=(O>>>16^65535)){C.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&O,$=O=0,T.mode=15,N===6)break e;case 15:T.mode=16;case 16:if(ie=T.length){if(z<ie&&(ie=z),ee<ie&&(ie=ee),ie===0)break e;r.arraySet(k,W,B,ie,H),z-=ie,B+=ie,ee-=ie,H+=ie,T.length-=ie;break}T.mode=12;break;case 17:for(;$<14;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(T.nlen=257+(31&O),O>>>=5,$-=5,T.ndist=1+(31&O),O>>>=5,$-=5,T.ncode=4+(15&O),O>>>=4,$-=4,286<T.nlen||30<T.ndist){C.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;$<3;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}T.lens[te[T.have++]]=7&O,O>>>=3,$-=3}for(;T.have<19;)T.lens[te[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Y={bits:T.lenbits},Q=l(0,T.lens,0,19,T.lencode,0,T.work,Y),T.lenbits=Y.bits,Q){C.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;fe=(F=T.lencode[O&(1<<T.lenbits)-1])>>>16&255,ge=65535&F,!((le=F>>>24)<=$);){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(ge<16)O>>>=le,$-=le,T.lens[T.have++]=ge;else{if(ge===16){for(L=le+2;$<L;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(O>>>=le,$-=le,T.have===0){C.msg="invalid bit length repeat",T.mode=30;break}w=T.lens[T.have-1],ie=3+(3&O),O>>>=2,$-=2}else if(ge===17){for(L=le+3;$<L;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}$-=le,w=0,ie=3+(7&(O>>>=le)),O>>>=3,$-=3}else{for(L=le+7;$<L;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}$-=le,w=0,ie=11+(127&(O>>>=le)),O>>>=7,$-=7}if(T.have+ie>T.nlen+T.ndist){C.msg="invalid bit length repeat",T.mode=30;break}for(;ie--;)T.lens[T.have++]=w}}if(T.mode===30)break;if(T.lens[256]===0){C.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,Y={bits:T.lenbits},Q=l(u,T.lens,0,T.nlen,T.lencode,0,T.work,Y),T.lenbits=Y.bits,Q){C.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,Y={bits:T.distbits},Q=l(d,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Y),T.distbits=Y.bits,Q){C.msg="invalid distances set",T.mode=30;break}if(T.mode=20,N===6)break e;case 20:T.mode=21;case 21:if(6<=z&&258<=ee){C.next_out=H,C.avail_out=ee,C.next_in=B,C.avail_in=z,T.hold=O,T.bits=$,c(C,ne),H=C.next_out,k=C.output,ee=C.avail_out,B=C.next_in,W=C.input,z=C.avail_in,O=T.hold,$=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;fe=(F=T.lencode[O&(1<<T.lenbits)-1])>>>16&255,ge=65535&F,!((le=F>>>24)<=$);){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(fe&&(240&fe)==0){for(xe=le,Ae=fe,ke=ge;fe=(F=T.lencode[ke+((O&(1<<xe+Ae)-1)>>xe)])>>>16&255,ge=65535&F,!(xe+(le=F>>>24)<=$);){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}O>>>=xe,$-=xe,T.back+=xe}if(O>>>=le,$-=le,T.back+=le,T.length=ge,fe===0){T.mode=26;break}if(32&fe){T.back=-1,T.mode=12;break}if(64&fe){C.msg="invalid literal/length code",T.mode=30;break}T.extra=15&fe,T.mode=22;case 22:if(T.extra){for(L=T.extra;$<L;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}T.length+=O&(1<<T.extra)-1,O>>>=T.extra,$-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;fe=(F=T.distcode[O&(1<<T.distbits)-1])>>>16&255,ge=65535&F,!((le=F>>>24)<=$);){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if((240&fe)==0){for(xe=le,Ae=fe,ke=ge;fe=(F=T.distcode[ke+((O&(1<<xe+Ae)-1)>>xe)])>>>16&255,ge=65535&F,!(xe+(le=F>>>24)<=$);){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}O>>>=xe,$-=xe,T.back+=xe}if(O>>>=le,$-=le,T.back+=le,64&fe){C.msg="invalid distance code",T.mode=30;break}T.offset=ge,T.extra=15&fe,T.mode=24;case 24:if(T.extra){for(L=T.extra;$<L;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}T.offset+=O&(1<<T.extra)-1,O>>>=T.extra,$-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){C.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(ee===0)break e;if(ie=ne-ee,T.offset>ie){if((ie=T.offset-ie)>T.whave&&T.sane){C.msg="invalid distance too far back",T.mode=30;break}ue=ie>T.wnext?(ie-=T.wnext,T.wsize-ie):T.wnext-ie,ie>T.length&&(ie=T.length),oe=T.window}else oe=k,ue=H-T.offset,ie=T.length;for(ee<ie&&(ie=ee),ee-=ie,T.length-=ie;k[H++]=oe[ue++],--ie;);T.length===0&&(T.mode=21);break;case 26:if(ee===0)break e;k[H++]=T.length,ee--,T.mode=21;break;case 27:if(T.wrap){for(;$<32;){if(z===0)break e;z--,O|=W[B++]<<$,$+=8}if(ne-=ee,C.total_out+=ne,T.total+=ne,ne&&(C.adler=T.check=T.flags?a(T.check,k,ne,H-ne):s(T.check,k,ne,H-ne)),ne=ee,(T.flags?O:m(O))!==T.check){C.msg="incorrect data check",T.mode=30;break}$=O=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;$<32;){if(z===0)break e;z--,O+=W[B++]<<$,$+=8}if(O!==(4294967295&T.total)){C.msg="incorrect length check",T.mode=30;break}$=O=0}T.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return f}return C.next_out=H,C.avail_out=ee,C.next_in=B,C.avail_in=z,T.hold=O,T.bits=$,(T.wsize||ne!==C.avail_out&&T.mode<30&&(T.mode<27||N!==4))&&q(C,C.output,C.next_out,ne-C.avail_out)?(T.mode=31,-4):(X-=C.avail_in,ne-=C.avail_out,C.total_in+=X,C.total_out+=ne,T.total+=ne,T.wrap&&ne&&(C.adler=T.check=T.flags?a(T.check,k,ne,C.next_out-ne):s(T.check,k,ne,C.next_out-ne)),C.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(X==0&&ne===0||N===4)&&Q===h&&(Q=-5),Q)},i.inflateEnd=function(C){if(!C||!C.state)return f;var N=C.state;return N.window&&(N.window=null),C.state=null,h},i.inflateGetHeader=function(C,N){var T;return C&&C.state?(2&(T=C.state).wrap)==0?f:((T.head=N).done=!1,h):f},i.inflateSetDictionary=function(C,N){var T,W=N.length;return C&&C.state?(T=C.state).wrap!==0&&T.mode!==11?f:T.mode===11&&s(1,N,W,0)!==T.check?-3:q(C,N,W,W)?(T.mode=31,-4):(T.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var r=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,d,h,f,b,p,g,m){var y,v,_,x,D,A,S,E,R,q=m.bits,C=0,N=0,T=0,W=0,k=0,B=0,H=0,z=0,ee=0,O=0,$=null,X=0,ne=new r.Buf16(16),ie=new r.Buf16(16),ue=null,oe=0;for(C=0;C<=15;C++)ne[C]=0;for(N=0;N<f;N++)ne[d[h+N]]++;for(k=q,W=15;1<=W&&ne[W]===0;W--);if(W<k&&(k=W),W===0)return b[p++]=20971520,b[p++]=20971520,m.bits=1,0;for(T=1;T<W&&ne[T]===0;T++);for(k<T&&(k=T),C=z=1;C<=15;C++)if(z<<=1,(z-=ne[C])<0)return-1;if(0<z&&(u===0||W!==1))return-1;for(ie[1]=0,C=1;C<15;C++)ie[C+1]=ie[C]+ne[C];for(N=0;N<f;N++)d[h+N]!==0&&(g[ie[d[h+N]]++]=N);if(A=u===0?($=ue=g,19):u===1?($=s,X-=257,ue=a,oe-=257,256):($=c,ue=l,-1),C=T,D=p,H=N=O=0,_=-1,x=(ee=1<<(B=k))-1,u===1&&852<ee||u===2&&592<ee)return 1;for(;;){for(S=C-H,R=g[N]<A?(E=0,g[N]):g[N]>A?(E=ue[oe+g[N]],$[X+g[N]]):(E=96,0),y=1<<C-H,T=v=1<<B;b[D+(O>>H)+(v-=y)]=S<<24|E<<16|R|0,v!==0;);for(y=1<<C-1;O&y;)y>>=1;if(y!==0?(O&=y-1,O+=y):O=0,N++,--ne[C]==0){if(C===W)break;C=d[h+g[N]]}if(k<C&&(O&x)!==_){for(H===0&&(H=k),D+=T,z=1<<(B=C-H);B+H<W&&!((z-=ne[B+H])<=0);)B++,z<<=1;if(ee+=1<<B,u===1&&852<ee||u===2&&592<ee)return 1;b[_=O&x]=k<<24|B<<16|D-p|0}}return O!==0&&(b[D+O]=C-H<<24|64<<16|0),m.bits=k,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var r=t("../utils/common"),s=0,a=1;function c(F){for(var P=F.length;0<=--P;)F[P]=0}var l=0,u=29,d=256,h=d+1+u,f=30,b=19,p=2*h+1,g=15,m=16,y=7,v=256,_=16,x=17,D=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(h+2));c(q);var C=new Array(2*f);c(C);var N=new Array(512);c(N);var T=new Array(256);c(T);var W=new Array(u);c(W);var k,B,H,z=new Array(f);function ee(F,P,te,ae,K){this.static_tree=F,this.extra_bits=P,this.extra_base=te,this.elems=ae,this.max_length=K,this.has_stree=F&&F.length}function O(F,P){this.dyn_tree=F,this.max_code=0,this.stat_desc=P}function $(F){return F<256?N[F]:N[256+(F>>>7)]}function X(F,P){F.pending_buf[F.pending++]=255&P,F.pending_buf[F.pending++]=P>>>8&255}function ne(F,P,te){F.bi_valid>m-te?(F.bi_buf|=P<<F.bi_valid&65535,X(F,F.bi_buf),F.bi_buf=P>>m-F.bi_valid,F.bi_valid+=te-m):(F.bi_buf|=P<<F.bi_valid&65535,F.bi_valid+=te)}function ie(F,P,te){ne(F,te[2*P],te[2*P+1])}function ue(F,P){for(var te=0;te|=1&F,F>>>=1,te<<=1,0<--P;);return te>>>1}function oe(F,P,te){var ae,K,j=new Array(g+1),V=0;for(ae=1;ae<=g;ae++)j[ae]=V=V+te[ae-1]<<1;for(K=0;K<=P;K++){var Z=F[2*K+1];Z!==0&&(F[2*K]=ue(j[Z]++,Z))}}function le(F){var P;for(P=0;P<h;P++)F.dyn_ltree[2*P]=0;for(P=0;P<f;P++)F.dyn_dtree[2*P]=0;for(P=0;P<b;P++)F.bl_tree[2*P]=0;F.dyn_ltree[2*v]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function fe(F){8<F.bi_valid?X(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function ge(F,P,te,ae){var K=2*P,j=2*te;return F[K]<F[j]||F[K]===F[j]&&ae[P]<=ae[te]}function xe(F,P,te){for(var ae=F.heap[te],K=te<<1;K<=F.heap_len&&(K<F.heap_len&&ge(P,F.heap[K+1],F.heap[K],F.depth)&&K++,!ge(P,ae,F.heap[K],F.depth));)F.heap[te]=F.heap[K],te=K,K<<=1;F.heap[te]=ae}function Ae(F,P,te){var ae,K,j,V,Z=0;if(F.last_lit!==0)for(;ae=F.pending_buf[F.d_buf+2*Z]<<8|F.pending_buf[F.d_buf+2*Z+1],K=F.pending_buf[F.l_buf+Z],Z++,ae===0?ie(F,K,P):(ie(F,(j=T[K])+d+1,P),(V=A[j])!==0&&ne(F,K-=W[j],V),ie(F,j=$(--ae),te),(V=S[j])!==0&&ne(F,ae-=z[j],V)),Z<F.last_lit;);ie(F,v,P)}function ke(F,P){var te,ae,K,j=P.dyn_tree,V=P.stat_desc.static_tree,Z=P.stat_desc.has_stree,se=P.stat_desc.elems,de=-1;for(F.heap_len=0,F.heap_max=p,te=0;te<se;te++)j[2*te]!==0?(F.heap[++F.heap_len]=de=te,F.depth[te]=0):j[2*te+1]=0;for(;F.heap_len<2;)j[2*(K=F.heap[++F.heap_len]=de<2?++de:0)]=1,F.depth[K]=0,F.opt_len--,Z&&(F.static_len-=V[2*K+1]);for(P.max_code=de,te=F.heap_len>>1;1<=te;te--)xe(F,j,te);for(K=se;te=F.heap[1],F.heap[1]=F.heap[F.heap_len--],xe(F,j,1),ae=F.heap[1],F.heap[--F.heap_max]=te,F.heap[--F.heap_max]=ae,j[2*K]=j[2*te]+j[2*ae],F.depth[K]=(F.depth[te]>=F.depth[ae]?F.depth[te]:F.depth[ae])+1,j[2*te+1]=j[2*ae+1]=K,F.heap[1]=K++,xe(F,j,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],(function(ye,Te){var De,Se,Me,J,ce,pe,ve=Te.dyn_tree,Ue=Te.max_code,Be=Te.stat_desc.static_tree,$e=Te.stat_desc.has_stree,ht=Te.stat_desc.extra_bits,Ht=Te.stat_desc.extra_base,U=Te.stat_desc.max_length,I=0;for(J=0;J<=g;J++)ye.bl_count[J]=0;for(ve[2*ye.heap[ye.heap_max]+1]=0,De=ye.heap_max+1;De<p;De++)U<(J=ve[2*ve[2*(Se=ye.heap[De])+1]+1]+1)&&(J=U,I++),ve[2*Se+1]=J,Ue<Se||(ye.bl_count[J]++,ce=0,Ht<=Se&&(ce=ht[Se-Ht]),pe=ve[2*Se],ye.opt_len+=pe*(J+ce),$e&&(ye.static_len+=pe*(Be[2*Se+1]+ce)));if(I!==0){do{for(J=U-1;ye.bl_count[J]===0;)J--;ye.bl_count[J]--,ye.bl_count[J+1]+=2,ye.bl_count[U]--,I-=2}while(0<I);for(J=U;J!==0;J--)for(Se=ye.bl_count[J];Se!==0;)Ue<(Me=ye.heap[--De])||(ve[2*Me+1]!==J&&(ye.opt_len+=(J-ve[2*Me+1])*ve[2*Me],ve[2*Me+1]=J),Se--)}})(F,P),oe(j,de,F.bl_count)}function w(F,P,te){var ae,K,j=-1,V=P[1],Z=0,se=7,de=4;for(V===0&&(se=138,de=3),P[2*(te+1)+1]=65535,ae=0;ae<=te;ae++)K=V,V=P[2*(ae+1)+1],++Z<se&&K===V||(Z<de?F.bl_tree[2*K]+=Z:K!==0?(K!==j&&F.bl_tree[2*K]++,F.bl_tree[2*_]++):Z<=10?F.bl_tree[2*x]++:F.bl_tree[2*D]++,j=K,de=(Z=0)===V?(se=138,3):K===V?(se=6,3):(se=7,4))}function Q(F,P,te){var ae,K,j=-1,V=P[1],Z=0,se=7,de=4;for(V===0&&(se=138,de=3),ae=0;ae<=te;ae++)if(K=V,V=P[2*(ae+1)+1],!(++Z<se&&K===V)){if(Z<de)for(;ie(F,K,F.bl_tree),--Z!=0;);else K!==0?(K!==j&&(ie(F,K,F.bl_tree),Z--),ie(F,_,F.bl_tree),ne(F,Z-3,2)):Z<=10?(ie(F,x,F.bl_tree),ne(F,Z-3,3)):(ie(F,D,F.bl_tree),ne(F,Z-11,7));j=K,de=(Z=0)===V?(se=138,3):K===V?(se=6,3):(se=7,4)}}c(z);var Y=!1;function L(F,P,te,ae){ne(F,(l<<1)+(ae?1:0),3),(function(K,j,V,Z){fe(K),X(K,V),X(K,~V),r.arraySet(K.pending_buf,K.window,j,V,K.pending),K.pending+=V})(F,P,te)}i._tr_init=function(F){Y||((function(){var P,te,ae,K,j,V=new Array(g+1);for(K=ae=0;K<u-1;K++)for(W[K]=ae,P=0;P<1<<A[K];P++)T[ae++]=K;for(T[ae-1]=K,K=j=0;K<16;K++)for(z[K]=j,P=0;P<1<<S[K];P++)N[j++]=K;for(j>>=7;K<f;K++)for(z[K]=j<<7,P=0;P<1<<S[K]-7;P++)N[256+j++]=K;for(te=0;te<=g;te++)V[te]=0;for(P=0;P<=143;)q[2*P+1]=8,P++,V[8]++;for(;P<=255;)q[2*P+1]=9,P++,V[9]++;for(;P<=279;)q[2*P+1]=7,P++,V[7]++;for(;P<=287;)q[2*P+1]=8,P++,V[8]++;for(oe(q,h+1,V),P=0;P<f;P++)C[2*P+1]=5,C[2*P]=ue(P,5);k=new ee(q,A,d+1,h,g),B=new ee(C,S,0,f,g),H=new ee(new Array(0),E,0,b,y)})(),Y=!0),F.l_desc=new O(F.dyn_ltree,k),F.d_desc=new O(F.dyn_dtree,B),F.bl_desc=new O(F.bl_tree,H),F.bi_buf=0,F.bi_valid=0,le(F)},i._tr_stored_block=L,i._tr_flush_block=function(F,P,te,ae){var K,j,V=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=(function(Z){var se,de=4093624447;for(se=0;se<=31;se++,de>>>=1)if(1&de&&Z.dyn_ltree[2*se]!==0)return s;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return a;for(se=32;se<d;se++)if(Z.dyn_ltree[2*se]!==0)return a;return s})(F)),ke(F,F.l_desc),ke(F,F.d_desc),V=(function(Z){var se;for(w(Z,Z.dyn_ltree,Z.l_desc.max_code),w(Z,Z.dyn_dtree,Z.d_desc.max_code),ke(Z,Z.bl_desc),se=b-1;3<=se&&Z.bl_tree[2*R[se]+1]===0;se--);return Z.opt_len+=3*(se+1)+5+5+4,se})(F),K=F.opt_len+3+7>>>3,(j=F.static_len+3+7>>>3)<=K&&(K=j)):K=j=te+5,te+4<=K&&P!==-1?L(F,P,te,ae):F.strategy===4||j===K?(ne(F,2+(ae?1:0),3),Ae(F,q,C)):(ne(F,4+(ae?1:0),3),(function(Z,se,de,ye){var Te;for(ne(Z,se-257,5),ne(Z,de-1,5),ne(Z,ye-4,4),Te=0;Te<ye;Te++)ne(Z,Z.bl_tree[2*R[Te]+1],3);Q(Z,Z.dyn_ltree,se-1),Q(Z,Z.dyn_dtree,de-1)})(F,F.l_desc.max_code+1,F.d_desc.max_code+1,V+1),Ae(F,F.dyn_ltree,F.dyn_dtree)),le(F),ae&&fe(F)},i._tr_tally=function(F,P,te){return F.pending_buf[F.d_buf+2*F.last_lit]=P>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&P,F.pending_buf[F.l_buf+F.last_lit]=255&te,F.last_lit++,P===0?F.dyn_ltree[2*te]++:(F.matches++,P--,F.dyn_ltree[2*(T[te]+d+1)]++,F.dyn_dtree[2*$(P)]++),F.last_lit===F.lit_bufsize-1},i._tr_align=function(F){ne(F,2,3),ie(F,v,q),(function(P){P.bi_valid===16?(X(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)})(F)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(r){(function(s,a){if(!s.setImmediate){var c,l,u,d,h=1,f={},b=!1,p=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,c={}.toString.call(s.process)==="[object process]"?function(_){Ve.nextTick(function(){y(_)})}:(function(){if(s.postMessage&&!s.importScripts){var _=!0,x=s.onmessage;return s.onmessage=function(){_=!1},s.postMessage("","*"),s.onmessage=x,_}})()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",v,!1):s.attachEvent("onmessage",v),function(_){s.postMessage(d+_,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(_){y(_.data)},function(_){u.port2.postMessage(_)}):p&&"onreadystatechange"in p.createElement("script")?(l=p.documentElement,function(_){var x=p.createElement("script");x.onreadystatechange=function(){y(_),x.onreadystatechange=null,l.removeChild(x),x=null},l.appendChild(x)}):function(_){setTimeout(y,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var x=new Array(arguments.length-1),D=0;D<x.length;D++)x[D]=arguments[D+1];var A={callback:_,args:x};return f[h]=A,c(h),h++},g.clearImmediate=m}function m(_){delete f[_]}function y(_){if(b)setTimeout(y,0,_);else{var x=f[_];if(x){b=!0;try{(function(D){var A=D.callback,S=D.args;switch(S.length){case 0:A();break;case 1:A(S[0]);break;case 2:A(S[0],S[1]);break;case 3:A(S[0],S[1],S[2]);break;default:A.apply(a,S)}})(x)}finally{m(_),b=!1}}}}function v(_){_.source===s&&typeof _.data=="string"&&_.data.indexOf(d)===0&&y(+_.data.slice(d.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(va)),va.exports}var Bl;function bf(){if(Bl)return hi;Bl=1;var o=Mg(),e=Lg();hi.openArrayBuffer=t,hi.splitPath=n,hi.joinPath=i;function t(r){return e.loadAsync(r).then(function(s){function a(d){return s.file(d)!==null}function c(d,h){return s.file(d).async("uint8array").then(function(f){if(h==="base64")return o.fromByteArray(f);if(h){var b=new TextDecoder(h);return b.decode(f)}else return f})}function l(d,h){s.file(d,h)}function u(){return s.generateAsync({type:"arraybuffer"})}return{exists:a,read:c,write:l,toArrayBuffer:u}})}function n(r){var s=r.lastIndexOf("/");return s===-1?{dirname:"",basename:r}:{dirname:r.substring(0,s),basename:r.substring(s+1)}}function i(){var r=Array.prototype.filter.call(arguments,function(a){return a}),s=[];return r.forEach(function(a){/^\//.test(a)?s=[a]:s.push(a)}),s.join("/")}return hi}var sr={},on={},jn={},Nl;function yf(){if(Nl)return jn;Nl=1;var o=Je;jn.Element=t,jn.element=function(r,s,a){return new t(r,s,a)},jn.text=function(r){return{type:"text",value:r}};var e=jn.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function t(r,s,a){this.type="element",this.name=r,this.attributes=s||{},this.children=a||[]}t.prototype.first=function(r){return o.find(this.children,function(s){return s.name===r})},t.prototype.firstOrEmpty=function(r){return this.first(r)||e},t.prototype.getElementsByTagName=function(r){var s=o.filter(this.children,function(a){return a.name===r});return i(s)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var n={getElementsByTagName:function(r){return i(o.flatten(this.map(function(s){return s.getElementsByTagName(r)},!0)))}};function i(r){return o.extend(r,n)}return jn}var xa={},ar={},pi={},Jt={},An={},Il;function ds(){if(Il)return An;Il=1;function o(r,s,a){if(a===void 0&&(a=Array.prototype),r&&typeof a.find=="function")return a.find.call(r,s);for(var c=0;c<r.length;c++)if(Object.prototype.hasOwnProperty.call(r,c)){var l=r[c];if(s.call(void 0,l,c,r))return l}}function e(r,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(r):r}function t(r,s){if(r===null||typeof r!="object")throw new TypeError("target is not an object");for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a]);return r}var n=e({HTML:"text/html",isHTML:function(r){return r===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(r){return r===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return An.assign=t,An.find=o,An.freeze=e,An.MIME_TYPE=n,An.NAMESPACE=i,An}var Ml;function gc(){if(Ml)return Jt;Ml=1;var o=ds(),e=o.find,t=o.NAMESPACE;function n(U){return U!==""}function i(U){return U?U.split(/[\t\n\f\r ]+/).filter(n):[]}function r(U,I){return U.hasOwnProperty(I)||(U[I]=!0),U}function s(U){if(!U)return[];var I=i(U);return Object.keys(I.reduce(r,{}))}function a(U){return function(I){return U&&U.indexOf(I)!==-1}}function c(U,I){for(var G in U)Object.prototype.hasOwnProperty.call(U,G)&&(I[G]=U[G])}function l(U,I){var G=U.prototype;if(!(G instanceof I)){let re=function(){};re.prototype=I.prototype,re=new re,c(G,re),U.prototype=G=re}G.constructor!=U&&(typeof U!="function"&&console.error("unknown Class:"+U),G.constructor=U)}var u={},d=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,f=u.TEXT_NODE=3,b=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,g=u.ENTITY_NODE=6,m=u.PROCESSING_INSTRUCTION_NODE=7,y=u.COMMENT_NODE=8,v=u.DOCUMENT_NODE=9,_=u.DOCUMENT_TYPE_NODE=10,x=u.DOCUMENT_FRAGMENT_NODE=11,D=u.NOTATION_NODE=12,A={},S={};A.INDEX_SIZE_ERR=(S[1]="Index size error",1),A.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2);var E=A.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3);A.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),A.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),A.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),A.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7);var R=A.NOT_FOUND_ERR=(S[8]="Not found",8);A.NOT_SUPPORTED_ERR=(S[9]="Not supported",9);var q=A.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10);A.INVALID_STATE_ERR=(S[11]="Invalid state",11),A.SYNTAX_ERR=(S[12]="Syntax error",12),A.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),A.NAMESPACE_ERR=(S[14]="Invalid namespace",14),A.INVALID_ACCESS_ERR=(S[15]="Invalid access",15);function C(U,I){if(I instanceof Error)var G=I;else G=this,Error.call(this,S[U]),this.message=S[U],Error.captureStackTrace&&Error.captureStackTrace(this,C);return G.code=U,I&&(this.message=this.message+": "+I),G}C.prototype=Error.prototype,c(A,C);function N(){}N.prototype={length:0,item:function(U){return U>=0&&U<this.length?this[U]:null},toString:function(U,I){for(var G=[],re=0;re<this.length;re++)Be(this[re],G,U,I);return G.join("")},filter:function(U){return Array.prototype.filter.call(this,U)},indexOf:function(U){return Array.prototype.indexOf.call(this,U)}};function T(U,I){this._node=U,this._refresh=I,W(this)}function W(U){var I=U._node._inc||U._node.ownerDocument._inc;if(U._inc!==I){var G=U._refresh(U._node);if(Ht(U,"length",G.length),!U.$$length||G.length<U.$$length)for(var re=G.length;re in U;re++)Object.prototype.hasOwnProperty.call(U,re)&&delete U[re];c(G,U),U._inc=I}}T.prototype.item=function(U){return W(this),this[U]||null},l(T,N);function k(){}function B(U,I){for(var G=U.length;G--;)if(U[G]===I)return G}function H(U,I,G,re){if(re?I[B(I,re)]=G:I[I.length++]=G,U){G.ownerElement=U;var he=U.ownerDocument;he&&(re&&ue(he,U,re),ie(he,U,G))}}function z(U,I,G){var re=B(I,G);if(re>=0){for(var he=I.length-1;re<he;)I[re]=I[++re];if(I.length=he,U){var we=U.ownerDocument;we&&(ue(we,U,G),G.ownerElement=null)}}else throw new C(R,new Error(U.tagName+"@"+G))}k.prototype={length:0,item:N.prototype.item,getNamedItem:function(U){for(var I=this.length;I--;){var G=this[I];if(G.nodeName==U)return G}},setNamedItem:function(U){var I=U.ownerElement;if(I&&I!=this._ownerElement)throw new C(q);var G=this.getNamedItem(U.nodeName);return H(this._ownerElement,this,U,G),G},setNamedItemNS:function(U){var I=U.ownerElement,G;if(I&&I!=this._ownerElement)throw new C(q);return G=this.getNamedItemNS(U.namespaceURI,U.localName),H(this._ownerElement,this,U,G),G},removeNamedItem:function(U){var I=this.getNamedItem(U);return z(this._ownerElement,this,I),I},removeNamedItemNS:function(U,I){var G=this.getNamedItemNS(U,I);return z(this._ownerElement,this,G),G},getNamedItemNS:function(U,I){for(var G=this.length;G--;){var re=this[G];if(re.localName==I&&re.namespaceURI==U)return re}return null}};function ee(){}ee.prototype={hasFeature:function(U,I){return!0},createDocument:function(U,I,G){var re=new ne;if(re.implementation=this,re.childNodes=new N,re.doctype=G||null,G&&re.appendChild(G),I){var he=re.createElementNS(U,I);re.appendChild(he)}return re},createDocumentType:function(U,I,G){var re=new ye;return re.name=U,re.nodeName=U,re.publicId=I||"",re.systemId=G||"",re}};function O(){}O.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(U,I){return P(this,U,I)},replaceChild:function(U,I){P(this,U,I,F),I&&this.removeChild(I)},removeChild:function(U){return le(this,U)},appendChild:function(U){return this.insertBefore(U,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(U){return ht(this.ownerDocument||this,this,U)},normalize:function(){for(var U=this.firstChild;U;){var I=U.nextSibling;I&&I.nodeType==f&&U.nodeType==f?(this.removeChild(I),U.appendData(I.data)):(U.normalize(),U=I)}},isSupported:function(U,I){return this.ownerDocument.implementation.hasFeature(U,I)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(U){for(var I=this;I;){var G=I._nsMap;if(G){for(var re in G)if(Object.prototype.hasOwnProperty.call(G,re)&&G[re]===U)return re}I=I.nodeType==h?I.ownerDocument:I.parentNode}return null},lookupNamespaceURI:function(U){for(var I=this;I;){var G=I._nsMap;if(G&&Object.prototype.hasOwnProperty.call(G,U))return G[U];I=I.nodeType==h?I.ownerDocument:I.parentNode}return null},isDefaultNamespace:function(U){var I=this.lookupPrefix(U);return I==null}};function $(U){return U=="<"&&"&lt;"||U==">"&&"&gt;"||U=="&"&&"&amp;"||U=='"'&&"&quot;"||"&#"+U.charCodeAt()+";"}c(u,O),c(u,O.prototype);function X(U,I){if(I(U))return!0;if(U=U.firstChild)do if(X(U,I))return!0;while(U=U.nextSibling)}function ne(){this.ownerDocument=this}function ie(U,I,G){U&&U._inc++;var re=G.namespaceURI;re===t.XMLNS&&(I._nsMap[G.prefix?G.localName:""]=G.value)}function ue(U,I,G,re){U&&U._inc++;var he=G.namespaceURI;he===t.XMLNS&&delete I._nsMap[G.prefix?G.localName:""]}function oe(U,I,G){if(U&&U._inc){U._inc++;var re=I.childNodes;if(G)re[re.length++]=G;else{for(var he=I.firstChild,we=0;he;)re[we++]=he,he=he.nextSibling;re.length=we,delete re[re.length]}}}function le(U,I){var G=I.previousSibling,re=I.nextSibling;return G?G.nextSibling=re:U.firstChild=re,re?re.previousSibling=G:U.lastChild=G,I.parentNode=null,I.previousSibling=null,I.nextSibling=null,oe(U.ownerDocument,U),I}function fe(U){return U&&(U.nodeType===O.DOCUMENT_NODE||U.nodeType===O.DOCUMENT_FRAGMENT_NODE||U.nodeType===O.ELEMENT_NODE)}function ge(U){return U&&(Ae(U)||ke(U)||xe(U)||U.nodeType===O.DOCUMENT_FRAGMENT_NODE||U.nodeType===O.COMMENT_NODE||U.nodeType===O.PROCESSING_INSTRUCTION_NODE)}function xe(U){return U&&U.nodeType===O.DOCUMENT_TYPE_NODE}function Ae(U){return U&&U.nodeType===O.ELEMENT_NODE}function ke(U){return U&&U.nodeType===O.TEXT_NODE}function w(U,I){var G=U.childNodes||[];if(e(G,Ae)||xe(I))return!1;var re=e(G,xe);return!(I&&re&&G.indexOf(re)>G.indexOf(I))}function Q(U,I){var G=U.childNodes||[];function re(we){return Ae(we)&&we!==I}if(e(G,re))return!1;var he=e(G,xe);return!(I&&he&&G.indexOf(he)>G.indexOf(I))}function Y(U,I,G){if(!fe(U))throw new C(E,"Unexpected parent node type "+U.nodeType);if(G&&G.parentNode!==U)throw new C(R,"child not in parent");if(!ge(I)||xe(I)&&U.nodeType!==O.DOCUMENT_NODE)throw new C(E,"Unexpected node type "+I.nodeType+" for parent node type "+U.nodeType)}function L(U,I,G){var re=U.childNodes||[],he=I.childNodes||[];if(I.nodeType===O.DOCUMENT_FRAGMENT_NODE){var we=he.filter(Ae);if(we.length>1||e(he,ke))throw new C(E,"More than one element or text in fragment");if(we.length===1&&!w(U,G))throw new C(E,"Element in fragment can not be inserted before doctype")}if(Ae(I)&&!w(U,G))throw new C(E,"Only one element can be added and only after doctype");if(xe(I)){if(e(re,xe))throw new C(E,"Only one doctype is allowed");var He=e(re,Ae);if(G&&re.indexOf(He)<re.indexOf(G))throw new C(E,"Doctype can only be inserted before an element");if(!G&&He)throw new C(E,"Doctype can not be appended since element is present")}}function F(U,I,G){var re=U.childNodes||[],he=I.childNodes||[];if(I.nodeType===O.DOCUMENT_FRAGMENT_NODE){var we=he.filter(Ae);if(we.length>1||e(he,ke))throw new C(E,"More than one element or text in fragment");if(we.length===1&&!Q(U,G))throw new C(E,"Element in fragment can not be inserted before doctype")}if(Ae(I)&&!Q(U,G))throw new C(E,"Only one element can be added and only after doctype");if(xe(I)){if(e(re,function(Wt){return xe(Wt)&&Wt!==G}))throw new C(E,"Only one doctype is allowed");var He=e(re,Ae);if(G&&re.indexOf(He)<re.indexOf(G))throw new C(E,"Doctype can only be inserted before an element")}}function P(U,I,G,re){Y(U,I,G),U.nodeType===O.DOCUMENT_NODE&&(re||L)(U,I,G);var he=I.parentNode;if(he&&he.removeChild(I),I.nodeType===x){var we=I.firstChild;if(we==null)return I;var He=I.lastChild}else we=He=I;var Dt=G?G.previousSibling:U.lastChild;we.previousSibling=Dt,He.nextSibling=G,Dt?Dt.nextSibling=we:U.firstChild=we,G==null?U.lastChild=He:G.previousSibling=He;do{we.parentNode=U;var Wt=U.ownerDocument||U;te(we,Wt)}while(we!==He&&(we=we.nextSibling));return oe(U.ownerDocument||U,U),I.nodeType==x&&(I.firstChild=I.lastChild=null),I}function te(U,I){if(U.ownerDocument!==I){if(U.ownerDocument=I,U.nodeType===d&&U.attributes)for(var G=0;G<U.attributes.length;G++){var re=U.attributes.item(G);re&&(re.ownerDocument=I)}for(var he=U.firstChild;he;)te(he,I),he=he.nextSibling}}function ae(U,I){I.parentNode&&I.parentNode.removeChild(I),I.parentNode=U,I.previousSibling=U.lastChild,I.nextSibling=null,I.previousSibling?I.previousSibling.nextSibling=I:U.firstChild=I,U.lastChild=I,oe(U.ownerDocument,U,I);var G=U.ownerDocument||U;return te(I,G),I}ne.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(U,I){if(U.nodeType==x){for(var G=U.firstChild;G;){var re=G.nextSibling;this.insertBefore(G,I),G=re}return U}return P(this,U,I),te(U,this),this.documentElement===null&&U.nodeType===d&&(this.documentElement=U),U},removeChild:function(U){return this.documentElement==U&&(this.documentElement=null),le(this,U)},replaceChild:function(U,I){P(this,U,I,F),te(U,this),I&&this.removeChild(I),Ae(U)&&(this.documentElement=U)},importNode:function(U,I){return $e(this,U,I)},getElementById:function(U){var I=null;return X(this.documentElement,function(G){if(G.nodeType==d&&G.getAttribute("id")==U)return I=G,!0}),I},getElementsByClassName:function(U){var I=s(U);return new T(this,function(G){var re=[];return I.length>0&&X(G.documentElement,function(he){if(he!==G&&he.nodeType===d){var we=he.getAttribute("class");if(we){var He=U===we;if(!He){var Dt=s(we);He=I.every(a(Dt))}He&&re.push(he)}}}),re})},createElement:function(U){var I=new K;I.ownerDocument=this,I.nodeName=U,I.tagName=U,I.localName=U,I.childNodes=new N;var G=I.attributes=new k;return G._ownerElement=I,I},createDocumentFragment:function(){var U=new Me;return U.ownerDocument=this,U.childNodes=new N,U},createTextNode:function(U){var I=new Z;return I.ownerDocument=this,I.appendData(U),I},createComment:function(U){var I=new se;return I.ownerDocument=this,I.appendData(U),I},createCDATASection:function(U){var I=new de;return I.ownerDocument=this,I.appendData(U),I},createProcessingInstruction:function(U,I){var G=new J;return G.ownerDocument=this,G.tagName=G.nodeName=G.target=U,G.nodeValue=G.data=I,G},createAttribute:function(U){var I=new j;return I.ownerDocument=this,I.name=U,I.nodeName=U,I.localName=U,I.specified=!0,I},createEntityReference:function(U){var I=new Se;return I.ownerDocument=this,I.nodeName=U,I},createElementNS:function(U,I){var G=new K,re=I.split(":"),he=G.attributes=new k;return G.childNodes=new N,G.ownerDocument=this,G.nodeName=I,G.tagName=I,G.namespaceURI=U,re.length==2?(G.prefix=re[0],G.localName=re[1]):G.localName=I,he._ownerElement=G,G},createAttributeNS:function(U,I){var G=new j,re=I.split(":");return G.ownerDocument=this,G.nodeName=I,G.name=I,G.namespaceURI=U,G.specified=!0,re.length==2?(G.prefix=re[0],G.localName=re[1]):G.localName=I,G}},l(ne,O);function K(){this._nsMap={}}K.prototype={nodeType:d,hasAttribute:function(U){return this.getAttributeNode(U)!=null},getAttribute:function(U){var I=this.getAttributeNode(U);return I&&I.value||""},getAttributeNode:function(U){return this.attributes.getNamedItem(U)},setAttribute:function(U,I){var G=this.ownerDocument.createAttribute(U);G.value=G.nodeValue=""+I,this.setAttributeNode(G)},removeAttribute:function(U){var I=this.getAttributeNode(U);I&&this.removeAttributeNode(I)},appendChild:function(U){return U.nodeType===x?this.insertBefore(U,null):ae(this,U)},setAttributeNode:function(U){return this.attributes.setNamedItem(U)},setAttributeNodeNS:function(U){return this.attributes.setNamedItemNS(U)},removeAttributeNode:function(U){return this.attributes.removeNamedItem(U.nodeName)},removeAttributeNS:function(U,I){var G=this.getAttributeNodeNS(U,I);G&&this.removeAttributeNode(G)},hasAttributeNS:function(U,I){return this.getAttributeNodeNS(U,I)!=null},getAttributeNS:function(U,I){var G=this.getAttributeNodeNS(U,I);return G&&G.value||""},setAttributeNS:function(U,I,G){var re=this.ownerDocument.createAttributeNS(U,I);re.value=re.nodeValue=""+G,this.setAttributeNode(re)},getAttributeNodeNS:function(U,I){return this.attributes.getNamedItemNS(U,I)},getElementsByTagName:function(U){return new T(this,function(I){var G=[];return X(I,function(re){re!==I&&re.nodeType==d&&(U==="*"||re.tagName==U)&&G.push(re)}),G})},getElementsByTagNameNS:function(U,I){return new T(this,function(G){var re=[];return X(G,function(he){he!==G&&he.nodeType===d&&(U==="*"||he.namespaceURI===U)&&(I==="*"||he.localName==I)&&re.push(he)}),re})}},ne.prototype.getElementsByTagName=K.prototype.getElementsByTagName,ne.prototype.getElementsByTagNameNS=K.prototype.getElementsByTagNameNS,l(K,O);function j(){}j.prototype.nodeType=h,l(j,O);function V(){}V.prototype={data:"",substringData:function(U,I){return this.data.substring(U,U+I)},appendData:function(U){U=this.data+U,this.nodeValue=this.data=U,this.length=U.length},insertData:function(U,I){this.replaceData(U,0,I)},appendChild:function(U){throw new Error(S[E])},deleteData:function(U,I){this.replaceData(U,I,"")},replaceData:function(U,I,G){var re=this.data.substring(0,U),he=this.data.substring(U+I);G=re+G+he,this.nodeValue=this.data=G,this.length=G.length}},l(V,O);function Z(){}Z.prototype={nodeName:"#text",nodeType:f,splitText:function(U){var I=this.data,G=I.substring(U);I=I.substring(0,U),this.data=this.nodeValue=I,this.length=I.length;var re=this.ownerDocument.createTextNode(G);return this.parentNode&&this.parentNode.insertBefore(re,this.nextSibling),re}},l(Z,V);function se(){}se.prototype={nodeName:"#comment",nodeType:y},l(se,V);function de(){}de.prototype={nodeName:"#cdata-section",nodeType:b},l(de,V);function ye(){}ye.prototype.nodeType=_,l(ye,O);function Te(){}Te.prototype.nodeType=D,l(Te,O);function De(){}De.prototype.nodeType=g,l(De,O);function Se(){}Se.prototype.nodeType=p,l(Se,O);function Me(){}Me.prototype.nodeName="#document-fragment",Me.prototype.nodeType=x,l(Me,O);function J(){}J.prototype.nodeType=m,l(J,O);function ce(){}ce.prototype.serializeToString=function(U,I,G){return pe.call(U,I,G)},O.prototype.toString=pe;function pe(U,I){var G=[],re=this.nodeType==9&&this.documentElement||this,he=re.prefix,we=re.namespaceURI;if(we&&he==null){var he=re.lookupPrefix(we);if(he==null)var He=[{namespace:we,prefix:null}]}return Be(this,G,U,I,He),G.join("")}function ve(U,I,G){var re=U.prefix||"",he=U.namespaceURI;if(!he||re==="xml"&&he===t.XML||he===t.XMLNS)return!1;for(var we=G.length;we--;){var He=G[we];if(He.prefix===re)return He.namespace!==he}return!0}function Ue(U,I,G){U.push(" ",I,'="',G.replace(/[<>&"\t\n\r]/g,$),'"')}function Be(U,I,G,re,he){if(he||(he=[]),re)if(U=re(U),U){if(typeof U=="string"){I.push(U);return}}else return;switch(U.nodeType){case d:var we=U.attributes,He=we.length,ft=U.firstChild,Dt=U.tagName;G=t.isHTML(U.namespaceURI)||G;var Wt=Dt;if(!G&&!U.prefix&&U.namespaceURI){for(var an,Qt=0;Qt<we.length;Qt++)if(we.item(Qt).name==="xmlns"){an=we.item(Qt).value;break}if(!an)for(var xn=he.length-1;xn>=0;xn--){var Dn=he[xn];if(Dn.prefix===""&&Dn.namespace===U.namespaceURI){an=Dn.namespace;break}}if(an!==U.namespaceURI)for(var xn=he.length-1;xn>=0;xn--){var Dn=he[xn];if(Dn.namespace===U.namespaceURI){Dn.prefix&&(Wt=Dn.prefix+":"+Dt);break}}}I.push("<",Wt);for(var _n=0;_n<He;_n++){var Vt=we.item(_n);Vt.prefix=="xmlns"?he.push({prefix:Vt.localName,namespace:Vt.value}):Vt.nodeName=="xmlns"&&he.push({prefix:"",namespace:Vt.value})}for(var _n=0;_n<He;_n++){var Vt=we.item(_n);if(ve(Vt,G,he)){var wn=Vt.prefix||"",ui=Vt.namespaceURI;Ue(I,wn?"xmlns:"+wn:"xmlns",ui),he.push({prefix:wn,namespace:ui})}Be(Vt,I,G,re,he)}if(Dt===Wt&&ve(U,G,he)){var wn=U.prefix||"",ui=U.namespaceURI;Ue(I,wn?"xmlns:"+wn:"xmlns",ui),he.push({prefix:wn,namespace:ui})}if(ft||G&&!/^(?:meta|link|img|br|hr|input)$/i.test(Dt)){if(I.push(">"),G&&/^script$/i.test(Dt))for(;ft;)ft.data?I.push(ft.data):Be(ft,I,G,re,he.slice()),ft=ft.nextSibling;else for(;ft;)Be(ft,I,G,re,he.slice()),ft=ft.nextSibling;I.push("</",Wt,">")}else I.push("/>");return;case v:case x:for(var ft=U.firstChild;ft;)Be(ft,I,G,re,he.slice()),ft=ft.nextSibling;return;case h:return Ue(I,U.name,U.value);case f:return I.push(U.data.replace(/[<&>]/g,$));case b:return I.push("<![CDATA[",U.data,"]]>");case y:return I.push("<!--",U.data,"-->");case _:var Ic=U.publicId,Pn=U.systemId;if(I.push("<!DOCTYPE ",U.name),Ic)I.push(" PUBLIC ",Ic),Pn&&Pn!="."&&I.push(" ",Pn),I.push(">");else if(Pn&&Pn!=".")I.push(" SYSTEM ",Pn,">");else{var Mc=U.internalSubset;Mc&&I.push(" [",Mc,"]"),I.push(">")}return;case m:return I.push("<?",U.target," ",U.data,"?>");case p:return I.push("&",U.nodeName,";");default:I.push("??",U.nodeName)}}function $e(U,I,G){var re;switch(I.nodeType){case d:re=I.cloneNode(!1),re.ownerDocument=U;case x:break;case h:G=!0;break}if(re||(re=I.cloneNode(!1)),re.ownerDocument=U,re.parentNode=null,G)for(var he=I.firstChild;he;)re.appendChild($e(U,he,G)),he=he.nextSibling;return re}function ht(U,I,G){var re=new I.constructor;for(var he in I)if(Object.prototype.hasOwnProperty.call(I,he)){var we=I[he];typeof we!="object"&&we!=re[he]&&(re[he]=we)}switch(I.childNodes&&(re.childNodes=new N),re.ownerDocument=U,re.nodeType){case d:var He=I.attributes,Dt=re.attributes=new k,Wt=He.length;Dt._ownerElement=re;for(var an=0;an<Wt;an++)re.setAttributeNode(ht(U,He.item(an),!0));break;case h:G=!0}if(G)for(var Qt=I.firstChild;Qt;)re.appendChild(ht(U,Qt,G)),Qt=Qt.nextSibling;return re}function Ht(U,I,G){U[I]=G}try{if(Object.defineProperty){let U=function(I){switch(I.nodeType){case d:case x:var G=[];for(I=I.firstChild;I;)I.nodeType!==7&&I.nodeType!==8&&G.push(U(I)),I=I.nextSibling;return G.join("");default:return I.nodeValue}};Object.defineProperty(T.prototype,"length",{get:function(){return W(this),this.$$length}}),Object.defineProperty(O.prototype,"textContent",{get:function(){return U(this)},set:function(I){switch(this.nodeType){case d:case x:for(;this.firstChild;)this.removeChild(this.firstChild);(I||String(I))&&this.appendChild(this.ownerDocument.createTextNode(I));break;default:this.data=I,this.value=I,this.nodeValue=I}}}),Ht=function(I,G,re){I["$$"+G]=re}}}catch{}return Jt.DocumentType=ye,Jt.DOMException=C,Jt.DOMImplementation=ee,Jt.Element=K,Jt.Node=O,Jt.NodeList=N,Jt.XMLSerializer=ce,Jt}var gi={},Da={},Ll;function Pg(){return Ll||(Ll=1,(function(o){var e=ds().freeze;o.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),o.HTML_ENTITIES=e({Aacute:"√Å",aacute:"√°",Abreve:"ƒÇ",abreve:"ƒÉ",ac:"‚àæ",acd:"‚àø",acE:"‚àæÃ≥",Acirc:"√Ç",acirc:"√¢",acute:"¬¥",Acy:"–ê",acy:"–∞",AElig:"√Ü",aelig:"√¶",af:"‚Å°",Afr:"ùîÑ",afr:"ùîû",Agrave:"√Ä",agrave:"√†",alefsym:"‚Ñµ",aleph:"‚Ñµ",Alpha:"Œë",alpha:"Œ±",Amacr:"ƒÄ",amacr:"ƒÅ",amalg:"‚®ø",AMP:"&",amp:"&",And:"‚©ì",and:"‚àß",andand:"‚©ï",andd:"‚©ú",andslope:"‚©ò",andv:"‚©ö",ang:"‚à†",ange:"‚¶§",angle:"‚à†",angmsd:"‚à°",angmsdaa:"‚¶®",angmsdab:"‚¶©",angmsdac:"‚¶™",angmsdad:"‚¶´",angmsdae:"‚¶¨",angmsdaf:"‚¶≠",angmsdag:"‚¶Æ",angmsdah:"‚¶Ø",angrt:"‚àü",angrtvb:"‚äæ",angrtvbd:"‚¶ù",angsph:"‚à¢",angst:"√Ö",angzarr:"‚çº",Aogon:"ƒÑ",aogon:"ƒÖ",Aopf:"ùî∏",aopf:"ùïí",ap:"‚âà",apacir:"‚©Ø",apE:"‚©∞",ape:"‚âä",apid:"‚âã",apos:"'",ApplyFunction:"‚Å°",approx:"‚âà",approxeq:"‚âä",Aring:"√Ö",aring:"√•",Ascr:"ùíú",ascr:"ùí∂",Assign:"‚âî",ast:"*",asymp:"‚âà",asympeq:"‚âç",Atilde:"√É",atilde:"√£",Auml:"√Ñ",auml:"√§",awconint:"‚à≥",awint:"‚®ë",backcong:"‚âå",backepsilon:"œ∂",backprime:"‚Äµ",backsim:"‚àΩ",backsimeq:"‚ãç",Backslash:"‚àñ",Barv:"‚´ß",barvee:"‚äΩ",Barwed:"‚åÜ",barwed:"‚åÖ",barwedge:"‚åÖ",bbrk:"‚éµ",bbrktbrk:"‚é∂",bcong:"‚âå",Bcy:"–ë",bcy:"–±",bdquo:"‚Äû",becaus:"‚àµ",Because:"‚àµ",because:"‚àµ",bemptyv:"‚¶∞",bepsi:"œ∂",bernou:"‚Ñ¨",Bernoullis:"‚Ñ¨",Beta:"Œí",beta:"Œ≤",beth:"‚Ñ∂",between:"‚â¨",Bfr:"ùîÖ",bfr:"ùîü",bigcap:"‚ãÇ",bigcirc:"‚óØ",bigcup:"‚ãÉ",bigodot:"‚®Ä",bigoplus:"‚®Å",bigotimes:"‚®Ç",bigsqcup:"‚®Ü",bigstar:"‚òÖ",bigtriangledown:"‚ñΩ",bigtriangleup:"‚ñ≥",biguplus:"‚®Ñ",bigvee:"‚ãÅ",bigwedge:"‚ãÄ",bkarow:"‚§ç",blacklozenge:"‚ß´",blacksquare:"‚ñ™",blacktriangle:"‚ñ¥",blacktriangledown:"‚ñæ",blacktriangleleft:"‚óÇ",blacktriangleright:"‚ñ∏",blank:"‚ê£",blk12:"‚ñí",blk14:"‚ñë",blk34:"‚ñì",block:"‚ñà",bne:"=‚É•",bnequiv:"‚â°‚É•",bNot:"‚´≠",bnot:"‚åê",Bopf:"ùîπ",bopf:"ùïì",bot:"‚ä•",bottom:"‚ä•",bowtie:"‚ãà",boxbox:"‚ßâ",boxDL:"‚ïó",boxDl:"‚ïñ",boxdL:"‚ïï",boxdl:"‚îê",boxDR:"‚ïî",boxDr:"‚ïì",boxdR:"‚ïí",boxdr:"‚îå",boxH:"‚ïê",boxh:"‚îÄ",boxHD:"‚ï¶",boxHd:"‚ï§",boxhD:"‚ï•",boxhd:"‚î¨",boxHU:"‚ï©",boxHu:"‚ïß",boxhU:"‚ï®",boxhu:"‚î¥",boxminus:"‚äü",boxplus:"‚äû",boxtimes:"‚ä†",boxUL:"‚ïù",boxUl:"‚ïú",boxuL:"‚ïõ",boxul:"‚îò",boxUR:"‚ïö",boxUr:"‚ïô",boxuR:"‚ïò",boxur:"‚îî",boxV:"‚ïë",boxv:"‚îÇ",boxVH:"‚ï¨",boxVh:"‚ï´",boxvH:"‚ï™",boxvh:"‚îº",boxVL:"‚ï£",boxVl:"‚ï¢",boxvL:"‚ï°",boxvl:"‚î§",boxVR:"‚ï†",boxVr:"‚ïü",boxvR:"‚ïû",boxvr:"‚îú",bprime:"‚Äµ",Breve:"Àò",breve:"Àò",brvbar:"¬¶",Bscr:"‚Ñ¨",bscr:"ùí∑",bsemi:"‚Åè",bsim:"‚àΩ",bsime:"‚ãç",bsol:"\\",bsolb:"‚ßÖ",bsolhsub:"‚üà",bull:"‚Ä¢",bullet:"‚Ä¢",bump:"‚âé",bumpE:"‚™Æ",bumpe:"‚âè",Bumpeq:"‚âé",bumpeq:"‚âè",Cacute:"ƒÜ",cacute:"ƒá",Cap:"‚ãí",cap:"‚à©",capand:"‚©Ñ",capbrcup:"‚©â",capcap:"‚©ã",capcup:"‚©á",capdot:"‚©Ä",CapitalDifferentialD:"‚ÖÖ",caps:"‚à©Ô∏Ä",caret:"‚ÅÅ",caron:"Àá",Cayleys:"‚Ñ≠",ccaps:"‚©ç",Ccaron:"ƒå",ccaron:"ƒç",Ccedil:"√á",ccedil:"√ß",Ccirc:"ƒà",ccirc:"ƒâ",Cconint:"‚à∞",ccups:"‚©å",ccupssm:"‚©ê",Cdot:"ƒä",cdot:"ƒã",cedil:"¬∏",Cedilla:"¬∏",cemptyv:"‚¶≤",cent:"¬¢",CenterDot:"¬∑",centerdot:"¬∑",Cfr:"‚Ñ≠",cfr:"ùî†",CHcy:"–ß",chcy:"—á",check:"‚úì",checkmark:"‚úì",Chi:"Œß",chi:"œá",cir:"‚óã",circ:"ÀÜ",circeq:"‚âó",circlearrowleft:"‚Ü∫",circlearrowright:"‚Üª",circledast:"‚äõ",circledcirc:"‚äö",circleddash:"‚äù",CircleDot:"‚äô",circledR:"¬Æ",circledS:"‚ìà",CircleMinus:"‚äñ",CirclePlus:"‚äï",CircleTimes:"‚äó",cirE:"‚ßÉ",cire:"‚âó",cirfnint:"‚®ê",cirmid:"‚´Ø",cirscir:"‚ßÇ",ClockwiseContourIntegral:"‚à≤",CloseCurlyDoubleQuote:"‚Äù",CloseCurlyQuote:"‚Äô",clubs:"‚ô£",clubsuit:"‚ô£",Colon:"‚à∑",colon:":",Colone:"‚©¥",colone:"‚âî",coloneq:"‚âî",comma:",",commat:"@",comp:"‚àÅ",compfn:"‚àò",complement:"‚àÅ",complexes:"‚ÑÇ",cong:"‚âÖ",congdot:"‚©≠",Congruent:"‚â°",Conint:"‚àØ",conint:"‚àÆ",ContourIntegral:"‚àÆ",Copf:"‚ÑÇ",copf:"ùïî",coprod:"‚àê",Coproduct:"‚àê",COPY:"¬©",copy:"¬©",copysr:"‚Ñó",CounterClockwiseContourIntegral:"‚à≥",crarr:"‚Üµ",Cross:"‚®Ø",cross:"‚úó",Cscr:"ùíû",cscr:"ùí∏",csub:"‚´è",csube:"‚´ë",csup:"‚´ê",csupe:"‚´í",ctdot:"‚ãØ",cudarrl:"‚§∏",cudarrr:"‚§µ",cuepr:"‚ãû",cuesc:"‚ãü",cularr:"‚Ü∂",cularrp:"‚§Ω",Cup:"‚ãì",cup:"‚à™",cupbrcap:"‚©à",CupCap:"‚âç",cupcap:"‚©Ü",cupcup:"‚©ä",cupdot:"‚äç",cupor:"‚©Ö",cups:"‚à™Ô∏Ä",curarr:"‚Ü∑",curarrm:"‚§º",curlyeqprec:"‚ãû",curlyeqsucc:"‚ãü",curlyvee:"‚ãé",curlywedge:"‚ãè",curren:"¬§",curvearrowleft:"‚Ü∂",curvearrowright:"‚Ü∑",cuvee:"‚ãé",cuwed:"‚ãè",cwconint:"‚à≤",cwint:"‚à±",cylcty:"‚å≠",Dagger:"‚Ä°",dagger:"‚Ä†",daleth:"‚Ñ∏",Darr:"‚Ü°",dArr:"‚áì",darr:"‚Üì",dash:"‚Äê",Dashv:"‚´§",dashv:"‚ä£",dbkarow:"‚§è",dblac:"Àù",Dcaron:"ƒé",dcaron:"ƒè",Dcy:"–î",dcy:"–¥",DD:"‚ÖÖ",dd:"‚ÖÜ",ddagger:"‚Ä°",ddarr:"‚áä",DDotrahd:"‚§ë",ddotseq:"‚©∑",deg:"¬∞",Del:"‚àá",Delta:"Œî",delta:"Œ¥",demptyv:"‚¶±",dfisht:"‚•ø",Dfr:"ùîá",dfr:"ùî°",dHar:"‚••",dharl:"‚áÉ",dharr:"‚áÇ",DiacriticalAcute:"¬¥",DiacriticalDot:"Àô",DiacriticalDoubleAcute:"Àù",DiacriticalGrave:"`",DiacriticalTilde:"Àú",diam:"‚ãÑ",Diamond:"‚ãÑ",diamond:"‚ãÑ",diamondsuit:"‚ô¶",diams:"‚ô¶",die:"¬®",DifferentialD:"‚ÖÜ",digamma:"œù",disin:"‚ã≤",div:"√∑",divide:"√∑",divideontimes:"‚ãá",divonx:"‚ãá",DJcy:"–Ç",djcy:"—í",dlcorn:"‚åû",dlcrop:"‚åç",dollar:"$",Dopf:"ùîª",dopf:"ùïï",Dot:"¬®",dot:"Àô",DotDot:"‚Éú",doteq:"‚âê",doteqdot:"‚âë",DotEqual:"‚âê",dotminus:"‚à∏",dotplus:"‚àî",dotsquare:"‚ä°",doublebarwedge:"‚åÜ",DoubleContourIntegral:"‚àØ",DoubleDot:"¬®",DoubleDownArrow:"‚áì",DoubleLeftArrow:"‚áê",DoubleLeftRightArrow:"‚áî",DoubleLeftTee:"‚´§",DoubleLongLeftArrow:"‚ü∏",DoubleLongLeftRightArrow:"‚ü∫",DoubleLongRightArrow:"‚üπ",DoubleRightArrow:"‚áí",DoubleRightTee:"‚ä®",DoubleUpArrow:"‚áë",DoubleUpDownArrow:"‚áï",DoubleVerticalBar:"‚à•",DownArrow:"‚Üì",Downarrow:"‚áì",downarrow:"‚Üì",DownArrowBar:"‚§ì",DownArrowUpArrow:"‚áµ",DownBreve:"Ãë",downdownarrows:"‚áä",downharpoonleft:"‚áÉ",downharpoonright:"‚áÇ",DownLeftRightVector:"‚•ê",DownLeftTeeVector:"‚•û",DownLeftVector:"‚ÜΩ",DownLeftVectorBar:"‚•ñ",DownRightTeeVector:"‚•ü",DownRightVector:"‚áÅ",DownRightVectorBar:"‚•ó",DownTee:"‚ä§",DownTeeArrow:"‚Üß",drbkarow:"‚§ê",drcorn:"‚åü",drcrop:"‚åå",Dscr:"ùíü",dscr:"ùíπ",DScy:"–Ö",dscy:"—ï",dsol:"‚ß∂",Dstrok:"ƒê",dstrok:"ƒë",dtdot:"‚ã±",dtri:"‚ñø",dtrif:"‚ñæ",duarr:"‚áµ",duhar:"‚•Ø",dwangle:"‚¶¶",DZcy:"–è",dzcy:"—ü",dzigrarr:"‚üø",Eacute:"√â",eacute:"√©",easter:"‚©Æ",Ecaron:"ƒö",ecaron:"ƒõ",ecir:"‚âñ",Ecirc:"√ä",ecirc:"√™",ecolon:"‚âï",Ecy:"–≠",ecy:"—ç",eDDot:"‚©∑",Edot:"ƒñ",eDot:"‚âë",edot:"ƒó",ee:"‚Öá",efDot:"‚âí",Efr:"ùîà",efr:"ùî¢",eg:"‚™ö",Egrave:"√à",egrave:"√®",egs:"‚™ñ",egsdot:"‚™ò",el:"‚™ô",Element:"‚àà",elinters:"‚èß",ell:"‚Ñì",els:"‚™ï",elsdot:"‚™ó",Emacr:"ƒí",emacr:"ƒì",empty:"‚àÖ",emptyset:"‚àÖ",EmptySmallSquare:"‚óª",emptyv:"‚àÖ",EmptyVerySmallSquare:"‚ñ´",emsp:"‚ÄÉ",emsp13:"‚ÄÑ",emsp14:"‚ÄÖ",ENG:"≈ä",eng:"≈ã",ensp:"‚ÄÇ",Eogon:"ƒò",eogon:"ƒô",Eopf:"ùîº",eopf:"ùïñ",epar:"‚ãï",eparsl:"‚ß£",eplus:"‚©±",epsi:"Œµ",Epsilon:"Œï",epsilon:"Œµ",epsiv:"œµ",eqcirc:"‚âñ",eqcolon:"‚âï",eqsim:"‚âÇ",eqslantgtr:"‚™ñ",eqslantless:"‚™ï",Equal:"‚©µ",equals:"=",EqualTilde:"‚âÇ",equest:"‚âü",Equilibrium:"‚áå",equiv:"‚â°",equivDD:"‚©∏",eqvparsl:"‚ß•",erarr:"‚•±",erDot:"‚âì",Escr:"‚Ñ∞",escr:"‚ÑØ",esdot:"‚âê",Esim:"‚©≥",esim:"‚âÇ",Eta:"Œó",eta:"Œ∑",ETH:"√ê",eth:"√∞",Euml:"√ã",euml:"√´",euro:"‚Ç¨",excl:"!",exist:"‚àÉ",Exists:"‚àÉ",expectation:"‚Ñ∞",ExponentialE:"‚Öá",exponentiale:"‚Öá",fallingdotseq:"‚âí",Fcy:"–§",fcy:"—Ñ",female:"‚ôÄ",ffilig:"Ô¨É",fflig:"Ô¨Ä",ffllig:"Ô¨Ñ",Ffr:"ùîâ",ffr:"ùî£",filig:"Ô¨Å",FilledSmallSquare:"‚óº",FilledVerySmallSquare:"‚ñ™",fjlig:"fj",flat:"‚ô≠",fllig:"Ô¨Ç",fltns:"‚ñ±",fnof:"∆í",Fopf:"ùîΩ",fopf:"ùïó",ForAll:"‚àÄ",forall:"‚àÄ",fork:"‚ãî",forkv:"‚´ô",Fouriertrf:"‚Ñ±",fpartint:"‚®ç",frac12:"¬Ω",frac13:"‚Öì",frac14:"¬º",frac15:"‚Öï",frac16:"‚Öô",frac18:"‚Öõ",frac23:"‚Öî",frac25:"‚Öñ",frac34:"¬æ",frac35:"‚Öó",frac38:"‚Öú",frac45:"‚Öò",frac56:"‚Öö",frac58:"‚Öù",frac78:"‚Öû",frasl:"‚ÅÑ",frown:"‚å¢",Fscr:"‚Ñ±",fscr:"ùíª",gacute:"«µ",Gamma:"Œì",gamma:"Œ≥",Gammad:"œú",gammad:"œù",gap:"‚™Ü",Gbreve:"ƒû",gbreve:"ƒü",Gcedil:"ƒ¢",Gcirc:"ƒú",gcirc:"ƒù",Gcy:"–ì",gcy:"–≥",Gdot:"ƒ†",gdot:"ƒ°",gE:"‚âß",ge:"‚â•",gEl:"‚™å",gel:"‚ãõ",geq:"‚â•",geqq:"‚âß",geqslant:"‚©æ",ges:"‚©æ",gescc:"‚™©",gesdot:"‚™Ä",gesdoto:"‚™Ç",gesdotol:"‚™Ñ",gesl:"‚ãõÔ∏Ä",gesles:"‚™î",Gfr:"ùîä",gfr:"ùî§",Gg:"‚ãô",gg:"‚â´",ggg:"‚ãô",gimel:"‚Ñ∑",GJcy:"–É",gjcy:"—ì",gl:"‚â∑",gla:"‚™•",glE:"‚™í",glj:"‚™§",gnap:"‚™ä",gnapprox:"‚™ä",gnE:"‚â©",gne:"‚™à",gneq:"‚™à",gneqq:"‚â©",gnsim:"‚ãß",Gopf:"ùîæ",gopf:"ùïò",grave:"`",GreaterEqual:"‚â•",GreaterEqualLess:"‚ãõ",GreaterFullEqual:"‚âß",GreaterGreater:"‚™¢",GreaterLess:"‚â∑",GreaterSlantEqual:"‚©æ",GreaterTilde:"‚â≥",Gscr:"ùí¢",gscr:"‚Ñä",gsim:"‚â≥",gsime:"‚™é",gsiml:"‚™ê",Gt:"‚â´",GT:">",gt:">",gtcc:"‚™ß",gtcir:"‚©∫",gtdot:"‚ãó",gtlPar:"‚¶ï",gtquest:"‚©º",gtrapprox:"‚™Ü",gtrarr:"‚•∏",gtrdot:"‚ãó",gtreqless:"‚ãõ",gtreqqless:"‚™å",gtrless:"‚â∑",gtrsim:"‚â≥",gvertneqq:"‚â©Ô∏Ä",gvnE:"‚â©Ô∏Ä",Hacek:"Àá",hairsp:"‚Ää",half:"¬Ω",hamilt:"‚Ñã",HARDcy:"–™",hardcy:"—ä",hArr:"‚áî",harr:"‚Üî",harrcir:"‚•à",harrw:"‚Ü≠",Hat:"^",hbar:"‚Ñè",Hcirc:"ƒ§",hcirc:"ƒ•",hearts:"‚ô•",heartsuit:"‚ô•",hellip:"‚Ä¶",hercon:"‚äπ",Hfr:"‚Ñå",hfr:"ùî•",HilbertSpace:"‚Ñã",hksearow:"‚§•",hkswarow:"‚§¶",hoarr:"‚áø",homtht:"‚àª",hookleftarrow:"‚Ü©",hookrightarrow:"‚Ü™",Hopf:"‚Ñç",hopf:"ùïô",horbar:"‚Äï",HorizontalLine:"‚îÄ",Hscr:"‚Ñã",hscr:"ùíΩ",hslash:"‚Ñè",Hstrok:"ƒ¶",hstrok:"ƒß",HumpDownHump:"‚âé",HumpEqual:"‚âè",hybull:"‚ÅÉ",hyphen:"‚Äê",Iacute:"√ç",iacute:"√≠",ic:"‚Å£",Icirc:"√é",icirc:"√Æ",Icy:"–ò",icy:"–∏",Idot:"ƒ∞",IEcy:"–ï",iecy:"–µ",iexcl:"¬°",iff:"‚áî",Ifr:"‚Ñë",ifr:"ùî¶",Igrave:"√å",igrave:"√¨",ii:"‚Öà",iiiint:"‚®å",iiint:"‚à≠",iinfin:"‚ßú",iiota:"‚Ñ©",IJlig:"ƒ≤",ijlig:"ƒ≥",Im:"‚Ñë",Imacr:"ƒ™",imacr:"ƒ´",image:"‚Ñë",ImaginaryI:"‚Öà",imagline:"‚Ñê",imagpart:"‚Ñë",imath:"ƒ±",imof:"‚ä∑",imped:"∆µ",Implies:"‚áí",in:"‚àà",incare:"‚ÑÖ",infin:"‚àû",infintie:"‚ßù",inodot:"ƒ±",Int:"‚à¨",int:"‚à´",intcal:"‚ä∫",integers:"‚Ñ§",Integral:"‚à´",intercal:"‚ä∫",Intersection:"‚ãÇ",intlarhk:"‚®ó",intprod:"‚®º",InvisibleComma:"‚Å£",InvisibleTimes:"‚Å¢",IOcy:"–Å",iocy:"—ë",Iogon:"ƒÆ",iogon:"ƒØ",Iopf:"ùïÄ",iopf:"ùïö",Iota:"Œô",iota:"Œπ",iprod:"‚®º",iquest:"¬ø",Iscr:"‚Ñê",iscr:"ùíæ",isin:"‚àà",isindot:"‚ãµ",isinE:"‚ãπ",isins:"‚ã¥",isinsv:"‚ã≥",isinv:"‚àà",it:"‚Å¢",Itilde:"ƒ®",itilde:"ƒ©",Iukcy:"–Ü",iukcy:"—ñ",Iuml:"√è",iuml:"√Ø",Jcirc:"ƒ¥",jcirc:"ƒµ",Jcy:"–ô",jcy:"–π",Jfr:"ùîç",jfr:"ùîß",jmath:"»∑",Jopf:"ùïÅ",jopf:"ùïõ",Jscr:"ùí•",jscr:"ùíø",Jsercy:"–à",jsercy:"—ò",Jukcy:"–Ñ",jukcy:"—î",Kappa:"Œö",kappa:"Œ∫",kappav:"œ∞",Kcedil:"ƒ∂",kcedil:"ƒ∑",Kcy:"–ö",kcy:"–∫",Kfr:"ùîé",kfr:"ùî®",kgreen:"ƒ∏",KHcy:"–•",khcy:"—Ö",KJcy:"–å",kjcy:"—ú",Kopf:"ùïÇ",kopf:"ùïú",Kscr:"ùí¶",kscr:"ùìÄ",lAarr:"‚áö",Lacute:"ƒπ",lacute:"ƒ∫",laemptyv:"‚¶¥",lagran:"‚Ñí",Lambda:"Œõ",lambda:"Œª",Lang:"‚ü™",lang:"‚ü®",langd:"‚¶ë",langle:"‚ü®",lap:"‚™Ö",Laplacetrf:"‚Ñí",laquo:"¬´",Larr:"‚Üû",lArr:"‚áê",larr:"‚Üê",larrb:"‚á§",larrbfs:"‚§ü",larrfs:"‚§ù",larrhk:"‚Ü©",larrlp:"‚Ü´",larrpl:"‚§π",larrsim:"‚•≥",larrtl:"‚Ü¢",lat:"‚™´",lAtail:"‚§õ",latail:"‚§ô",late:"‚™≠",lates:"‚™≠Ô∏Ä",lBarr:"‚§é",lbarr:"‚§å",lbbrk:"‚ù≤",lbrace:"{",lbrack:"[",lbrke:"‚¶ã",lbrksld:"‚¶è",lbrkslu:"‚¶ç",Lcaron:"ƒΩ",lcaron:"ƒæ",Lcedil:"ƒª",lcedil:"ƒº",lceil:"‚åà",lcub:"{",Lcy:"–õ",lcy:"–ª",ldca:"‚§∂",ldquo:"‚Äú",ldquor:"‚Äû",ldrdhar:"‚•ß",ldrushar:"‚•ã",ldsh:"‚Ü≤",lE:"‚â¶",le:"‚â§",LeftAngleBracket:"‚ü®",LeftArrow:"‚Üê",Leftarrow:"‚áê",leftarrow:"‚Üê",LeftArrowBar:"‚á§",LeftArrowRightArrow:"‚áÜ",leftarrowtail:"‚Ü¢",LeftCeiling:"‚åà",LeftDoubleBracket:"‚ü¶",LeftDownTeeVector:"‚•°",LeftDownVector:"‚áÉ",LeftDownVectorBar:"‚•ô",LeftFloor:"‚åä",leftharpoondown:"‚ÜΩ",leftharpoonup:"‚Üº",leftleftarrows:"‚áá",LeftRightArrow:"‚Üî",Leftrightarrow:"‚áî",leftrightarrow:"‚Üî",leftrightarrows:"‚áÜ",leftrightharpoons:"‚áã",leftrightsquigarrow:"‚Ü≠",LeftRightVector:"‚•é",LeftTee:"‚ä£",LeftTeeArrow:"‚Ü§",LeftTeeVector:"‚•ö",leftthreetimes:"‚ãã",LeftTriangle:"‚ä≤",LeftTriangleBar:"‚ßè",LeftTriangleEqual:"‚ä¥",LeftUpDownVector:"‚•ë",LeftUpTeeVector:"‚•†",LeftUpVector:"‚Üø",LeftUpVectorBar:"‚•ò",LeftVector:"‚Üº",LeftVectorBar:"‚•í",lEg:"‚™ã",leg:"‚ãö",leq:"‚â§",leqq:"‚â¶",leqslant:"‚©Ω",les:"‚©Ω",lescc:"‚™®",lesdot:"‚©ø",lesdoto:"‚™Å",lesdotor:"‚™É",lesg:"‚ãöÔ∏Ä",lesges:"‚™ì",lessapprox:"‚™Ö",lessdot:"‚ãñ",lesseqgtr:"‚ãö",lesseqqgtr:"‚™ã",LessEqualGreater:"‚ãö",LessFullEqual:"‚â¶",LessGreater:"‚â∂",lessgtr:"‚â∂",LessLess:"‚™°",lesssim:"‚â≤",LessSlantEqual:"‚©Ω",LessTilde:"‚â≤",lfisht:"‚•º",lfloor:"‚åä",Lfr:"ùîè",lfr:"ùî©",lg:"‚â∂",lgE:"‚™ë",lHar:"‚•¢",lhard:"‚ÜΩ",lharu:"‚Üº",lharul:"‚•™",lhblk:"‚ñÑ",LJcy:"–â",ljcy:"—ô",Ll:"‚ãò",ll:"‚â™",llarr:"‚áá",llcorner:"‚åû",Lleftarrow:"‚áö",llhard:"‚•´",lltri:"‚ó∫",Lmidot:"ƒø",lmidot:"≈Ä",lmoust:"‚é∞",lmoustache:"‚é∞",lnap:"‚™â",lnapprox:"‚™â",lnE:"‚â®",lne:"‚™á",lneq:"‚™á",lneqq:"‚â®",lnsim:"‚ã¶",loang:"‚ü¨",loarr:"‚áΩ",lobrk:"‚ü¶",LongLeftArrow:"‚üµ",Longleftarrow:"‚ü∏",longleftarrow:"‚üµ",LongLeftRightArrow:"‚ü∑",Longleftrightarrow:"‚ü∫",longleftrightarrow:"‚ü∑",longmapsto:"‚üº",LongRightArrow:"‚ü∂",Longrightarrow:"‚üπ",longrightarrow:"‚ü∂",looparrowleft:"‚Ü´",looparrowright:"‚Ü¨",lopar:"‚¶Ö",Lopf:"ùïÉ",lopf:"ùïù",loplus:"‚®≠",lotimes:"‚®¥",lowast:"‚àó",lowbar:"_",LowerLeftArrow:"‚Üô",LowerRightArrow:"‚Üò",loz:"‚óä",lozenge:"‚óä",lozf:"‚ß´",lpar:"(",lparlt:"‚¶ì",lrarr:"‚áÜ",lrcorner:"‚åü",lrhar:"‚áã",lrhard:"‚•≠",lrm:"‚Äé",lrtri:"‚äø",lsaquo:"‚Äπ",Lscr:"‚Ñí",lscr:"ùìÅ",Lsh:"‚Ü∞",lsh:"‚Ü∞",lsim:"‚â≤",lsime:"‚™ç",lsimg:"‚™è",lsqb:"[",lsquo:"‚Äò",lsquor:"‚Äö",Lstrok:"≈Å",lstrok:"≈Ç",Lt:"‚â™",LT:"<",lt:"<",ltcc:"‚™¶",ltcir:"‚©π",ltdot:"‚ãñ",lthree:"‚ãã",ltimes:"‚ãâ",ltlarr:"‚•∂",ltquest:"‚©ª",ltri:"‚óÉ",ltrie:"‚ä¥",ltrif:"‚óÇ",ltrPar:"‚¶ñ",lurdshar:"‚•ä",luruhar:"‚•¶",lvertneqq:"‚â®Ô∏Ä",lvnE:"‚â®Ô∏Ä",macr:"¬Ø",male:"‚ôÇ",malt:"‚ú†",maltese:"‚ú†",Map:"‚§Ö",map:"‚Ü¶",mapsto:"‚Ü¶",mapstodown:"‚Üß",mapstoleft:"‚Ü§",mapstoup:"‚Ü•",marker:"‚ñÆ",mcomma:"‚®©",Mcy:"–ú",mcy:"–º",mdash:"‚Äî",mDDot:"‚à∫",measuredangle:"‚à°",MediumSpace:"‚Åü",Mellintrf:"‚Ñ≥",Mfr:"ùîê",mfr:"ùî™",mho:"‚Ñß",micro:"¬µ",mid:"‚à£",midast:"*",midcir:"‚´∞",middot:"¬∑",minus:"‚àí",minusb:"‚äü",minusd:"‚à∏",minusdu:"‚®™",MinusPlus:"‚àì",mlcp:"‚´õ",mldr:"‚Ä¶",mnplus:"‚àì",models:"‚äß",Mopf:"ùïÑ",mopf:"ùïû",mp:"‚àì",Mscr:"‚Ñ≥",mscr:"ùìÇ",mstpos:"‚àæ",Mu:"Œú",mu:"Œº",multimap:"‚ä∏",mumap:"‚ä∏",nabla:"‚àá",Nacute:"≈É",nacute:"≈Ñ",nang:"‚à†‚Éí",nap:"‚ââ",napE:"‚©∞Ã∏",napid:"‚âãÃ∏",napos:"≈â",napprox:"‚ââ",natur:"‚ôÆ",natural:"‚ôÆ",naturals:"‚Ñï",nbsp:"¬†",nbump:"‚âéÃ∏",nbumpe:"‚âèÃ∏",ncap:"‚©É",Ncaron:"≈á",ncaron:"≈à",Ncedil:"≈Ö",ncedil:"≈Ü",ncong:"‚âá",ncongdot:"‚©≠Ã∏",ncup:"‚©Ç",Ncy:"–ù",ncy:"–Ω",ndash:"‚Äì",ne:"‚â†",nearhk:"‚§§",neArr:"‚áó",nearr:"‚Üó",nearrow:"‚Üó",nedot:"‚âêÃ∏",NegativeMediumSpace:"‚Äã",NegativeThickSpace:"‚Äã",NegativeThinSpace:"‚Äã",NegativeVeryThinSpace:"‚Äã",nequiv:"‚â¢",nesear:"‚§®",nesim:"‚âÇÃ∏",NestedGreaterGreater:"‚â´",NestedLessLess:"‚â™",NewLine:`
`,nexist:"‚àÑ",nexists:"‚àÑ",Nfr:"ùîë",nfr:"ùî´",ngE:"‚âßÃ∏",nge:"‚â±",ngeq:"‚â±",ngeqq:"‚âßÃ∏",ngeqslant:"‚©æÃ∏",nges:"‚©æÃ∏",nGg:"‚ãôÃ∏",ngsim:"‚âµ",nGt:"‚â´‚Éí",ngt:"‚âØ",ngtr:"‚âØ",nGtv:"‚â´Ã∏",nhArr:"‚áé",nharr:"‚ÜÆ",nhpar:"‚´≤",ni:"‚àã",nis:"‚ãº",nisd:"‚ã∫",niv:"‚àã",NJcy:"–ä",njcy:"—ö",nlArr:"‚áç",nlarr:"‚Üö",nldr:"‚Ä•",nlE:"‚â¶Ã∏",nle:"‚â∞",nLeftarrow:"‚áç",nleftarrow:"‚Üö",nLeftrightarrow:"‚áé",nleftrightarrow:"‚ÜÆ",nleq:"‚â∞",nleqq:"‚â¶Ã∏",nleqslant:"‚©ΩÃ∏",nles:"‚©ΩÃ∏",nless:"‚âÆ",nLl:"‚ãòÃ∏",nlsim:"‚â¥",nLt:"‚â™‚Éí",nlt:"‚âÆ",nltri:"‚ã™",nltrie:"‚ã¨",nLtv:"‚â™Ã∏",nmid:"‚à§",NoBreak:"‚Å†",NonBreakingSpace:"¬†",Nopf:"‚Ñï",nopf:"ùïü",Not:"‚´¨",not:"¬¨",NotCongruent:"‚â¢",NotCupCap:"‚â≠",NotDoubleVerticalBar:"‚à¶",NotElement:"‚àâ",NotEqual:"‚â†",NotEqualTilde:"‚âÇÃ∏",NotExists:"‚àÑ",NotGreater:"‚âØ",NotGreaterEqual:"‚â±",NotGreaterFullEqual:"‚âßÃ∏",NotGreaterGreater:"‚â´Ã∏",NotGreaterLess:"‚âπ",NotGreaterSlantEqual:"‚©æÃ∏",NotGreaterTilde:"‚âµ",NotHumpDownHump:"‚âéÃ∏",NotHumpEqual:"‚âèÃ∏",notin:"‚àâ",notindot:"‚ãµÃ∏",notinE:"‚ãπÃ∏",notinva:"‚àâ",notinvb:"‚ã∑",notinvc:"‚ã∂",NotLeftTriangle:"‚ã™",NotLeftTriangleBar:"‚ßèÃ∏",NotLeftTriangleEqual:"‚ã¨",NotLess:"‚âÆ",NotLessEqual:"‚â∞",NotLessGreater:"‚â∏",NotLessLess:"‚â™Ã∏",NotLessSlantEqual:"‚©ΩÃ∏",NotLessTilde:"‚â¥",NotNestedGreaterGreater:"‚™¢Ã∏",NotNestedLessLess:"‚™°Ã∏",notni:"‚àå",notniva:"‚àå",notnivb:"‚ãæ",notnivc:"‚ãΩ",NotPrecedes:"‚äÄ",NotPrecedesEqual:"‚™ØÃ∏",NotPrecedesSlantEqual:"‚ã†",NotReverseElement:"‚àå",NotRightTriangle:"‚ã´",NotRightTriangleBar:"‚ßêÃ∏",NotRightTriangleEqual:"‚ã≠",NotSquareSubset:"‚äèÃ∏",NotSquareSubsetEqual:"‚ã¢",NotSquareSuperset:"‚äêÃ∏",NotSquareSupersetEqual:"‚ã£",NotSubset:"‚äÇ‚Éí",NotSubsetEqual:"‚äà",NotSucceeds:"‚äÅ",NotSucceedsEqual:"‚™∞Ã∏",NotSucceedsSlantEqual:"‚ã°",NotSucceedsTilde:"‚âøÃ∏",NotSuperset:"‚äÉ‚Éí",NotSupersetEqual:"‚äâ",NotTilde:"‚âÅ",NotTildeEqual:"‚âÑ",NotTildeFullEqual:"‚âá",NotTildeTilde:"‚ââ",NotVerticalBar:"‚à§",npar:"‚à¶",nparallel:"‚à¶",nparsl:"‚´Ω‚É•",npart:"‚àÇÃ∏",npolint:"‚®î",npr:"‚äÄ",nprcue:"‚ã†",npre:"‚™ØÃ∏",nprec:"‚äÄ",npreceq:"‚™ØÃ∏",nrArr:"‚áè",nrarr:"‚Üõ",nrarrc:"‚§≥Ã∏",nrarrw:"‚ÜùÃ∏",nRightarrow:"‚áè",nrightarrow:"‚Üõ",nrtri:"‚ã´",nrtrie:"‚ã≠",nsc:"‚äÅ",nsccue:"‚ã°",nsce:"‚™∞Ã∏",Nscr:"ùí©",nscr:"ùìÉ",nshortmid:"‚à§",nshortparallel:"‚à¶",nsim:"‚âÅ",nsime:"‚âÑ",nsimeq:"‚âÑ",nsmid:"‚à§",nspar:"‚à¶",nsqsube:"‚ã¢",nsqsupe:"‚ã£",nsub:"‚äÑ",nsubE:"‚´ÖÃ∏",nsube:"‚äà",nsubset:"‚äÇ‚Éí",nsubseteq:"‚äà",nsubseteqq:"‚´ÖÃ∏",nsucc:"‚äÅ",nsucceq:"‚™∞Ã∏",nsup:"‚äÖ",nsupE:"‚´ÜÃ∏",nsupe:"‚äâ",nsupset:"‚äÉ‚Éí",nsupseteq:"‚äâ",nsupseteqq:"‚´ÜÃ∏",ntgl:"‚âπ",Ntilde:"√ë",ntilde:"√±",ntlg:"‚â∏",ntriangleleft:"‚ã™",ntrianglelefteq:"‚ã¨",ntriangleright:"‚ã´",ntrianglerighteq:"‚ã≠",Nu:"Œù",nu:"ŒΩ",num:"#",numero:"‚Ññ",numsp:"‚Äá",nvap:"‚âç‚Éí",nVDash:"‚äØ",nVdash:"‚äÆ",nvDash:"‚ä≠",nvdash:"‚ä¨",nvge:"‚â•‚Éí",nvgt:">‚Éí",nvHarr:"‚§Ñ",nvinfin:"‚ßû",nvlArr:"‚§Ç",nvle:"‚â§‚Éí",nvlt:"<‚Éí",nvltrie:"‚ä¥‚Éí",nvrArr:"‚§É",nvrtrie:"‚äµ‚Éí",nvsim:"‚àº‚Éí",nwarhk:"‚§£",nwArr:"‚áñ",nwarr:"‚Üñ",nwarrow:"‚Üñ",nwnear:"‚§ß",Oacute:"√ì",oacute:"√≥",oast:"‚äõ",ocir:"‚äö",Ocirc:"√î",ocirc:"√¥",Ocy:"–û",ocy:"–æ",odash:"‚äù",Odblac:"≈ê",odblac:"≈ë",odiv:"‚®∏",odot:"‚äô",odsold:"‚¶º",OElig:"≈í",oelig:"≈ì",ofcir:"‚¶ø",Ofr:"ùîí",ofr:"ùî¨",ogon:"Àõ",Ograve:"√í",ograve:"√≤",ogt:"‚ßÅ",ohbar:"‚¶µ",ohm:"Œ©",oint:"‚àÆ",olarr:"‚Ü∫",olcir:"‚¶æ",olcross:"‚¶ª",oline:"‚Äæ",olt:"‚ßÄ",Omacr:"≈å",omacr:"≈ç",Omega:"Œ©",omega:"œâ",Omicron:"Œü",omicron:"Œø",omid:"‚¶∂",ominus:"‚äñ",Oopf:"ùïÜ",oopf:"ùï†",opar:"‚¶∑",OpenCurlyDoubleQuote:"‚Äú",OpenCurlyQuote:"‚Äò",operp:"‚¶π",oplus:"‚äï",Or:"‚©î",or:"‚à®",orarr:"‚Üª",ord:"‚©ù",order:"‚Ñ¥",orderof:"‚Ñ¥",ordf:"¬™",ordm:"¬∫",origof:"‚ä∂",oror:"‚©ñ",orslope:"‚©ó",orv:"‚©õ",oS:"‚ìà",Oscr:"ùí™",oscr:"‚Ñ¥",Oslash:"√ò",oslash:"√∏",osol:"‚äò",Otilde:"√ï",otilde:"√µ",Otimes:"‚®∑",otimes:"‚äó",otimesas:"‚®∂",Ouml:"√ñ",ouml:"√∂",ovbar:"‚åΩ",OverBar:"‚Äæ",OverBrace:"‚èû",OverBracket:"‚é¥",OverParenthesis:"‚èú",par:"‚à•",para:"¬∂",parallel:"‚à•",parsim:"‚´≥",parsl:"‚´Ω",part:"‚àÇ",PartialD:"‚àÇ",Pcy:"–ü",pcy:"–ø",percnt:"%",period:".",permil:"‚Ä∞",perp:"‚ä•",pertenk:"‚Ä±",Pfr:"ùîì",pfr:"ùî≠",Phi:"Œ¶",phi:"œÜ",phiv:"œï",phmmat:"‚Ñ≥",phone:"‚òé",Pi:"Œ†",pi:"œÄ",pitchfork:"‚ãî",piv:"œñ",planck:"‚Ñè",planckh:"‚Ñé",plankv:"‚Ñè",plus:"+",plusacir:"‚®£",plusb:"‚äû",pluscir:"‚®¢",plusdo:"‚àî",plusdu:"‚®•",pluse:"‚©≤",PlusMinus:"¬±",plusmn:"¬±",plussim:"‚®¶",plustwo:"‚®ß",pm:"¬±",Poincareplane:"‚Ñå",pointint:"‚®ï",Popf:"‚Ñô",popf:"ùï°",pound:"¬£",Pr:"‚™ª",pr:"‚â∫",prap:"‚™∑",prcue:"‚âº",prE:"‚™≥",pre:"‚™Ø",prec:"‚â∫",precapprox:"‚™∑",preccurlyeq:"‚âº",Precedes:"‚â∫",PrecedesEqual:"‚™Ø",PrecedesSlantEqual:"‚âº",PrecedesTilde:"‚âæ",preceq:"‚™Ø",precnapprox:"‚™π",precneqq:"‚™µ",precnsim:"‚ã®",precsim:"‚âæ",Prime:"‚Ä≥",prime:"‚Ä≤",primes:"‚Ñô",prnap:"‚™π",prnE:"‚™µ",prnsim:"‚ã®",prod:"‚àè",Product:"‚àè",profalar:"‚åÆ",profline:"‚åí",profsurf:"‚åì",prop:"‚àù",Proportion:"‚à∑",Proportional:"‚àù",propto:"‚àù",prsim:"‚âæ",prurel:"‚ä∞",Pscr:"ùí´",pscr:"ùìÖ",Psi:"Œ®",psi:"œà",puncsp:"‚Äà",Qfr:"ùîî",qfr:"ùîÆ",qint:"‚®å",Qopf:"‚Ñö",qopf:"ùï¢",qprime:"‚Åó",Qscr:"ùí¨",qscr:"ùìÜ",quaternions:"‚Ñç",quatint:"‚®ñ",quest:"?",questeq:"‚âü",QUOT:'"',quot:'"',rAarr:"‚áõ",race:"‚àΩÃ±",Racute:"≈î",racute:"≈ï",radic:"‚àö",raemptyv:"‚¶≥",Rang:"‚ü´",rang:"‚ü©",rangd:"‚¶í",range:"‚¶•",rangle:"‚ü©",raquo:"¬ª",Rarr:"‚Ü†",rArr:"‚áí",rarr:"‚Üí",rarrap:"‚•µ",rarrb:"‚á•",rarrbfs:"‚§†",rarrc:"‚§≥",rarrfs:"‚§û",rarrhk:"‚Ü™",rarrlp:"‚Ü¨",rarrpl:"‚•Ö",rarrsim:"‚•¥",Rarrtl:"‚§ñ",rarrtl:"‚Ü£",rarrw:"‚Üù",rAtail:"‚§ú",ratail:"‚§ö",ratio:"‚à∂",rationals:"‚Ñö",RBarr:"‚§ê",rBarr:"‚§è",rbarr:"‚§ç",rbbrk:"‚ù≥",rbrace:"}",rbrack:"]",rbrke:"‚¶å",rbrksld:"‚¶é",rbrkslu:"‚¶ê",Rcaron:"≈ò",rcaron:"≈ô",Rcedil:"≈ñ",rcedil:"≈ó",rceil:"‚åâ",rcub:"}",Rcy:"–†",rcy:"—Ä",rdca:"‚§∑",rdldhar:"‚•©",rdquo:"‚Äù",rdquor:"‚Äù",rdsh:"‚Ü≥",Re:"‚Ñú",real:"‚Ñú",realine:"‚Ñõ",realpart:"‚Ñú",reals:"‚Ñù",rect:"‚ñ≠",REG:"¬Æ",reg:"¬Æ",ReverseElement:"‚àã",ReverseEquilibrium:"‚áã",ReverseUpEquilibrium:"‚•Ø",rfisht:"‚•Ω",rfloor:"‚åã",Rfr:"‚Ñú",rfr:"ùîØ",rHar:"‚•§",rhard:"‚áÅ",rharu:"‚áÄ",rharul:"‚•¨",Rho:"Œ°",rho:"œÅ",rhov:"œ±",RightAngleBracket:"‚ü©",RightArrow:"‚Üí",Rightarrow:"‚áí",rightarrow:"‚Üí",RightArrowBar:"‚á•",RightArrowLeftArrow:"‚áÑ",rightarrowtail:"‚Ü£",RightCeiling:"‚åâ",RightDoubleBracket:"‚üß",RightDownTeeVector:"‚•ù",RightDownVector:"‚áÇ",RightDownVectorBar:"‚•ï",RightFloor:"‚åã",rightharpoondown:"‚áÅ",rightharpoonup:"‚áÄ",rightleftarrows:"‚áÑ",rightleftharpoons:"‚áå",rightrightarrows:"‚áâ",rightsquigarrow:"‚Üù",RightTee:"‚ä¢",RightTeeArrow:"‚Ü¶",RightTeeVector:"‚•õ",rightthreetimes:"‚ãå",RightTriangle:"‚ä≥",RightTriangleBar:"‚ßê",RightTriangleEqual:"‚äµ",RightUpDownVector:"‚•è",RightUpTeeVector:"‚•ú",RightUpVector:"‚Üæ",RightUpVectorBar:"‚•î",RightVector:"‚áÄ",RightVectorBar:"‚•ì",ring:"Àö",risingdotseq:"‚âì",rlarr:"‚áÑ",rlhar:"‚áå",rlm:"‚Äè",rmoust:"‚é±",rmoustache:"‚é±",rnmid:"‚´Æ",roang:"‚ü≠",roarr:"‚áæ",robrk:"‚üß",ropar:"‚¶Ü",Ropf:"‚Ñù",ropf:"ùï£",roplus:"‚®Æ",rotimes:"‚®µ",RoundImplies:"‚•∞",rpar:")",rpargt:"‚¶î",rppolint:"‚®í",rrarr:"‚áâ",Rrightarrow:"‚áõ",rsaquo:"‚Ä∫",Rscr:"‚Ñõ",rscr:"ùìá",Rsh:"‚Ü±",rsh:"‚Ü±",rsqb:"]",rsquo:"‚Äô",rsquor:"‚Äô",rthree:"‚ãå",rtimes:"‚ãä",rtri:"‚ñπ",rtrie:"‚äµ",rtrif:"‚ñ∏",rtriltri:"‚ßé",RuleDelayed:"‚ß¥",ruluhar:"‚•®",rx:"‚Ñû",Sacute:"≈ö",sacute:"≈õ",sbquo:"‚Äö",Sc:"‚™º",sc:"‚âª",scap:"‚™∏",Scaron:"≈†",scaron:"≈°",sccue:"‚âΩ",scE:"‚™¥",sce:"‚™∞",Scedil:"≈û",scedil:"≈ü",Scirc:"≈ú",scirc:"≈ù",scnap:"‚™∫",scnE:"‚™∂",scnsim:"‚ã©",scpolint:"‚®ì",scsim:"‚âø",Scy:"–°",scy:"—Å",sdot:"‚ãÖ",sdotb:"‚ä°",sdote:"‚©¶",searhk:"‚§•",seArr:"‚áò",searr:"‚Üò",searrow:"‚Üò",sect:"¬ß",semi:";",seswar:"‚§©",setminus:"‚àñ",setmn:"‚àñ",sext:"‚ú∂",Sfr:"ùîñ",sfr:"ùî∞",sfrown:"‚å¢",sharp:"‚ôØ",SHCHcy:"–©",shchcy:"—â",SHcy:"–®",shcy:"—à",ShortDownArrow:"‚Üì",ShortLeftArrow:"‚Üê",shortmid:"‚à£",shortparallel:"‚à•",ShortRightArrow:"‚Üí",ShortUpArrow:"‚Üë",shy:"¬≠",Sigma:"Œ£",sigma:"œÉ",sigmaf:"œÇ",sigmav:"œÇ",sim:"‚àº",simdot:"‚©™",sime:"‚âÉ",simeq:"‚âÉ",simg:"‚™û",simgE:"‚™†",siml:"‚™ù",simlE:"‚™ü",simne:"‚âÜ",simplus:"‚®§",simrarr:"‚•≤",slarr:"‚Üê",SmallCircle:"‚àò",smallsetminus:"‚àñ",smashp:"‚®≥",smeparsl:"‚ß§",smid:"‚à£",smile:"‚å£",smt:"‚™™",smte:"‚™¨",smtes:"‚™¨Ô∏Ä",SOFTcy:"–¨",softcy:"—å",sol:"/",solb:"‚ßÑ",solbar:"‚åø",Sopf:"ùïä",sopf:"ùï§",spades:"‚ô†",spadesuit:"‚ô†",spar:"‚à•",sqcap:"‚äì",sqcaps:"‚äìÔ∏Ä",sqcup:"‚äî",sqcups:"‚äîÔ∏Ä",Sqrt:"‚àö",sqsub:"‚äè",sqsube:"‚äë",sqsubset:"‚äè",sqsubseteq:"‚äë",sqsup:"‚äê",sqsupe:"‚äí",sqsupset:"‚äê",sqsupseteq:"‚äí",squ:"‚ñ°",Square:"‚ñ°",square:"‚ñ°",SquareIntersection:"‚äì",SquareSubset:"‚äè",SquareSubsetEqual:"‚äë",SquareSuperset:"‚äê",SquareSupersetEqual:"‚äí",SquareUnion:"‚äî",squarf:"‚ñ™",squf:"‚ñ™",srarr:"‚Üí",Sscr:"ùíÆ",sscr:"ùìà",ssetmn:"‚àñ",ssmile:"‚å£",sstarf:"‚ãÜ",Star:"‚ãÜ",star:"‚òÜ",starf:"‚òÖ",straightepsilon:"œµ",straightphi:"œï",strns:"¬Ø",Sub:"‚ãê",sub:"‚äÇ",subdot:"‚™Ω",subE:"‚´Ö",sube:"‚äÜ",subedot:"‚´É",submult:"‚´Å",subnE:"‚´ã",subne:"‚ää",subplus:"‚™ø",subrarr:"‚•π",Subset:"‚ãê",subset:"‚äÇ",subseteq:"‚äÜ",subseteqq:"‚´Ö",SubsetEqual:"‚äÜ",subsetneq:"‚ää",subsetneqq:"‚´ã",subsim:"‚´á",subsub:"‚´ï",subsup:"‚´ì",succ:"‚âª",succapprox:"‚™∏",succcurlyeq:"‚âΩ",Succeeds:"‚âª",SucceedsEqual:"‚™∞",SucceedsSlantEqual:"‚âΩ",SucceedsTilde:"‚âø",succeq:"‚™∞",succnapprox:"‚™∫",succneqq:"‚™∂",succnsim:"‚ã©",succsim:"‚âø",SuchThat:"‚àã",Sum:"‚àë",sum:"‚àë",sung:"‚ô™",Sup:"‚ãë",sup:"‚äÉ",sup1:"¬π",sup2:"¬≤",sup3:"¬≥",supdot:"‚™æ",supdsub:"‚´ò",supE:"‚´Ü",supe:"‚äá",supedot:"‚´Ñ",Superset:"‚äÉ",SupersetEqual:"‚äá",suphsol:"‚üâ",suphsub:"‚´ó",suplarr:"‚•ª",supmult:"‚´Ç",supnE:"‚´å",supne:"‚äã",supplus:"‚´Ä",Supset:"‚ãë",supset:"‚äÉ",supseteq:"‚äá",supseteqq:"‚´Ü",supsetneq:"‚äã",supsetneqq:"‚´å",supsim:"‚´à",supsub:"‚´î",supsup:"‚´ñ",swarhk:"‚§¶",swArr:"‚áô",swarr:"‚Üô",swarrow:"‚Üô",swnwar:"‚§™",szlig:"√ü",Tab:"	",target:"‚åñ",Tau:"Œ§",tau:"œÑ",tbrk:"‚é¥",Tcaron:"≈§",tcaron:"≈•",Tcedil:"≈¢",tcedil:"≈£",Tcy:"–¢",tcy:"—Ç",tdot:"‚Éõ",telrec:"‚åï",Tfr:"ùîó",tfr:"ùî±",there4:"‚à¥",Therefore:"‚à¥",therefore:"‚à¥",Theta:"Œò",theta:"Œ∏",thetasym:"œë",thetav:"œë",thickapprox:"‚âà",thicksim:"‚àº",ThickSpace:"‚Åü‚Ää",thinsp:"‚Äâ",ThinSpace:"‚Äâ",thkap:"‚âà",thksim:"‚àº",THORN:"√û",thorn:"√æ",Tilde:"‚àº",tilde:"Àú",TildeEqual:"‚âÉ",TildeFullEqual:"‚âÖ",TildeTilde:"‚âà",times:"√ó",timesb:"‚ä†",timesbar:"‚®±",timesd:"‚®∞",tint:"‚à≠",toea:"‚§®",top:"‚ä§",topbot:"‚å∂",topcir:"‚´±",Topf:"ùïã",topf:"ùï•",topfork:"‚´ö",tosa:"‚§©",tprime:"‚Ä¥",TRADE:"‚Ñ¢",trade:"‚Ñ¢",triangle:"‚ñµ",triangledown:"‚ñø",triangleleft:"‚óÉ",trianglelefteq:"‚ä¥",triangleq:"‚âú",triangleright:"‚ñπ",trianglerighteq:"‚äµ",tridot:"‚ó¨",trie:"‚âú",triminus:"‚®∫",TripleDot:"‚Éõ",triplus:"‚®π",trisb:"‚ßç",tritime:"‚®ª",trpezium:"‚è¢",Tscr:"ùíØ",tscr:"ùìâ",TScy:"–¶",tscy:"—Ü",TSHcy:"–ã",tshcy:"—õ",Tstrok:"≈¶",tstrok:"≈ß",twixt:"‚â¨",twoheadleftarrow:"‚Üû",twoheadrightarrow:"‚Ü†",Uacute:"√ö",uacute:"√∫",Uarr:"‚Üü",uArr:"‚áë",uarr:"‚Üë",Uarrocir:"‚•â",Ubrcy:"–é",ubrcy:"—û",Ubreve:"≈¨",ubreve:"≈≠",Ucirc:"√õ",ucirc:"√ª",Ucy:"–£",ucy:"—É",udarr:"‚áÖ",Udblac:"≈∞",udblac:"≈±",udhar:"‚•Æ",ufisht:"‚•æ",Ufr:"ùîò",ufr:"ùî≤",Ugrave:"√ô",ugrave:"√π",uHar:"‚•£",uharl:"‚Üø",uharr:"‚Üæ",uhblk:"‚ñÄ",ulcorn:"‚åú",ulcorner:"‚åú",ulcrop:"‚åè",ultri:"‚ó∏",Umacr:"≈™",umacr:"≈´",uml:"¬®",UnderBar:"_",UnderBrace:"‚èü",UnderBracket:"‚éµ",UnderParenthesis:"‚èù",Union:"‚ãÉ",UnionPlus:"‚äé",Uogon:"≈≤",uogon:"≈≥",Uopf:"ùïå",uopf:"ùï¶",UpArrow:"‚Üë",Uparrow:"‚áë",uparrow:"‚Üë",UpArrowBar:"‚§í",UpArrowDownArrow:"‚áÖ",UpDownArrow:"‚Üï",Updownarrow:"‚áï",updownarrow:"‚Üï",UpEquilibrium:"‚•Æ",upharpoonleft:"‚Üø",upharpoonright:"‚Üæ",uplus:"‚äé",UpperLeftArrow:"‚Üñ",UpperRightArrow:"‚Üó",Upsi:"œí",upsi:"œÖ",upsih:"œí",Upsilon:"Œ•",upsilon:"œÖ",UpTee:"‚ä•",UpTeeArrow:"‚Ü•",upuparrows:"‚áà",urcorn:"‚åù",urcorner:"‚åù",urcrop:"‚åé",Uring:"≈Æ",uring:"≈Ø",urtri:"‚óπ",Uscr:"ùí∞",uscr:"ùìä",utdot:"‚ã∞",Utilde:"≈®",utilde:"≈©",utri:"‚ñµ",utrif:"‚ñ¥",uuarr:"‚áà",Uuml:"√ú",uuml:"√º",uwangle:"‚¶ß",vangrt:"‚¶ú",varepsilon:"œµ",varkappa:"œ∞",varnothing:"‚àÖ",varphi:"œï",varpi:"œñ",varpropto:"‚àù",vArr:"‚áï",varr:"‚Üï",varrho:"œ±",varsigma:"œÇ",varsubsetneq:"‚ääÔ∏Ä",varsubsetneqq:"‚´ãÔ∏Ä",varsupsetneq:"‚äãÔ∏Ä",varsupsetneqq:"‚´åÔ∏Ä",vartheta:"œë",vartriangleleft:"‚ä≤",vartriangleright:"‚ä≥",Vbar:"‚´´",vBar:"‚´®",vBarv:"‚´©",Vcy:"–í",vcy:"–≤",VDash:"‚ä´",Vdash:"‚ä©",vDash:"‚ä®",vdash:"‚ä¢",Vdashl:"‚´¶",Vee:"‚ãÅ",vee:"‚à®",veebar:"‚äª",veeeq:"‚âö",vellip:"‚ãÆ",Verbar:"‚Äñ",verbar:"|",Vert:"‚Äñ",vert:"|",VerticalBar:"‚à£",VerticalLine:"|",VerticalSeparator:"‚ùò",VerticalTilde:"‚âÄ",VeryThinSpace:"‚Ää",Vfr:"ùîô",vfr:"ùî≥",vltri:"‚ä≤",vnsub:"‚äÇ‚Éí",vnsup:"‚äÉ‚Éí",Vopf:"ùïç",vopf:"ùïß",vprop:"‚àù",vrtri:"‚ä≥",Vscr:"ùí±",vscr:"ùìã",vsubnE:"‚´ãÔ∏Ä",vsubne:"‚ääÔ∏Ä",vsupnE:"‚´åÔ∏Ä",vsupne:"‚äãÔ∏Ä",Vvdash:"‚ä™",vzigzag:"‚¶ö",Wcirc:"≈¥",wcirc:"≈µ",wedbar:"‚©ü",Wedge:"‚ãÄ",wedge:"‚àß",wedgeq:"‚âô",weierp:"‚Ñò",Wfr:"ùîö",wfr:"ùî¥",Wopf:"ùïé",wopf:"ùï®",wp:"‚Ñò",wr:"‚âÄ",wreath:"‚âÄ",Wscr:"ùí≤",wscr:"ùìå",xcap:"‚ãÇ",xcirc:"‚óØ",xcup:"‚ãÉ",xdtri:"‚ñΩ",Xfr:"ùîõ",xfr:"ùîµ",xhArr:"‚ü∫",xharr:"‚ü∑",Xi:"Œû",xi:"Œæ",xlArr:"‚ü∏",xlarr:"‚üµ",xmap:"‚üº",xnis:"‚ãª",xodot:"‚®Ä",Xopf:"ùïè",xopf:"ùï©",xoplus:"‚®Å",xotime:"‚®Ç",xrArr:"‚üπ",xrarr:"‚ü∂",Xscr:"ùí≥",xscr:"ùìç",xsqcup:"‚®Ü",xuplus:"‚®Ñ",xutri:"‚ñ≥",xvee:"‚ãÅ",xwedge:"‚ãÄ",Yacute:"√ù",yacute:"√Ω",YAcy:"–Ø",yacy:"—è",Ycirc:"≈∂",ycirc:"≈∑",Ycy:"–´",ycy:"—ã",yen:"¬•",Yfr:"ùîú",yfr:"ùî∂",YIcy:"–á",yicy:"—ó",Yopf:"ùïê",yopf:"ùï™",Yscr:"ùí¥",yscr:"ùìé",YUcy:"–Æ",yucy:"—é",Yuml:"≈∏",yuml:"√ø",Zacute:"≈π",zacute:"≈∫",Zcaron:"≈Ω",zcaron:"≈æ",Zcy:"–ó",zcy:"–∑",Zdot:"≈ª",zdot:"≈º",zeetrf:"‚Ñ®",ZeroWidthSpace:"‚Äã",Zeta:"Œñ",zeta:"Œ∂",Zfr:"‚Ñ®",zfr:"ùî∑",ZHcy:"–ñ",zhcy:"–∂",zigrarr:"‚áù",Zopf:"‚Ñ§",zopf:"ùï´",Zscr:"ùíµ",zscr:"ùìè",zwj:"‚Äç",zwnj:"‚Äå"}),o.entityMap=o.HTML_ENTITIES})(Da)),Da}var or={},Pl;function Og(){if(Pl)return or;Pl=1;var o=ds().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,r=1,s=2,a=3,c=4,l=5,u=6,d=7;function h(E,R){this.message=E,this.locator=R,Error.captureStackTrace&&Error.captureStackTrace(this,h)}h.prototype=new Error,h.prototype.name=h.name;function f(){}f.prototype={parse:function(E,R,q){var C=this.domBuilder;C.startDocument(),_(R,R={}),b(E,R,q,C,this.errorHandler),C.endDocument()}};function b(E,R,q,C,N){function T(ae){if(ae>65535){ae-=65536;var K=55296+(ae>>10),j=56320+(ae&1023);return String.fromCharCode(K,j)}else return String.fromCharCode(ae)}function W(ae){var K=ae.slice(1,-1);return Object.hasOwnProperty.call(q,K)?q[K]:K.charAt(0)==="#"?T(parseInt(K.substr(1).replace("x","0x"))):(N.error("entity not found:"+ae),ae)}function k(ae){if(ae>ne){var K=E.substring(ne,ae).replace(/&#?\w+;/g,W);O&&B(ne),C.characters(K,0,ae-ne),ne=ae}}function B(ae,K){for(;ae>=z&&(K=ee.exec(E));)H=K.index,z=H+K[0].length,O.lineNumber++;O.columnNumber=ae-H+1}for(var H=0,z=0,ee=/.*(?:\r\n?|\n)|.*$/g,O=C.locator,$=[{currentNSMap:R}],X={},ne=0;;){try{var ie=E.indexOf("<",ne);if(ie<0){if(!E.substr(ne).match(/^\s*$/)){var ue=C.doc,oe=ue.createTextNode(E.substr(ne));ue.appendChild(oe),C.currentElement=oe}return}switch(ie>ne&&k(ie),E.charAt(ie+1)){case"/":var Y=E.indexOf(">",ie+3),le=E.substring(ie+2,Y).replace(/[ \t\n\r]+$/g,""),fe=$.pop();Y<0?(le=E.substring(ie+2).replace(/[\s<].*/,""),N.error("end tag name: "+le+" is not complete:"+fe.tagName),Y=ie+1+le.length):le.match(/\s</)&&(le=le.replace(/[\s<].*/,""),N.error("end tag name: "+le+" maybe not complete"),Y=ie+1+le.length);var ge=fe.localNSMap,xe=fe.tagName==le,Ae=xe||fe.tagName&&fe.tagName.toLowerCase()==le.toLowerCase();if(Ae){if(C.endElement(fe.uri,fe.localName,le),ge)for(var ke in ge)Object.prototype.hasOwnProperty.call(ge,ke)&&C.endPrefixMapping(ke);xe||N.fatalError("end tag name: "+le+" is not match the current start tagName:"+fe.tagName)}else $.push(fe);Y++;break;case"?":O&&B(ie),Y=D(E,ie,C);break;case"!":O&&B(ie),Y=x(E,ie,C,N);break;default:O&&B(ie);var w=new A,Q=$[$.length-1].currentNSMap,Y=g(E,ie,w,Q,W,N),L=w.length;if(!w.closed&&v(E,Y,w.tagName,X)&&(w.closed=!0,q.nbsp||N.warning("unclosed xml attribute")),O&&L){for(var F=p(O,{}),P=0;P<L;P++){var te=w[P];B(te.offset),te.locator=p(O,{})}C.locator=F,m(w,C,Q)&&$.push(w),C.locator=O}else m(w,C,Q)&&$.push(w);o.isHTML(w.uri)&&!w.closed?Y=y(E,Y,w.tagName,W,C):Y++}}catch(ae){if(ae instanceof h)throw ae;N.error("element parse error: "+ae),Y=-1}Y>ne?ne=Y:k(Math.max(ie,ne)+1)}}function p(E,R){return R.lineNumber=E.lineNumber,R.columnNumber=E.columnNumber,R}function g(E,R,q,C,N,T){function W(O,$,X){q.attributeNames.hasOwnProperty(O)&&T.fatalError("Attribute "+O+" redefined"),q.addValue(O,$.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,N),X)}for(var k,B,H=++R,z=i;;){var ee=E.charAt(H);switch(ee){case"=":if(z===r)k=E.slice(R,H),z=a;else if(z===s)z=a;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(z===a||z===r)if(z===r&&(T.warning('attribute value must after "="'),k=E.slice(R,H)),R=H+1,H=E.indexOf(ee,R),H>0)B=E.slice(R,H),W(k,B,R-1),z=l;else throw new Error("attribute value no end '"+ee+"' match");else if(z==c)B=E.slice(R,H),W(k,B,R),T.warning('attribute "'+k+'" missed start quot('+ee+")!!"),R=H+1,z=l;else throw new Error('attribute value must after "="');break;case"/":switch(z){case i:q.setTagName(E.slice(R,H));case l:case u:case d:z=d,q.closed=!0;case c:case r:break;case s:q.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return T.error("unexpected end of input"),z==i&&q.setTagName(E.slice(R,H)),H;case">":switch(z){case i:q.setTagName(E.slice(R,H));case l:case u:case d:break;case c:case r:B=E.slice(R,H),B.slice(-1)==="/"&&(q.closed=!0,B=B.slice(0,-1));case s:z===s&&(B=k),z==c?(T.warning('attribute "'+B+'" missed quot(")!'),W(k,B,R)):((!o.isHTML(C[""])||!B.match(/^(?:disabled|checked|selected)$/i))&&T.warning('attribute "'+B+'" missed value!! "'+B+'" instead!!'),W(B,B,R));break;case a:throw new Error("attribute value missed!!")}return H;case"¬Ä":ee=" ";default:if(ee<=" ")switch(z){case i:q.setTagName(E.slice(R,H)),z=u;break;case r:k=E.slice(R,H),z=s;break;case c:var B=E.slice(R,H);T.warning('attribute "'+B+'" missed quot(")!!'),W(k,B,R);case l:z=u;break}else switch(z){case s:q.tagName,(!o.isHTML(C[""])||!k.match(/^(?:disabled|checked|selected)$/i))&&T.warning('attribute "'+k+'" missed value!! "'+k+'" instead2!!'),W(k,k,R),R=H,z=r;break;case l:T.warning('attribute space is required"'+k+'"!!');case u:z=r,R=H;break;case a:z=c,R=H;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}H++}}function m(E,R,q){for(var C=E.tagName,N=null,ee=E.length;ee--;){var T=E[ee],W=T.qName,k=T.value,O=W.indexOf(":");if(O>0)var B=T.prefix=W.slice(0,O),H=W.slice(O+1),z=B==="xmlns"&&H;else H=W,B=null,z=W==="xmlns"&&"";T.localName=H,z!==!1&&(N==null&&(N={},_(q,q={})),q[z]=N[z]=k,T.uri=o.XMLNS,R.startPrefixMapping(z,k))}for(var ee=E.length;ee--;){T=E[ee];var B=T.prefix;B&&(B==="xml"&&(T.uri=o.XML),B!=="xmlns"&&(T.uri=q[B||""]))}var O=C.indexOf(":");O>0?(B=E.prefix=C.slice(0,O),H=E.localName=C.slice(O+1)):(B=null,H=E.localName=C);var $=E.uri=q[B||""];if(R.startElement($,H,C,E),E.closed){if(R.endElement($,H,C),N)for(B in N)Object.prototype.hasOwnProperty.call(N,B)&&R.endPrefixMapping(B)}else return E.currentNSMap=q,E.localNSMap=N,!0}function y(E,R,q,C,N){if(/^(?:script|textarea)$/i.test(q)){var T=E.indexOf("</"+q+">",R),W=E.substring(R+1,T);if(/[&<]/.test(W))return/^script$/i.test(q)?(N.characters(W,0,W.length),T):(W=W.replace(/&#?\w+;/g,C),N.characters(W,0,W.length),T)}return R+1}function v(E,R,q,C){var N=C[q];return N==null&&(N=E.lastIndexOf("</"+q+">"),N<R&&(N=E.lastIndexOf("</"+q)),C[q]=N),N<R}function _(E,R){for(var q in E)Object.prototype.hasOwnProperty.call(E,q)&&(R[q]=E[q])}function x(E,R,q,C){var N=E.charAt(R+2);switch(N){case"-":if(E.charAt(R+3)==="-"){var T=E.indexOf("-->",R+4);return T>R?(q.comment(E,R+4,T-R-4),T+3):(C.error("Unclosed comment"),-1)}else return-1;default:if(E.substr(R+3,6)=="CDATA["){var T=E.indexOf("]]>",R+9);return q.startCDATA(),q.characters(E,R+9,T-R-9),q.endCDATA(),T+3}var W=S(E,R),k=W.length;if(k>1&&/!doctype/i.test(W[0][0])){var B=W[1][0],H=!1,z=!1;k>3&&(/^public$/i.test(W[2][0])?(H=W[3][0],z=k>4&&W[4][0]):/^system$/i.test(W[2][0])&&(z=W[3][0]));var ee=W[k-1];return q.startDTD(B,H,z),q.endDTD(),ee.index+ee[0].length}}return-1}function D(E,R,q){var C=E.indexOf("?>",R);if(C){var N=E.substring(R,C).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return N?(N[0].length,q.processingInstruction(N[1],N[2]),C+2):-1}return-1}function A(){this.attributeNames={}}A.prototype={setTagName:function(E){if(!n.test(E))throw new Error("invalid tagName:"+E);this.tagName=E},addValue:function(E,R,q){if(!n.test(E))throw new Error("invalid attribute:"+E);this.attributeNames[E]=this.length,this[this.length++]={qName:E,value:R,offset:q}},length:0,getLocalName:function(E){return this[E].localName},getLocator:function(E){return this[E].locator},getQName:function(E){return this[E].qName},getURI:function(E){return this[E].uri},getValue:function(E){return this[E].value}};function S(E,R){var q,C=[],N=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(N.lastIndex=R,N.exec(E);q=N.exec(E);)if(C.push(q),q[1])return C}return or.XMLReader=f,or.ParseError=h,or}var Ol;function Wg(){if(Ol)return gi;Ol=1;var o=ds(),e=gc(),t=Pg(),n=Og(),i=e.DOMImplementation,r=o.NAMESPACE,s=n.ParseError,a=n.XMLReader;function c(g){return g.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function l(g){this.options=g||{locator:{}}}l.prototype.parseFromString=function(g,m){var y=this.options,v=new a,_=y.domBuilder||new d,x=y.errorHandler,D=y.locator,A=y.xmlns||{},S=/\/x?html?$/.test(m),E=S?t.HTML_ENTITIES:t.XML_ENTITIES;D&&_.setDocumentLocator(D),v.errorHandler=u(x,_,D),v.domBuilder=y.domBuilder||_,S&&(A[""]=r.HTML),A.xml=A.xml||r.XML;var R=y.normalizeLineEndings||c;return g&&typeof g=="string"?v.parse(R(g),A,E):v.errorHandler.error("invalid doc source"),_.doc};function u(g,m,y){if(!g){if(m instanceof d)return m;g=m}var v={},_=g instanceof Function;y=y||{};function x(D){var A=g[D];!A&&_&&(A=g.length==2?function(S){g(D,S)}:g),v[D]=A&&function(S){A("[xmldom "+D+"]	"+S+f(y))}||function(){}}return x("warning"),x("error"),x("fatalError"),v}function d(){this.cdata=!1}function h(g,m){m.lineNumber=g.lineNumber,m.columnNumber=g.columnNumber}d.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(g,m,y,v){var _=this.doc,x=_.createElementNS(g,y||m),D=v.length;p(this,x),this.currentElement=x,this.locator&&h(this.locator,x);for(var A=0;A<D;A++){var g=v.getURI(A),S=v.getValue(A),y=v.getQName(A),E=_.createAttributeNS(g,y);this.locator&&h(v.getLocator(A),E),E.value=E.nodeValue=S,x.setAttributeNode(E)}},endElement:function(g,m,y){var v=this.currentElement;v.tagName,this.currentElement=v.parentNode},startPrefixMapping:function(g,m){},endPrefixMapping:function(g){},processingInstruction:function(g,m){var y=this.doc.createProcessingInstruction(g,m);this.locator&&h(this.locator,y),p(this,y)},ignorableWhitespace:function(g,m,y){},characters:function(g,m,y){if(g=b.apply(this,arguments),g){if(this.cdata)var v=this.doc.createCDATASection(g);else var v=this.doc.createTextNode(g);this.currentElement?this.currentElement.appendChild(v):/^\s*$/.test(g)&&this.doc.appendChild(v),this.locator&&h(this.locator,v)}},skippedEntity:function(g){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(g){(this.locator=g)&&(g.lineNumber=0)},comment:function(g,m,y){g=b.apply(this,arguments);var v=this.doc.createComment(g);this.locator&&h(this.locator,v),p(this,v)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(g,m,y){var v=this.doc.implementation;if(v&&v.createDocumentType){var _=v.createDocumentType(g,m,y);this.locator&&h(this.locator,_),p(this,_),this.doc.doctype=_}},warning:function(g){console.warn("[xmldom warning]	"+g,f(this.locator))},error:function(g){console.error("[xmldom error]	"+g,f(this.locator))},fatalError:function(g){throw new s(g,this.locator)}};function f(g){if(g)return`
@`+(g.systemId||"")+"#[line:"+g.lineNumber+",col:"+g.columnNumber+"]"}function b(g,m,y){return typeof g=="string"?g.substr(m,y):g.length>=m+y||m?new java.lang.String(g,m,y)+"":g}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(g){d.prototype[g]=function(){return null}});function p(g,m){g.currentElement?g.currentElement.appendChild(m):g.doc.appendChild(m)}return gi.__DOMHandler=d,gi.normalizeLineEndings=c,gi.DOMParser=l,gi}var Wl;function jg(){if(Wl)return pi;Wl=1;var o=gc();return pi.DOMImplementation=o.DOMImplementation,pi.XMLSerializer=o.XMLSerializer,pi.DOMParser=Wg().DOMParser,pi}var jl;function qg(){if(jl)return ar;jl=1;var o=jg(),e=gc();function t(n){var i=null,r=new o.DOMParser({errorHandler:function(a,c){i={level:a,message:c}}}),s=r.parseFromString(n);if(i===null)return s;throw new Error(i.level+": "+i.message)}return ar.parseFromString=t,ar.Node=e.Node,ar}var ql;function zg(){if(ql)return xa;ql=1;var o=yn(),e=Je,t=qg(),n=yf(),i=n.Element;xa.readString=s;var r=t.Node;function s(a,c){c=c||{};try{var l=t.parseFromString(a,"text/xml")}catch(f){return o.reject(f)}if(l.documentElement.tagName==="parsererror")return o.resolve(new Error(l.documentElement.textContent));function u(f){switch(f.nodeType){case r.ELEMENT_NODE:return d(f);case r.TEXT_NODE:return n.text(f.nodeValue)}}function d(f){var b=h(f),p=[];e.forEach(f.childNodes,function(m){var y=u(m);y&&p.push(y)});var g={};return e.forEach(f.attributes,function(m){g[h(m)]=m.value}),new i(b,g,p)}function h(f){if(f.namespaceURI){var b=c[f.namespaceURI],p;return b?p=b+":":p="{"+f.namespaceURI+"}",p+f.localName}else return f.localName}return o.resolve(u(l.documentElement))}return xa}var _a={},Tn={},Xt={},zl;function vn(){return zl||(zl=1,(function(){var o,e,t,n,i,r,s,a=[].slice,c={}.hasOwnProperty;o=function(){var l,u,d,h,f,b;if(b=arguments[0],f=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(l=0,d=f.length;l<d;l++)if(h=f[l],h!=null)for(u in h)c.call(h,u)&&(b[u]=h[u]);return b},i=function(l){return!!l&&Object.prototype.toString.call(l)==="[object Function]"},r=function(l){var u;return!!l&&((u=typeof l)=="function"||u==="object")},t=function(l){return i(Array.isArray)?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"},n=function(l){var u;if(t(l))return!l.length;for(u in l)if(c.call(l,u))return!1;return!0},s=function(l){var u,d;return r(l)&&(d=Object.getPrototypeOf(l))&&(u=d.constructor)&&typeof u=="function"&&u instanceof u&&Function.prototype.toString.call(u)===Function.prototype.toString.call(Object)},e=function(l){return i(l.valueOf)?l.valueOf():l},Xt.assign=o,Xt.isFunction=i,Xt.isObject=r,Xt.isArray=t,Xt.isEmpty=n,Xt.isPlainObject=s,Xt.getValue=e}).call(Xt)),Xt}var Ar={exports:{}},Tr={exports:{}},Er={exports:{}},Cr={exports:{}},Hg=Cr.exports,Hl;function vf(){return Hl||(Hl=1,(function(){Cr.exports=(function(){function o(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(n==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},o.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},o})()}).call(Hg)),Cr.exports}var Vg=Er.exports,Vl;function hs(){return Vl||(Vl=1,(function(){var o,e,t,n,i,r,s=function(c,l){for(var u in l)a.call(l,u)&&(c[u]=l[u]);function d(){this.constructor=c}return d.prototype=l.prototype,c.prototype=new d,c.__super__=l.prototype,c},a={}.hasOwnProperty;r=vn(),i=r.isObject,n=r.isFunction,t=r.getValue,e=St(),o=vf(),Er.exports=(function(c){s(l,c);function l(u,d,h){if(l.__super__.constructor.call(this,u),d==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(d),this.attributes={},h!=null&&this.attribute(h),u.isDocument&&(this.isRoot=!0,this.documentObject=u,u.rootObject=this)}return l.prototype.clone=function(){var u,d,h,f;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attributes={},f=this.attributes;for(d in f)a.call(f,d)&&(u=f[d],h.attributes[d]=u.clone());return h.children=[],this.children.forEach(function(b){var p;return p=b.clone(),p.parent=h,h.children.push(p)}),h},l.prototype.attribute=function(u,d){var h,f;if(u!=null&&(u=t(u)),i(u))for(h in u)a.call(u,h)&&(f=u[h],this.attribute(h,f));else n(d)&&(d=d.apply()),(!this.options.skipNullAttributes||d!=null)&&(this.attributes[u]=new o(this,u,d));return this},l.prototype.removeAttribute=function(u){var d,h,f;if(u==null)throw new Error("Missing attribute name. "+this.debugInfo());if(u=t(u),Array.isArray(u))for(h=0,f=u.length;h<f;h++)d=u[h],delete this.attributes[d];else delete this.attributes[u];return this},l.prototype.toString=function(u){return this.options.writer.set(u).element(this)},l.prototype.att=function(u,d){return this.attribute(u,d)},l.prototype.a=function(u,d){return this.attribute(u,d)},l})(e)}).call(Vg)),Er.exports}var Sr={exports:{}},Xg=Sr.exports,Xl;function fs(){return Xl||(Xl=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Sr.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).cdata(this)},i})(o)}).call(Xg)),Sr.exports}var Ur={exports:{}},$g=Ur.exports,$l;function ps(){return $l||($l=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Ur.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).comment(this)},i})(o)}).call($g)),Ur.exports}var Fr={exports:{}},Gg=Fr.exports,Gl;function gs(){return Gl||(Gl=1,(function(){var o,e,t=function(i,r){for(var s in r)n.call(r,s)&&(i[s]=r[s]);function a(){this.constructor=i}return a.prototype=r.prototype,i.prototype=new a,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=vn().isObject,o=St(),Fr.exports=(function(i){t(r,i);function r(s,a,c,l){var u;r.__super__.constructor.call(this,s),e(a)&&(u=a,a=u.version,c=u.encoding,l=u.standalone),a||(a="1.0"),this.version=this.stringify.xmlVersion(a),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return r.prototype.toString=function(s){return this.options.writer.set(s).declaration(this)},r})(o)}).call(Gg)),Fr.exports}var kr={exports:{}},Rr={exports:{}},Yg=Rr.exports,Yl;function ms(){return Yl||(Yl=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Rr.exports=(function(n){e(i,n);function i(r,s,a,c,l,u){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(a==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(s));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(s));if(!l)throw new Error("Missing DTD attribute default. "+this.debugInfo(s));if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(s));if(u&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(s));this.elementName=this.stringify.eleName(s),this.attributeName=this.stringify.attName(a),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(u),this.defaultValueType=l}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdAttList(this)},i})(o)}).call(Yg)),Rr.exports}var Br={exports:{}},Kg=Br.exports,Kl;function bs(){return Kl||(Kl=1,(function(){var o,e,t=function(i,r){for(var s in r)n.call(r,s)&&(i[s]=r[s]);function a(){this.constructor=i}return a.prototype=r.prototype,i.prototype=new a,i.__super__=r.prototype,i},n={}.hasOwnProperty;e=vn().isObject,o=St(),Br.exports=(function(i){t(r,i);function r(s,a,c,l){if(r.__super__.constructor.call(this,s),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(l==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!a,this.name=this.stringify.eleName(c),!e(l))this.value=this.stringify.dtdEntityValue(l);else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return r.prototype.toString=function(s){return this.options.writer.set(s).dtdEntity(this)},r})(o)}).call(Kg)),Br.exports}var Nr={exports:{}},Zg=Nr.exports,Zl;function ys(){return Zl||(Zl=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Nr.exports=(function(n){e(i,n);function i(r,s,a){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.eleName(s),this.value=this.stringify.dtdElementValue(a)}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdElement(this)},i})(o)}).call(Zg)),Nr.exports}var Ir={exports:{}},Qg=Ir.exports,Ql;function vs(){return Ql||(Ql=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Ir.exports=(function(n){e(i,n);function i(r,s,a){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing DTD notation name. "+this.debugInfo(s));if(!a.pubID&&!a.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(s));this.name=this.stringify.eleName(s),a.pubID!=null&&(this.pubID=this.stringify.dtdPubID(a.pubID)),a.sysID!=null&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return i.prototype.toString=function(r){return this.options.writer.set(r).dtdNotation(this)},i})(o)}).call(Qg)),Ir.exports}var Jg=kr.exports,Jl;function xs(){return Jl||(Jl=1,(function(){var o,e,t,n,i,r,s=function(c,l){for(var u in l)a.call(l,u)&&(c[u]=l[u]);function d(){this.constructor=c}return d.prototype=l.prototype,c.prototype=new d,c.__super__=l.prototype,c},a={}.hasOwnProperty;r=vn().isObject,i=St(),o=ms(),t=bs(),e=ys(),n=vs(),kr.exports=(function(c){s(l,c);function l(u,d,h){var f,b;l.__super__.constructor.call(this,u),this.name="!DOCTYPE",this.documentObject=u,r(d)&&(f=d,d=f.pubID,h=f.sysID),h==null&&(b=[d,h],h=b[0],d=b[1]),d!=null&&(this.pubID=this.stringify.dtdPubID(d)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return l.prototype.element=function(u,d){var h;return h=new e(this,u,d),this.children.push(h),this},l.prototype.attList=function(u,d,h,f,b){var p;return p=new o(this,u,d,h,f,b),this.children.push(p),this},l.prototype.entity=function(u,d){var h;return h=new t(this,!1,u,d),this.children.push(h),this},l.prototype.pEntity=function(u,d){var h;return h=new t(this,!0,u,d),this.children.push(h),this},l.prototype.notation=function(u,d){var h;return h=new n(this,u,d),this.children.push(h),this},l.prototype.toString=function(u){return this.options.writer.set(u).docType(this)},l.prototype.ele=function(u,d){return this.element(u,d)},l.prototype.att=function(u,d,h,f,b){return this.attList(u,d,h,f,b)},l.prototype.ent=function(u,d){return this.entity(u,d)},l.prototype.pent=function(u,d){return this.pEntity(u,d)},l.prototype.not=function(u,d){return this.notation(u,d)},l.prototype.up=function(){return this.root()||this.documentObject},l})(i)}).call(Jg)),kr.exports}var Mr={exports:{}},em=Mr.exports,eu;function Ds(){return eu||(eu=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Mr.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).raw(this)},i})(o)}).call(em)),Mr.exports}var Lr={exports:{}},tm=Lr.exports,tu;function _s(){return tu||(tu=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Lr.exports=(function(n){e(i,n);function i(r,s){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(s)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).text(this)},i})(o)}).call(tm)),Lr.exports}var Pr={exports:{}},nm=Pr.exports,nu;function ws(){return nu||(nu=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Pr.exports=(function(n){e(i,n);function i(r,s,a){if(i.__super__.constructor.call(this,r),s==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(s),a&&(this.value=this.stringify.insValue(a))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return this.options.writer.set(r).processingInstruction(this)},i})(o)}).call(nm)),Pr.exports}var Or={exports:{}},im=Or.exports,iu;function mc(){return iu||(iu=1,(function(){var o,e=function(n,i){for(var r in i)t.call(i,r)&&(n[r]=i[r]);function s(){this.constructor=n}return s.prototype=i.prototype,n.prototype=new s,n.__super__=i.prototype,n},t={}.hasOwnProperty;o=St(),Or.exports=(function(n){e(i,n);function i(r){i.__super__.constructor.call(this,r),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(r){return""},i})(o)}).call(im)),Or.exports}var rm=Tr.exports,ru;function St(){return ru||(ru=1,(function(){var o,e,t,n,i,r,s,a,c,l,u,d,h,f,b={}.hasOwnProperty;f=vn(),h=f.isObject,d=f.isFunction,u=f.isEmpty,l=f.getValue,r=null,o=null,e=null,t=null,n=null,a=null,c=null,s=null,i=null,Tr.exports=(function(){function p(g){this.parent=g,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],r||(r=hs(),o=fs(),e=ps(),t=gs(),n=xs(),a=Ds(),c=_s(),s=ws(),i=mc())}return p.prototype.element=function(g,m,y){var v,_,x,D,A,S,E,R,q,C,N;if(S=null,m===null&&y==null&&(q=[{},null],m=q[0],y=q[1]),m==null&&(m={}),m=l(m),h(m)||(C=[m,y],y=C[0],m=C[1]),g!=null&&(g=l(g)),Array.isArray(g))for(x=0,E=g.length;x<E;x++)_=g[x],S=this.element(_);else if(d(g))S=this.element(g.apply());else if(h(g)){for(A in g)if(b.call(g,A))if(N=g[A],d(N)&&(N=N.apply()),h(N)&&u(N)&&(N=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&A.indexOf(this.stringify.convertAttKey)===0)S=this.attribute(A.substr(this.stringify.convertAttKey.length),N);else if(!this.options.separateArrayItems&&Array.isArray(N))for(D=0,R=N.length;D<R;D++)_=N[D],v={},v[A]=_,S=this.element(v);else h(N)?(S=this.element(A),S.element(N)):S=this.element(A,N)}else this.options.skipNullNodes&&y===null?S=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&g.indexOf(this.stringify.convertTextKey)===0?S=this.text(y):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&g.indexOf(this.stringify.convertCDataKey)===0?S=this.cdata(y):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&g.indexOf(this.stringify.convertCommentKey)===0?S=this.comment(y):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&g.indexOf(this.stringify.convertRawKey)===0?S=this.raw(y):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&g.indexOf(this.stringify.convertPIKey)===0?S=this.instruction(g.substr(this.stringify.convertPIKey.length),y):S=this.node(g,m,y);if(S==null)throw new Error("Could not create any elements with: "+g+". "+this.debugInfo());return S},p.prototype.insertBefore=function(g,m,y){var v,_,x;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_),v=this.parent.element(g,m,y),Array.prototype.push.apply(this.parent.children,x),v},p.prototype.insertAfter=function(g,m,y){var v,_,x;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(g));return _=this.parent.children.indexOf(this),x=this.parent.children.splice(_+1),v=this.parent.element(g,m,y),Array.prototype.push.apply(this.parent.children,x),v},p.prototype.remove=function(){var g;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return g=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[g,g-g+1].concat([])),this.parent},p.prototype.node=function(g,m,y){var v,_;return g!=null&&(g=l(g)),m||(m={}),m=l(m),h(m)||(_=[m,y],y=_[0],m=_[1]),v=new r(this,g,m),y!=null&&v.text(y),this.children.push(v),v},p.prototype.text=function(g){var m;return m=new c(this,g),this.children.push(m),this},p.prototype.cdata=function(g){var m;return m=new o(this,g),this.children.push(m),this},p.prototype.comment=function(g){var m;return m=new e(this,g),this.children.push(m),this},p.prototype.commentBefore=function(g){var m,y;return m=this.parent.children.indexOf(this),y=this.parent.children.splice(m),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,y),this},p.prototype.commentAfter=function(g){var m,y;return m=this.parent.children.indexOf(this),y=this.parent.children.splice(m+1),this.parent.comment(g),Array.prototype.push.apply(this.parent.children,y),this},p.prototype.raw=function(g){var m;return m=new a(this,g),this.children.push(m),this},p.prototype.dummy=function(){var g;return g=new i(this),this.children.push(g),g},p.prototype.instruction=function(g,m){var y,v,_,x,D;if(g!=null&&(g=l(g)),m!=null&&(m=l(m)),Array.isArray(g))for(x=0,D=g.length;x<D;x++)y=g[x],this.instruction(y);else if(h(g))for(y in g)b.call(g,y)&&(v=g[y],this.instruction(y,v));else d(m)&&(m=m.apply()),_=new s(this,g,m),this.children.push(_);return this},p.prototype.instructionBefore=function(g,m){var y,v;return y=this.parent.children.indexOf(this),v=this.parent.children.splice(y),this.parent.instruction(g,m),Array.prototype.push.apply(this.parent.children,v),this},p.prototype.instructionAfter=function(g,m){var y,v;return y=this.parent.children.indexOf(this),v=this.parent.children.splice(y+1),this.parent.instruction(g,m),Array.prototype.push.apply(this.parent.children,v),this},p.prototype.declaration=function(g,m,y){var v,_;return v=this.document(),_=new t(v,g,m,y),v.children[0]instanceof t?v.children[0]=_:v.children.unshift(_),v.root()||v},p.prototype.doctype=function(g,m){var y,v,_,x,D,A,S,E,R,q;for(v=this.document(),_=new n(v,g,m),R=v.children,x=D=0,S=R.length;D<S;x=++D)if(y=R[x],y instanceof n)return v.children[x]=_,_;for(q=v.children,x=A=0,E=q.length;A<E;x=++A)if(y=q[x],y.isRoot)return v.children.splice(x,0,_),_;return v.children.push(_),_},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var g;for(g=this;g;){if(g.isDocument)return g.rootObject;if(g.isRoot)return g;g=g.parent}},p.prototype.document=function(){var g;for(g=this;g;){if(g.isDocument)return g;g=g.parent}},p.prototype.end=function(g){return this.document().end(g)},p.prototype.prev=function(){var g;for(g=this.parent.children.indexOf(this);g>0&&this.parent.children[g-1].isDummy;)g=g-1;if(g<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[g-1]},p.prototype.next=function(){var g;for(g=this.parent.children.indexOf(this);g<this.parent.children.length-1&&this.parent.children[g+1].isDummy;)g=g+1;if(g===-1||g===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[g+1]},p.prototype.importDocument=function(g){var m;return m=g.root().clone(),m.parent=this,m.isRoot=!1,this.children.push(m),this},p.prototype.debugInfo=function(g){var m,y;return g=g||this.name,g==null&&!((m=this.parent)!=null&&m.name)?"":g==null?"parent: <"+this.parent.name+">":(y=this.parent)!=null&&y.name?"node: <"+g+">, parent: <"+this.parent.name+">":"node: <"+g+">"},p.prototype.ele=function(g,m,y){return this.element(g,m,y)},p.prototype.nod=function(g,m,y){return this.node(g,m,y)},p.prototype.txt=function(g){return this.text(g)},p.prototype.dat=function(g){return this.cdata(g)},p.prototype.com=function(g){return this.comment(g)},p.prototype.ins=function(g,m){return this.instruction(g,m)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(g,m,y){return this.declaration(g,m,y)},p.prototype.dtd=function(g,m){return this.doctype(g,m)},p.prototype.e=function(g,m,y){return this.element(g,m,y)},p.prototype.n=function(g,m,y){return this.node(g,m,y)},p.prototype.t=function(g){return this.text(g)},p.prototype.d=function(g){return this.cdata(g)},p.prototype.c=function(g){return this.comment(g)},p.prototype.r=function(g){return this.raw(g)},p.prototype.i=function(g,m){return this.instruction(g,m)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(g){return this.importDocument(g)},p})()}).call(rm)),Tr.exports}var Wr={exports:{}},sm=Wr.exports,su;function xf(){return su||(su=1,(function(){var o=function(t,n){return function(){return t.apply(n,arguments)}},e={}.hasOwnProperty;Wr.exports=(function(){function t(n){this.assertLegalChar=o(this.assertLegalChar,this);var i,r,s;n||(n={}),this.noDoubleEncoding=n.noDoubleEncoding,r=n.stringify||{};for(i in r)e.call(r,i)&&(s=r[i],this[i]=s)}return t.prototype.eleName=function(n){return n=""+n||"",this.assertLegalChar(n)},t.prototype.eleText=function(n){return n=""+n||"",this.assertLegalChar(this.elEscape(n))},t.prototype.cdata=function(n){return n=""+n||"",n=n.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(n)},t.prototype.comment=function(n){if(n=""+n||"",n.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+n);return this.assertLegalChar(n)},t.prototype.raw=function(n){return""+n||""},t.prototype.attName=function(n){return n=""+n||""},t.prototype.attValue=function(n){return n=""+n||"",this.attEscape(n)},t.prototype.insTarget=function(n){return""+n||""},t.prototype.insValue=function(n){if(n=""+n||"",n.match(/\?>/))throw new Error("Invalid processing instruction value: "+n);return n},t.prototype.xmlVersion=function(n){if(n=""+n||"",!n.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+n);return n},t.prototype.xmlEncoding=function(n){if(n=""+n||"",!n.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+n);return n},t.prototype.xmlStandalone=function(n){return n?"yes":"no"},t.prototype.dtdPubID=function(n){return""+n||""},t.prototype.dtdSysID=function(n){return""+n||""},t.prototype.dtdElementValue=function(n){return""+n||""},t.prototype.dtdAttType=function(n){return""+n||""},t.prototype.dtdAttDefault=function(n){return n!=null?""+n||"":n},t.prototype.dtdEntityValue=function(n){return""+n||""},t.prototype.dtdNData=function(n){return""+n||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(n){var i;if(i=n.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+n+" at index "+i.index);return n},t.prototype.elEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(n){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,n.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t})()}).call(sm)),Wr.exports}var jr={exports:{}},qr={exports:{}},am=qr.exports,au;function Df(){return au||(au=1,(function(){var o={}.hasOwnProperty;qr.exports=(function(){function e(t){var n,i,r,s,a,c,l,u,d;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(i=t.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(r=t.indent)!=null?r:"  ",this.newline=(s=t.newline)!=null?s:`
`,this.offset=(a=t.offset)!=null?a:0,this.dontprettytextnodes=(c=t.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(l=t.spacebeforeslash)!=null?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{};for(n in u)o.call(u,n)&&(d=u[n],this[n]=d)}return e.prototype.set=function(t){var n,i,r;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{};for(n in i)o.call(i,n)&&(r=i[n],this[n]=r);return this},e.prototype.space=function(t){var n;return this.pretty?(n=(t||0)+this.offset+1,n>0?new Array(n).join(this.indent):""):""},e})()}).call(am)),qr.exports}var om=jr.exports,ou;function bc(){return ou||(ou=1,(function(){var o,e,t,n,i,r,s,a,c,l,u,d,h,f,b=function(g,m){for(var y in m)p.call(m,y)&&(g[y]=m[y]);function v(){this.constructor=g}return v.prototype=m.prototype,g.prototype=new v,g.__super__=m.prototype,g},p={}.hasOwnProperty;s=gs(),a=xs(),o=fs(),e=ps(),l=hs(),d=Ds(),h=_s(),u=ws(),c=mc(),t=ms(),n=ys(),i=bs(),r=vs(),f=Df(),jr.exports=(function(g){b(m,g);function m(y){m.__super__.constructor.call(this,y)}return m.prototype.document=function(y){var v,_,x,D,A;for(this.textispresent=!1,D="",A=y.children,_=0,x=A.length;_<x;_++)v=A[_],!(v instanceof c)&&(D+=(function(){switch(!1){case!(v instanceof s):return this.declaration(v);case!(v instanceof a):return this.docType(v);case!(v instanceof e):return this.comment(v);case!(v instanceof u):return this.processingInstruction(v);default:return this.element(v,0)}}).call(this));return this.pretty&&D.slice(-this.newline.length)===this.newline&&(D=D.slice(0,-this.newline.length)),D},m.prototype.attribute=function(y){return" "+y.name+'="'+y.value+'"'},m.prototype.cdata=function(y,v){return this.space(v)+"<![CDATA["+y.text+"]]>"+this.newline},m.prototype.comment=function(y,v){return this.space(v)+"<!-- "+y.text+" -->"+this.newline},m.prototype.declaration=function(y,v){var _;return _=this.space(v),_+='<?xml version="'+y.version+'"',y.encoding!=null&&(_+=' encoding="'+y.encoding+'"'),y.standalone!=null&&(_+=' standalone="'+y.standalone+'"'),_+=this.spacebeforeslash+"?>",_+=this.newline,_},m.prototype.docType=function(y,v){var _,x,D,A,S;if(v||(v=0),A=this.space(v),A+="<!DOCTYPE "+y.root().name,y.pubID&&y.sysID?A+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(A+=' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(A+=" [",A+=this.newline,S=y.children,x=0,D=S.length;x<D;x++)_=S[x],A+=(function(){switch(!1){case!(_ instanceof t):return this.dtdAttList(_,v+1);case!(_ instanceof n):return this.dtdElement(_,v+1);case!(_ instanceof i):return this.dtdEntity(_,v+1);case!(_ instanceof r):return this.dtdNotation(_,v+1);case!(_ instanceof o):return this.cdata(_,v+1);case!(_ instanceof e):return this.comment(_,v+1);case!(_ instanceof u):return this.processingInstruction(_,v+1);default:throw new Error("Unknown DTD node type: "+_.constructor.name)}}).call(this);A+="]"}return A+=this.spacebeforeslash+">",A+=this.newline,A},m.prototype.element=function(y,v){var _,x,D,A,S,E,R,q,C,N,T,W,k;v||(v=0),k=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),W=this.space(v),q="",q+=W+"<"+y.name,C=y.attributes;for(R in C)p.call(C,R)&&(_=C[R],q+=this.attribute(_));if(y.children.length===0||y.children.every(function(B){return B.value===""}))this.allowEmpty?q+="></"+y.name+">"+this.newline:q+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&y.children.length===1&&y.children[0].value!=null)q+=">",q+=y.children[0].value,q+="</"+y.name+">"+this.newline;else{if(this.dontprettytextnodes){for(N=y.children,D=0,S=N.length;D<S;D++)if(x=N[D],x.value!=null){this.textispresent++,k=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,W=this.space(v)),q+=">"+this.newline,T=y.children,A=0,E=T.length;A<E;A++)x=T[A],q+=(function(){switch(!1){case!(x instanceof o):return this.cdata(x,v+1);case!(x instanceof e):return this.comment(x,v+1);case!(x instanceof l):return this.element(x,v+1);case!(x instanceof d):return this.raw(x,v+1);case!(x instanceof h):return this.text(x,v+1);case!(x instanceof u):return this.processingInstruction(x,v+1);case!(x instanceof c):return"";default:throw new Error("Unknown XML node type: "+x.constructor.name)}}).call(this);k&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),q+=W+"</"+y.name+">"+this.newline}return q},m.prototype.processingInstruction=function(y,v){var _;return _=this.space(v)+"<?"+y.target,y.value&&(_+=" "+y.value),_+=this.spacebeforeslash+"?>"+this.newline,_},m.prototype.raw=function(y,v){return this.space(v)+y.value+this.newline},m.prototype.text=function(y,v){return this.space(v)+y.value+this.newline},m.prototype.dtdAttList=function(y,v){var _;return _=this.space(v)+"<!ATTLIST "+y.elementName+" "+y.attributeName+" "+y.attributeType,y.defaultValueType!=="#DEFAULT"&&(_+=" "+y.defaultValueType),y.defaultValue&&(_+=' "'+y.defaultValue+'"'),_+=this.spacebeforeslash+">"+this.newline,_},m.prototype.dtdElement=function(y,v){return this.space(v)+"<!ELEMENT "+y.name+" "+y.value+this.spacebeforeslash+">"+this.newline},m.prototype.dtdEntity=function(y,v){var _;return _=this.space(v)+"<!ENTITY",y.pe&&(_+=" %"),_+=" "+y.name,y.value?_+=' "'+y.value+'"':(y.pubID&&y.sysID?_+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(_+=' SYSTEM "'+y.sysID+'"'),y.nData&&(_+=" NDATA "+y.nData)),_+=this.spacebeforeslash+">"+this.newline,_},m.prototype.dtdNotation=function(y,v){var _;return _=this.space(v)+"<!NOTATION "+y.name,y.pubID&&y.sysID?_+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.pubID?_+=' PUBLIC "'+y.pubID+'"':y.sysID&&(_+=' SYSTEM "'+y.sysID+'"'),_+=this.spacebeforeslash+">"+this.newline,_},m.prototype.openNode=function(y,v){var _,x,D,A;if(v||(v=0),y instanceof l){D=this.space(v)+"<"+y.name,A=y.attributes;for(x in A)p.call(A,x)&&(_=A[x],D+=this.attribute(_));return D+=(y.children?">":"/>")+this.newline,D}else return D=this.space(v)+"<!DOCTYPE "+y.rootNodeName,y.pubID&&y.sysID?D+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(D+=' SYSTEM "'+y.sysID+'"'),D+=(y.children?" [":">")+this.newline,D},m.prototype.closeNode=function(y,v){switch(v||(v=0),!1){case!(y instanceof l):return this.space(v)+"</"+y.name+">"+this.newline;case!(y instanceof a):return this.space(v)+"]>"+this.newline}},m})(f)}).call(om)),jr.exports}var cm=Ar.exports,cu;function lm(){return cu||(cu=1,(function(){var o,e,t,n,i=function(s,a){for(var c in a)r.call(a,c)&&(s[c]=a[c]);function l(){this.constructor=s}return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},r={}.hasOwnProperty;n=vn().isPlainObject,o=St(),t=xf(),e=bc(),Ar.exports=(function(s){i(a,s);function a(c){a.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new t(c),this.isDocument=!0}return a.prototype.end=function(c){var l;return c?n(c)&&(l=c,c=this.options.writer.set(l)):c=this.options.writer,c.document(this)},a.prototype.toString=function(c){return this.options.writer.set(c).document(this)},a})(o)}).call(cm)),Ar.exports}var zr={exports:{}},um=zr.exports,lu;function dm(){return lu||(lu=1,(function(){var o,e,t,n,i,r,s,a,c,l,u,d,h,f,b,p,g,m,y,v,_={}.hasOwnProperty;v=vn(),m=v.isObject,g=v.isFunction,y=v.isPlainObject,p=v.getValue,l=hs(),e=fs(),t=ps(),d=Ds(),b=_s(),u=ws(),a=gs(),c=xs(),n=ms(),r=bs(),i=ys(),s=vs(),o=vf(),f=xf(),h=bc(),zr.exports=(function(){function x(D,A,S){var E;this.name="?xml",D||(D={}),D.writer?y(D.writer)&&(E=D.writer,D.writer=new h(E)):D.writer=new h(D),this.options=D,this.writer=D.writer,this.stringify=new f(D),this.onDataCallback=A||function(){},this.onEndCallback=S||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return x.prototype.node=function(D,A,S){var E,R;if(D==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(D));return this.openCurrent(),D=p(D),A===null&&S==null&&(E=[{},null],A=E[0],S=E[1]),A==null&&(A={}),A=p(A),m(A)||(R=[A,S],S=R[0],A=R[1]),this.currentNode=new l(this,D,A),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,S!=null&&this.text(S),this},x.prototype.element=function(D,A,S){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(D,A,S)},x.prototype.attribute=function(D,A){var S,E;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(D));if(D!=null&&(D=p(D)),m(D))for(S in D)_.call(D,S)&&(E=D[S],this.attribute(S,E));else g(A)&&(A=A.apply()),(!this.options.skipNullAttributes||A!=null)&&(this.currentNode.attributes[D]=new o(this,D,A));return this},x.prototype.text=function(D){var A;return this.openCurrent(),A=new b(this,D),this.onData(this.writer.text(A,this.currentLevel+1),this.currentLevel+1),this},x.prototype.cdata=function(D){var A;return this.openCurrent(),A=new e(this,D),this.onData(this.writer.cdata(A,this.currentLevel+1),this.currentLevel+1),this},x.prototype.comment=function(D){var A;return this.openCurrent(),A=new t(this,D),this.onData(this.writer.comment(A,this.currentLevel+1),this.currentLevel+1),this},x.prototype.raw=function(D){var A;return this.openCurrent(),A=new d(this,D),this.onData(this.writer.raw(A,this.currentLevel+1),this.currentLevel+1),this},x.prototype.instruction=function(D,A){var S,E,R,q,C;if(this.openCurrent(),D!=null&&(D=p(D)),A!=null&&(A=p(A)),Array.isArray(D))for(S=0,q=D.length;S<q;S++)E=D[S],this.instruction(E);else if(m(D))for(E in D)_.call(D,E)&&(R=D[E],this.instruction(E,R));else g(A)&&(A=A.apply()),C=new u(this,D,A),this.onData(this.writer.processingInstruction(C,this.currentLevel+1),this.currentLevel+1);return this},x.prototype.declaration=function(D,A,S){var E;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return E=new a(this,D,A,S),this.onData(this.writer.declaration(E,this.currentLevel+1),this.currentLevel+1),this},x.prototype.doctype=function(D,A,S){if(this.openCurrent(),D==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,A,S),this.currentNode.rootNodeName=D,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},x.prototype.dtdElement=function(D,A){var S;return this.openCurrent(),S=new i(this,D,A),this.onData(this.writer.dtdElement(S,this.currentLevel+1),this.currentLevel+1),this},x.prototype.attList=function(D,A,S,E,R){var q;return this.openCurrent(),q=new n(this,D,A,S,E,R),this.onData(this.writer.dtdAttList(q,this.currentLevel+1),this.currentLevel+1),this},x.prototype.entity=function(D,A){var S;return this.openCurrent(),S=new r(this,!1,D,A),this.onData(this.writer.dtdEntity(S,this.currentLevel+1),this.currentLevel+1),this},x.prototype.pEntity=function(D,A){var S;return this.openCurrent(),S=new r(this,!0,D,A),this.onData(this.writer.dtdEntity(S,this.currentLevel+1),this.currentLevel+1),this},x.prototype.notation=function(D,A){var S;return this.openCurrent(),S=new s(this,D,A),this.onData(this.writer.dtdNotation(S,this.currentLevel+1),this.currentLevel+1),this},x.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},x.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},x.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},x.prototype.openNode=function(D){if(!D.isOpen)return!this.root&&this.currentLevel===0&&D instanceof l&&(this.root=D),this.onData(this.writer.openNode(D,this.currentLevel),this.currentLevel),D.isOpen=!0},x.prototype.closeNode=function(D){if(!D.isClosed)return this.onData(this.writer.closeNode(D,this.currentLevel),this.currentLevel),D.isClosed=!0},x.prototype.onData=function(D,A){return this.documentStarted=!0,this.onDataCallback(D,A+1)},x.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},x.prototype.debugInfo=function(D){return D==null?"":"node: <"+D+">"},x.prototype.ele=function(){return this.element.apply(this,arguments)},x.prototype.nod=function(D,A,S){return this.node(D,A,S)},x.prototype.txt=function(D){return this.text(D)},x.prototype.dat=function(D){return this.cdata(D)},x.prototype.com=function(D){return this.comment(D)},x.prototype.ins=function(D,A){return this.instruction(D,A)},x.prototype.dec=function(D,A,S){return this.declaration(D,A,S)},x.prototype.dtd=function(D,A,S){return this.doctype(D,A,S)},x.prototype.e=function(D,A,S){return this.element(D,A,S)},x.prototype.n=function(D,A,S){return this.node(D,A,S)},x.prototype.t=function(D){return this.text(D)},x.prototype.d=function(D){return this.cdata(D)},x.prototype.c=function(D){return this.comment(D)},x.prototype.r=function(D){return this.raw(D)},x.prototype.i=function(D,A){return this.instruction(D,A)},x.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},x.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},x.prototype.ent=function(D,A){return this.entity(D,A)},x.prototype.pent=function(D,A){return this.pEntity(D,A)},x.prototype.not=function(D,A){return this.notation(D,A)},x})()}).call(um)),zr.exports}var Hr={exports:{}},hm=Hr.exports,uu;function fm(){return uu||(uu=1,(function(){var o,e,t,n,i,r,s,a,c,l,u,d,h,f,b=function(g,m){for(var y in m)p.call(m,y)&&(g[y]=m[y]);function v(){this.constructor=g}return v.prototype=m.prototype,g.prototype=new v,g.__super__=m.prototype,g},p={}.hasOwnProperty;s=gs(),a=xs(),o=fs(),e=ps(),l=hs(),d=Ds(),h=_s(),u=ws(),c=mc(),t=ms(),n=ys(),i=bs(),r=vs(),f=Df(),Hr.exports=(function(g){b(m,g);function m(y,v){m.__super__.constructor.call(this,v),this.stream=y}return m.prototype.document=function(y){var v,_,x,D,A,S,E,R;for(S=y.children,_=0,D=S.length;_<D;_++)v=S[_],v.isLastRootNode=!1;for(y.children[y.children.length-1].isLastRootNode=!0,E=y.children,R=[],x=0,A=E.length;x<A;x++)if(v=E[x],!(v instanceof c))switch(!1){case!(v instanceof s):R.push(this.declaration(v));break;case!(v instanceof a):R.push(this.docType(v));break;case!(v instanceof e):R.push(this.comment(v));break;case!(v instanceof u):R.push(this.processingInstruction(v));break;default:R.push(this.element(v))}return R},m.prototype.attribute=function(y){return this.stream.write(" "+y.name+'="'+y.value+'"')},m.prototype.cdata=function(y,v){return this.stream.write(this.space(v)+"<![CDATA["+y.text+"]]>"+this.endline(y))},m.prototype.comment=function(y,v){return this.stream.write(this.space(v)+"<!-- "+y.text+" -->"+this.endline(y))},m.prototype.declaration=function(y,v){return this.stream.write(this.space(v)),this.stream.write('<?xml version="'+y.version+'"'),y.encoding!=null&&this.stream.write(' encoding="'+y.encoding+'"'),y.standalone!=null&&this.stream.write(' standalone="'+y.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(y))},m.prototype.docType=function(y,v){var _,x,D,A;if(v||(v=0),this.stream.write(this.space(v)),this.stream.write("<!DOCTYPE "+y.root().name),y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(y)),A=y.children,x=0,D=A.length;x<D;x++)switch(_=A[x],!1){case!(_ instanceof t):this.dtdAttList(_,v+1);break;case!(_ instanceof n):this.dtdElement(_,v+1);break;case!(_ instanceof i):this.dtdEntity(_,v+1);break;case!(_ instanceof r):this.dtdNotation(_,v+1);break;case!(_ instanceof o):this.cdata(_,v+1);break;case!(_ instanceof e):this.comment(_,v+1);break;case!(_ instanceof u):this.processingInstruction(_,v+1);break;default:throw new Error("Unknown DTD node type: "+_.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(y))},m.prototype.element=function(y,v){var _,x,D,A,S,E,R,q;v||(v=0),q=this.space(v),this.stream.write(q+"<"+y.name),E=y.attributes;for(S in E)p.call(E,S)&&(_=E[S],this.attribute(_));if(y.children.length===0||y.children.every(function(C){return C.value===""}))this.allowEmpty?this.stream.write("></"+y.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&y.children.length===1&&y.children[0].value!=null)this.stream.write(">"),this.stream.write(y.children[0].value),this.stream.write("</"+y.name+">");else{for(this.stream.write(">"+this.newline),R=y.children,D=0,A=R.length;D<A;D++)switch(x=R[D],!1){case!(x instanceof o):this.cdata(x,v+1);break;case!(x instanceof e):this.comment(x,v+1);break;case!(x instanceof l):this.element(x,v+1);break;case!(x instanceof d):this.raw(x,v+1);break;case!(x instanceof h):this.text(x,v+1);break;case!(x instanceof u):this.processingInstruction(x,v+1);break;case!(x instanceof c):break;default:throw new Error("Unknown XML node type: "+x.constructor.name)}this.stream.write(q+"</"+y.name+">")}return this.stream.write(this.endline(y))},m.prototype.processingInstruction=function(y,v){return this.stream.write(this.space(v)+"<?"+y.target),y.value&&this.stream.write(" "+y.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(y))},m.prototype.raw=function(y,v){return this.stream.write(this.space(v)+y.value+this.endline(y))},m.prototype.text=function(y,v){return this.stream.write(this.space(v)+y.value+this.endline(y))},m.prototype.dtdAttList=function(y,v){return this.stream.write(this.space(v)+"<!ATTLIST "+y.elementName+" "+y.attributeName+" "+y.attributeType),y.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+y.defaultValueType),y.defaultValue&&this.stream.write(' "'+y.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},m.prototype.dtdElement=function(y,v){return this.stream.write(this.space(v)+"<!ELEMENT "+y.name+" "+y.value),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},m.prototype.dtdEntity=function(y,v){return this.stream.write(this.space(v)+"<!ENTITY"),y.pe&&this.stream.write(" %"),this.stream.write(" "+y.name),y.value?this.stream.write(' "'+y.value+'"'):(y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),y.nData&&this.stream.write(" NDATA "+y.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},m.prototype.dtdNotation=function(y,v){return this.stream.write(this.space(v)+"<!NOTATION "+y.name),y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.pubID?this.stream.write(' PUBLIC "'+y.pubID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},m.prototype.endline=function(y){return y.isLastRootNode?"":this.newline},m})(f)}).call(hm)),Hr.exports}var du;function pm(){return du||(du=1,(function(){var o,e,t,n,i,r,s;s=vn(),i=s.assign,r=s.isFunction,o=lm(),e=dm(),n=bc(),t=fm(),Tn.create=function(a,c,l,u){var d,h;if(a==null)throw new Error("Root element needs a name.");return u=i({},c,l,u),d=new o(u),h=d.element(a),u.headless||(d.declaration(u),(u.pubID!=null||u.sysID!=null)&&d.doctype(u)),h},Tn.begin=function(a,c,l){var u;return r(a)&&(u=[a,c],c=u[0],l=u[1],a={}),c?new e(a,c,l):new o(a)},Tn.stringWriter=function(a){return new n(a)},Tn.streamWriter=function(a,c){return new t(a,c)}}).call(Tn)),Tn}var hu;function gm(){if(hu)return _a;hu=1;var o=Je,e=pm();_a.writeString=t;function t(i,r){var s=o.invert(r),a={element:l,text:n};function c(h,f){return a[f.type](h,f)}function l(h,f){var b=h.element(u(f.name),f.attributes);f.children.forEach(function(p){c(b,p)})}function u(h){var f=/^\{(.*)\}(.*)$/.exec(h);if(f){var b=s[f[1]];return b+(b===""?"":":")+f[2]}else return h}function d(h){var f=e.create(u(h.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return o.forEach(r,function(b,p){var g="xmlns"+(p===""?"":":"+p);f.attribute(g,b)}),h.children.forEach(function(b){c(f,b)}),f.end()}return d(i)}function n(i,r){i.text(r.value)}return _a}var fu;function yc(){if(fu)return on;fu=1;var o=yf();return on.Element=o.Element,on.element=o.element,on.emptyElement=o.emptyElement,on.text=o.text,on.readString=zg().readString,on.writeString=gm().writeString,on}var pu;function mm(){if(pu)return sr;pu=1;var o=Je,e=yn(),t=yc();sr.read=i,sr.readXmlFromZipFile=r;var n={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function i(c){return t.readString(c,n).then(function(l){return a(l)[0]})}function r(c,l){return c.exists(l)?c.read(l,"utf-8").then(s).then(i):e.resolve(null)}function s(c){return c.replace(/^\uFEFF/g,"")}function a(c){return c.type==="element"?c.name==="mc:AlternateContent"?c.firstOrEmpty("mc:Fallback").children:(c.children=o.flatten(c.children.map(a,!0)),[c]):[c]}return sr}var cr={},jt={},lr={},gu;function bm(){if(gu)return lr;gu=1,Object.defineProperty(lr,"__esModule",{value:!0});var o=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return lr.default=o,lr}var mu;function ym(){if(mu)return jt;mu=1;var o=jt&&jt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(jt,"__esModule",{value:!0}),jt.hex=jt.dec=jt.codePoint=void 0;for(var e=o(bm()),t={},n=String.fromCodePoint?String.fromCodePoint:h,i=0,r=e.default;i<r.length;i++){var s=r[i],a=parseInt(s["Unicode dec"],10),c={codePoint:a,string:n(a)};t[s["Typeface name"].toUpperCase()+"_"+s["Dingbat dec"]]=c}function l(f,b){return t[f.toUpperCase()+"_"+b]}jt.codePoint=l;function u(f,b){return l(f,parseInt(b,10))}jt.dec=u;function d(f,b){return l(f,parseInt(b,16))}jt.hex=d;function h(f){if(f<=65535)return String.fromCharCode(f);var b=Math.floor((f-65536)/1024)+55296,p=(f-65536)%1024+56320;return String.fromCharCode(b,p)}return jt}var cn={},bu;function _f(){if(bu)return cn;bu=1;var o=Je;cn.paragraph=e,cn.run=t,cn._elements=i,cn._elementsOfType=n,cn.getDescendantsOfType=r,cn.getDescendants=s;function e(c){return n("paragraph",c)}function t(c){return n("run",c)}function n(c,l){return i(function(u){return u.type===c?l(u):u})}function i(c){return function l(u){if(u.children){var d=o.map(u.children,l);u=o.extend(u,{children:d})}return c(u)}}function r(c,l){return s(c).filter(function(u){return u.type===l})}function s(c){var l=[];return a(c,function(u){l.push(u)}),l}function a(c,l){c.children&&c.children.forEach(function(u){a(u,l),l(u)})}return cn}var ur={},yu;function vm(){if(yu)return ur;yu=1,ur.uriToZipEntryName=o,ur.replaceFragment=e;function o(t,n){return n.charAt(0)==="/"?n.substr(1):t+"/"+n}function e(t,n){var i=t.indexOf("#");return i!==-1&&(t=t.substring(0,i)),t+"#"+n}return ur}var vu;function xm(){if(vu)return cr;vu=1,cr.createBodyReader=c,cr._readNumberingProperties=u;var o=ym(),e=Je,t=In(),n=sn().Result,i=sn().warning,r=yc(),s=_f(),a=vm();function c(x){return{readXmlElement:function(D){return new l(x).readXmlElement(D)},readXmlElements:function(D){return new l(x).readXmlElements(D)}}}function l(x){var D=[],A=[],S=[],E=x.relationships,R=x.contentTypes,q=x.docxFile,C=x.files,N=x.numbering,T=x.styles;function W(J){var ce=J.map(k);return y(ce)}function k(J){if(J.type==="element"){var ce=L[J.name];if(ce)return ce(J);if(!Object.prototype.hasOwnProperty.call(h,J.name)){var pe=i("An unrecognised element was ignored: "+J.name);return f([pe])}}return b()}function B(J){return ne(J).map(function(ce){return{type:"paragraphProperties",styleId:ce.styleId,styleName:ce.name,alignment:J.firstOrEmpty("w:jc").attributes["w:val"],numbering:u(ce.styleId,J.firstOrEmpty("w:numPr"),N),indent:H(J.firstOrEmpty("w:ind"))}})}function H(J){return{start:J.attributes["w:start"]||J.attributes["w:left"],end:J.attributes["w:end"]||J.attributes["w:right"],firstLine:J.attributes["w:firstLine"],hanging:J.attributes["w:hanging"]}}function z(J){return ie(J).map(function(ce){var pe=J.firstOrEmpty("w:sz").attributes["w:val"],ve=/^[0-9]+$/.test(pe)?parseInt(pe,10)/2:null;return{type:"runProperties",styleId:ce.styleId,styleName:ce.name,verticalAlignment:J.firstOrEmpty("w:vertAlign").attributes["w:val"],font:J.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:ve,isBold:O(J.first("w:b")),isUnderline:ee(J.first("w:u")),isItalic:O(J.first("w:i")),isStrikethrough:O(J.first("w:strike")),isAllCaps:O(J.first("w:caps")),isSmallCaps:O(J.first("w:smallCaps")),highlight:X(J.firstOrEmpty("w:highlight").attributes["w:val"])}})}function ee(J){if(J){var ce=J.attributes["w:val"];return ce!==void 0&&ce!=="false"&&ce!=="0"&&ce!=="none"}else return!1}function O(J){if(J){var ce=J.attributes["w:val"];return ce!=="false"&&ce!=="0"}else return!1}function $(J){return J!=="false"&&J!=="0"}function X(J){return!J||J==="none"?null:J}function ne(J){return oe(J,"w:pStyle","Paragraph",T.findParagraphStyleById)}function ie(J){return oe(J,"w:rStyle","Run",T.findCharacterStyleById)}function ue(J){return oe(J,"w:tblStyle","Table",T.findTableStyleById)}function oe(J,ce,pe,ve){var Ue=[],Be=J.first(ce),$e=null,ht=null;if(Be&&($e=Be.attributes["w:val"],$e)){var Ht=ve($e);Ht?ht=Ht.name:Ue.push(Me(pe,$e))}return g({styleId:$e,name:ht},Ue)}function le(J){var ce=J.attributes["w:fldCharType"];if(ce==="begin")D.push({type:"begin",fldChar:J}),A=[];else if(ce==="end"){var pe=D.pop();if(pe.type==="begin"&&(pe=ge(pe)),pe.type==="checkbox")return p(t.checkbox({checked:pe.checked}))}else if(ce==="separate"){var ve=D.pop(),Ue=ge(ve);D.push(Ue)}return b()}function fe(){var J=e.last(D.filter(function(ce){return ce.type==="hyperlink"}));return J?J.options:null}function ge(J){return xe(A.join(""),J.type==="begin"?J.fldChar:r.emptyElement)}function xe(J,ce){var pe=/\s*HYPERLINK "(.*)"/.exec(J);if(pe)return{type:"hyperlink",options:{href:pe[1]}};var ve=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(J);if(ve)return{type:"hyperlink",options:{anchor:ve[1]}};var Ue=/\s*FORMCHECKBOX\s*/.exec(J);if(Ue){var Be=ce.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),$e=Be.first("w:checked"),ht=$e==null?O(Be.first("w:default")):O($e);return{type:"checkbox",checked:ht}}return{type:"unknown"}}function Ae(J){return A.push(J.text()),b()}function ke(J){var ce=J.attributes["w:font"],pe=J.attributes["w:char"],ve=o.hex(ce,pe);return ve==null&&/^F0..$/.test(pe)&&(ve=o.hex(ce,pe.substring(2))),ve==null?f([i("A w:sym element with an unsupported character was ignored: char "+pe+" in font "+ce)]):p(new t.Text(ve.string))}function w(J){return function(ce){var pe=ce.attributes["w:id"];return p(new t.NoteReference({noteType:J,noteId:pe}))}}function Q(J){return p(t.commentReference({commentId:J.attributes["w:id"]}))}function Y(J){return W(J.children)}var L={"w:p":function(J){var ce=J.firstOrEmpty("w:pPr"),pe=!!ce.firstOrEmpty("w:rPr").first("w:del");if(pe)return J.children.forEach(function(Ue){S.push(Ue)}),b();var ve=J.children;return S.length>0&&(ve=S.concat(ve),S=[]),m.map(B(ce),W(ve),function(Ue,Be){return new t.Paragraph(Be,Ue)}).insertExtra()},"w:r":function(J){return m.map(z(J.firstOrEmpty("w:rPr")),W(J.children),function(ce,pe){var ve=fe();return ve!==null&&(pe=[new t.Hyperlink(pe,ve)]),new t.Run(pe,ce)})},"w:fldChar":le,"w:instrText":Ae,"w:t":function(J){return p(new t.Text(J.text()))},"w:tab":function(J){return p(new t.Tab)},"w:noBreakHyphen":function(){return p(new t.Text("‚Äë"))},"w:softHyphen":function(J){return p(new t.Text("¬≠"))},"w:sym":ke,"w:hyperlink":function(J){var ce=J.attributes["r:id"],pe=J.attributes["w:anchor"];return W(J.children).map(function(ve){function Ue($e){var ht=J.attributes["w:tgtFrame"]||null;return new t.Hyperlink(ve,e.extend({targetFrame:ht},$e))}if(ce){var Be=E.findTargetByRelationshipId(ce);return pe&&(Be=a.replaceFragment(Be,pe)),Ue({href:Be})}else return pe?Ue({anchor:pe}):ve})},"w:tbl":F,"w:tr":te,"w:tc":ae,"w:footnoteReference":w("footnote"),"w:endnoteReference":w("endnote"),"w:commentReference":Q,"w:br":function(J){var ce=J.attributes["w:type"];return ce==null||ce==="textWrapping"?p(t.lineBreak):ce==="page"?p(t.pageBreak):ce==="column"?p(t.columnBreak):f([i("Unsupported break type: "+ce)])},"w:bookmarkStart":function(J){var ce=J.attributes["w:name"];return ce==="_GoBack"?b():p(new t.BookmarkStart({name:ce}))},"mc:AlternateContent":function(J){return Y(J.firstOrEmpty("mc:Fallback"))},"w:sdt":function(J){var ce=W(J.firstOrEmpty("w:sdtContent").children);return ce.map(function(pe){var ve=J.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(ve){var Ue=ve.first("wordml:checked"),Be=!!Ue&&$(Ue.attributes["wordml:val"]),$e=t.checkbox({checked:Be}),ht=!1,Ht=pe.map(s._elementsOfType(t.types.text,function(U){return U.value.length>0&&!ht?(ht=!0,$e):U}));return ht?Ht:$e}else return pe})},"w:ins":Y,"w:object":Y,"w:smartTag":Y,"w:drawing":Y,"w:pict":function(J){return Y(J).toExtra()},"v:roundrect":Y,"v:shape":Y,"v:textbox":Y,"w:txbxContent":Y,"wp:inline":Z,"wp:anchor":Z,"v:imagedata":Te,"v:group":Y,"v:rect":Y};return{readXmlElement:k,readXmlElements:W};function F(J){var ce=P(J.firstOrEmpty("w:tblPr"));return W(J.children).flatMap(j).flatMap(function(pe){return ce.map(function(ve){return t.Table(pe,ve)})})}function P(J){return ue(J).map(function(ce){return{styleId:ce.styleId,styleName:ce.name}})}function te(J){var ce=J.firstOrEmpty("w:trPr"),pe=!!ce.first("w:del");if(pe)return b();var ve=!!ce.first("w:tblHeader");return W(J.children).map(function(Ue){return t.TableRow(Ue,{isHeader:ve})})}function ae(J){return W(J.children).map(function(ce){var pe=J.firstOrEmpty("w:tcPr"),ve=pe.firstOrEmpty("w:gridSpan").attributes["w:val"],Ue=ve?parseInt(ve,10):1,Be=t.TableCell(ce,{colSpan:Ue});return Be._vMerge=K(pe),Be})}function K(J){var ce=J.first("w:vMerge");if(ce){var pe=ce.attributes["w:val"];return pe==="continue"||!pe}else return null}function j(J){var ce=e.any(J,function(Ue){return Ue.type!==t.types.tableRow});if(ce)return V(J),g(J,[i("unexpected non-row element in table, cell merging may be incorrect")]);var pe=e.any(J,function(Ue){return e.any(Ue.children,function(Be){return Be.type!==t.types.tableCell})});if(pe)return V(J),g(J,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var ve={};return J.forEach(function(Ue){var Be=0;Ue.children.forEach(function($e){$e._vMerge&&ve[Be]?ve[Be].rowSpan++:(ve[Be]=$e,$e._vMerge=!1),Be+=$e.colSpan})}),J.forEach(function(Ue){Ue.children=Ue.children.filter(function(Be){return!Be._vMerge}),Ue.children.forEach(function(Be){delete Be._vMerge})}),p(J)}function V(J){J.forEach(function(ce){var pe=s.getDescendantsOfType(ce,t.types.tableCell);pe.forEach(function(ve){delete ve._vMerge})})}function Z(J){var ce=J.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return y(ce.map(se.bind(null,J)))}function se(J,ce){var pe=J.first("wp:docPr").attributes,ve=de(pe.descr)?pe.title:pe.descr,Ue=ye(ce);return Ue===null?f([i("Could not find image file for a:blip element")]):Se(Ue,ve)}function de(J){return J==null||/^\s*$/.test(J)}function ye(J){var ce=J.attributes["r:embed"],pe=J.attributes["r:link"];if(ce)return De(ce);if(pe){var ve=E.findTargetByRelationshipId(pe);return{path:ve,read:C.read.bind(C,ve)}}else return null}function Te(J){var ce=J.attributes["r:id"];return ce?Se(De(ce),J.attributes["o:title"]):f([i("A v:imagedata element without a relationship ID was ignored")])}function De(J){var ce=a.uriToZipEntryName("word",E.findTargetByRelationshipId(J));return{path:ce,read:q.read.bind(q,ce)}}function Se(J,ce){var pe=R.findContentType(J.path),ve=t.Image({readImage:J.read,altText:ce,contentType:pe}),Ue=d[pe]?[]:i("Image of type "+pe+" is unlikely to display in web browsers");return g(ve,Ue)}function Me(J,ce){return i(J+" style with ID "+ce+" was referenced but not defined in the document")}}function u(x,D,A){var S=D.firstOrEmpty("w:ilvl").attributes["w:val"],E=D.firstOrEmpty("w:numId").attributes["w:val"];if(S!==void 0&&E!==void 0)return A.findLevel(E,S);if(x!=null){var R=A.findLevelByParagraphStyleId(x);if(R!=null)return R}return E!==void 0?A.findLevel(E,"0"):null}var d={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},h={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function f(x){return new m(null,null,x)}function b(){return new m(null)}function p(x){return new m(x)}function g(x,D){return new m(x,null,D)}function m(x,D,A){this.value=x||[],this.extra=D||[],this._result=new n({element:this.value,extra:D},A),this.messages=this._result.messages}m.prototype.toExtra=function(){return new m(null,v(this.extra,this.value),this.messages)},m.prototype.insertExtra=function(){var x=this.extra;return x&&x.length?new m(v(this.value,x),null,this.messages):this},m.prototype.map=function(x){var D=this._result.map(function(A){return x(A.element)});return new m(D.value,this.extra,D.messages)},m.prototype.flatMap=function(x){var D=this._result.flatMap(function(A){return x(A.element)._result});return new m(D.value.element,v(this.extra,D.value.extra),D.messages)},m.map=function(x,D,A){return new m(A(x.value,D.value),v(x.extra,D.extra),x.messages.concat(D.messages))};function y(x){var D=n.combine(e.pluck(x,"_result"));return new m(e.flatten(e.pluck(D.value,"element")),e.filter(e.flatten(e.pluck(D.value,"extra")),_),D.messages)}function v(x,D){return e.flatten([x,D])}function _(x){return x}return cr}var wa={},xu;function Dm(){if(xu)return wa;xu=1,wa.DocumentXmlReader=t;var o=In(),e=sn().Result;function t(n){var i=n.bodyReader;function r(s){var a=s.first("w:body");if(a==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var c=i.readXmlElements(a.children).map(function(l){return new o.Document(l,{notes:n.notes,comments:n.comments})});return new e(c.value,c.messages)}return{convertXmlToDocument:r}}return wa}var mi={},Du;function _m(){if(Du)return mi;Du=1,mi.readRelationships=o,mi.defaultValue=new e([]),mi.Relationships=e;function o(t){var n=[];return t.children.forEach(function(i){if(i.name==="relationships:Relationship"){var r={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};n.push(r)}}),new e(n)}function e(t){var n={};t.forEach(function(r){n[r.relationshipId]=r.target});var i={};return t.forEach(function(r){i[r.type]||(i[r.type]=[]),i[r.type].push(r.target)}),{findTargetByRelationshipId:function(r){return n[r]},findTargetsByType:function(r){return i[r]||[]}}}return mi}var dr={},_u;function wm(){if(_u)return dr;_u=1,dr.readContentTypesFromXml=e;var o={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};dr.defaultContentTypes=t({},{});function e(n){var i={},r={};return n.children.forEach(function(s){if(s.name==="content-types:Default"&&(i[s.attributes.Extension]=s.attributes.ContentType),s.name==="content-types:Override"){var a=s.attributes.PartName;a.charAt(0)==="/"&&(a=a.substring(1)),r[a]=s.attributes.ContentType}}),t(r,i)}function t(n,i){return{findContentType:function(r){var s=n[r];if(s)return s;var a=r.split("."),c=a[a.length-1];if(i.hasOwnProperty(c))return i[c];var l=o[c.toLowerCase()];return l?"image/"+l:null}}}return dr}var bi={},wu;function Am(){if(wu)return bi;wu=1;var o=Je;bi.readNumberingXml=t,bi.Numbering=e,bi.defaultNumbering=new e({},{});function e(s,a,c){var l=o.flatten(o.values(a).map(function(f){return o.values(f.levels)})),u=o.indexBy(l.filter(function(f){return f.paragraphStyleId!=null}),"paragraphStyleId");function d(f,b){var p=s[f];if(p){var g=a[p.abstractNumId];if(g){if(g.numStyleLink==null)return a[p.abstractNumId].levels[b];var m=c.findNumberingStyleById(g.numStyleLink);return d(m.numId,b)}else return null}else return null}function h(f){return u[f]||null}return{findLevel:d,findLevelByParagraphStyleId:h}}function t(s,a){if(!a||!a.styles)throw new Error("styles is missing");var c=n(s),l=r(s);return new e(l,c,a.styles)}function n(s){var a={};return s.getElementsByTagName("w:abstractNum").forEach(function(c){var l=c.attributes["w:abstractNumId"];a[l]=i(c)}),a}function i(s){var a={},c=null;s.getElementsByTagName("w:lvl").forEach(function(u){var d=u.attributes["w:ilvl"],h=u.firstOrEmpty("w:numFmt").attributes["w:val"],f=h!=="bullet",b=u.firstOrEmpty("w:pStyle").attributes["w:val"];d===void 0?c={isOrdered:f,level:"0",paragraphStyleId:b}:a[d]={isOrdered:f,level:d,paragraphStyleId:b}}),c!==null&&a[c.level]===void 0&&(a[c.level]=c);var l=s.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:a,numStyleLink:l}}function r(s){var a={};return s.getElementsByTagName("w:num").forEach(function(c){var l=c.attributes["w:numId"],u=c.first("w:abstractNumId").attributes["w:val"];a[l]={abstractNumId:u}}),a}return bi}var yi={},Au;function Tm(){if(Au)return yi;Au=1,yi.readStylesXml=e,yi.Styles=o,yi.defaultStyles=new o({},{});function o(s,a,c,l){return{findParagraphStyleById:function(u){return s[u]},findCharacterStyleById:function(u){return a[u]},findTableStyleById:function(u){return c[u]},findNumberingStyleById:function(u){return l[u]}}}o.EMPTY=new o({},{},{},{});function e(s){var a={},c={},l={},u={},d={paragraph:a,character:c,table:l,numbering:u};return s.getElementsByTagName("w:style").forEach(function(h){var f=t(h),b=d[f.type];b&&b[f.styleId]===void 0&&(b[f.styleId]=f)}),new o(a,c,l,u)}function t(s){var a=s.attributes["w:type"];if(a==="numbering")return i(a,s);var c=r(s),l=n(s);return{type:a,styleId:c,name:l}}function n(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s,a){var c=r(a),l=a.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:s,numId:l,styleId:c}}function r(s){return s.attributes["w:styleId"]}return yi}var qn={},Tu;function Em(){if(Tu)return qn;Tu=1;var o=In(),e=sn().Result;qn.createFootnotesReader=t.bind(qn,"footnote"),qn.createEndnotesReader=t.bind(qn,"endnote");function t(n,i){function r(c){return e.combine(c.getElementsByTagName("w:"+n).filter(s).map(a))}function s(c){var l=c.attributes["w:type"];return l!=="continuationSeparator"&&l!=="separator"}function a(c){var l=c.attributes["w:id"];return i.readXmlElements(c.children).map(function(u){return o.Note({noteType:n,noteId:l,body:u})})}return r}return qn}var Aa={},Eu;function Cm(){if(Eu)return Aa;Eu=1;var o=In(),e=sn().Result;function t(n){function i(s){return e.combine(s.getElementsByTagName("w:comment").map(r))}function r(s){var a=s.attributes["w:id"];function c(l){return(s.attributes[l]||"").trim()||null}return n.readXmlElements(s.children).map(function(l){return o.comment({commentId:a,body:l,authorName:c("w:author"),authorInitials:c("w:initials")})})}return i}return Aa.createCommentsReader=t,Aa}var Ta={},Cu;function Sm(){if(Cu)return Ta;Cu=1;var o=yn();Ta.Files=e;function e(){function t(n){return o.reject(new Error("could not open external image: '"+n+`'
cannot open linked files from a web browser`))}return{read:t}}return Ta}var Su;function Um(){if(Su)return nr;Su=1,nr.read=b,nr._findPartPaths=p;var o=yn(),e=In(),t=sn().Result,n=bf(),i=mm().readXmlFromZipFile,r=xm().createBodyReader,s=Dm().DocumentXmlReader,a=_m(),c=wm(),l=Am(),u=Tm(),d=Em(),h=Cm(),f=Sm().Files;function b(E,R,q){R=R||{},q=q||{};var C=new f({externalFileAccess:q.externalFileAccess,relativeToFile:R.path});return o.props({contentTypes:x(E),partPaths:p(E),docxFile:E,files:C}).also(function(N){return{styles:A(E,N.partPaths.styles)}}).also(function(N){return{numbering:D(E,N.partPaths.numbering,N.styles)}}).also(function(N){return{footnotes:v(N.partPaths.footnotes,N,function(T,W){return W?d.createFootnotesReader(T)(W):new t([])}),endnotes:v(N.partPaths.endnotes,N,function(T,W){return W?d.createEndnotesReader(T)(W):new t([])}),comments:v(N.partPaths.comments,N,function(T,W){return W?h.createCommentsReader(T)(W):new t([])})}}).also(function(N){return{notes:N.footnotes.flatMap(function(T){return N.endnotes.map(function(W){return new e.Notes(T.concat(W))})})}}).then(function(N){return v(N.partPaths.mainDocument,N,function(T,W){return N.notes.flatMap(function(k){return N.comments.flatMap(function(B){var H=new s({bodyReader:T,notes:k,comments:B});return H.convertXmlToDocument(W)})})})})}function p(E){return S(E).then(function(R){var q=g({docxFile:E,relationships:R,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!E.exists(q))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return y({filename:_(q),readElement:a.readRelationships,defaultValue:a.defaultValue})(E).then(function(C){function N(T){return g({docxFile:E,relationships:C,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+T,basePath:n.splitPath(q).dirname,fallbackPath:"word/"+T+".xml"})}return{mainDocument:q,comments:N("comments"),endnotes:N("endnotes"),footnotes:N("footnotes"),numbering:N("numbering"),styles:N("styles")}})})}function g(E){var R=E.docxFile,q=E.relationships,C=E.relationshipType,N=E.basePath,T=E.fallbackPath,W=q.findTargetsByType(C),k=W.map(function(H){return m(n.joinPath(N,H),"/")}),B=k.filter(function(H){return R.exists(H)});return B.length===0?T:B[0]}function m(E,R){return E.substring(0,R.length)===R?E.substring(R.length):E}function y(E){return function(R){return i(R,E.filename).then(function(q){return q?E.readElement(q):E.defaultValue})}}function v(E,R,q){var C=y({filename:_(E),readElement:a.readRelationships,defaultValue:a.defaultValue});return C(R.docxFile).then(function(N){var T=new r({relationships:N,contentTypes:R.contentTypes,docxFile:R.docxFile,numbering:R.numbering,styles:R.styles,files:R.files});return i(R.docxFile,E).then(function(W){return q(T,W)})})}function _(E){var R=n.splitPath(E);return n.joinPath(R.dirname,"_rels",R.basename+".rels")}var x=y({filename:"[Content_Types].xml",readElement:c.readContentTypesFromXml,defaultValue:c.defaultContentTypes});function D(E,R,q){return y({filename:R,readElement:function(C){return l.readNumberingXml(C,{styles:q})},defaultValue:l.defaultNumbering})(E)}function A(E,R){return y({filename:R,readElement:u.readStylesXml,defaultValue:u.defaultStyles})(E)}var S=y({filename:"_rels/.rels",readElement:a.readRelationships,defaultValue:a.defaultValue});return nr}var hr={},Uu;function Fm(){if(Uu)return hr;Uu=1;var o=Je,e=yn(),t=yc();hr.writeStyleMap=s,hr.readStyleMap=u;var n="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",r="/"+i;function s(d,h){return d.write(i,h),a(d).then(function(){return c(d)})}function a(d){var h="word/_rels/document.xml.rels",f="http://schemas.openxmlformats.org/package/2006/relationships",b="{"+f+"}Relationship";return d.read(h,"utf8").then(t.readString).then(function(p){var g=p.children;l(g,b,"Id",{Id:"rMammothStyleMap",Type:n,Target:r});var m={"":f};return d.write(h,t.writeString(p,m))})}function c(d){var h="[Content_Types].xml",f="http://schemas.openxmlformats.org/package/2006/content-types",b="{"+f+"}Override";return d.read(h,"utf8").then(t.readString).then(function(p){var g=p.children;l(g,b,"PartName",{PartName:r,ContentType:"text/prs.mammoth.style-map"});var m={"":f};return d.write(h,t.writeString(p,m))})}function l(d,h,f,b){var p=o.find(d,function(g){return g.name===h&&g.attributes[f]===b[f]});p?p.attributes=b:d.push(t.element(h,b))}function u(d){return d.exists(i)?d.read(i,"utf8"):e.resolve(null)}return hr}var fr={},En={},en={},ln={},Fu;function wf(){if(Fu)return ln;Fu=1;var o=Ts();function e(c,l,u){return n(o.element(c,l,{fresh:!1}),u)}function t(c,l,u){var d=o.element(c,l,{fresh:!0});return n(d,u)}function n(c,l){return{type:"element",tag:c,children:l||[]}}function i(c){return{type:"text",value:c}}var r={type:"forceWrite"};ln.freshElement=t,ln.nonFreshElement=e,ln.elementWithTag=n,ln.text=i,ln.forceWrite=r;var s={br:!0,hr:!0,img:!0,input:!0};function a(c){return c.children.length===0&&s[c.tag.tagName]}return ln.isVoidElement=a,ln}var Ea,ku;function km(){if(ku)return Ea;ku=1;var o=Je,e=wf();function t(p){return n(l(p))}function n(p){var g=[];return p.map(i).forEach(function(m){c(g,m)}),g}function i(p){return r[p.type](p)}var r={element:s,text:a,forceWrite:a};function s(p){return e.elementWithTag(p.tag,n(p.children))}function a(p){return p}function c(p,g){var m=p[p.length-1];g.type==="element"&&!g.tag.fresh&&m&&m.type==="element"&&g.tag.matchesElement(m.tag)?(g.tag.separator&&c(m.children,e.text(g.tag.separator)),g.children.forEach(function(y){c(m.children,y)})):p.push(g)}function l(p){return u(p,function(g){return d[g.type](g)})}function u(p,g){return o.flatten(o.map(p,g),!0)}var d={element:f,text:b,forceWrite:h};function h(p){return[p]}function f(p){var g=l(p.children);return g.length===0&&!e.isVoidElement(p)?[]:[e.elementWithTag(p.tag,g)]}function b(p){return p.value.length===0?[]:[p]}return Ea=t,Ea}var Ru;function As(){if(Ru)return en;Ru=1;var o=wf();en.freshElement=o.freshElement,en.nonFreshElement=o.nonFreshElement,en.elementWithTag=o.elementWithTag,en.text=o.text,en.forceWrite=o.forceWrite,en.simplify=km();function e(s,a){a.forEach(function(c){t(s,c)})}function t(s,a){n[a.type](s,a)}var n={element:i,text:r,forceWrite:function(){}};function i(s,a){o.isVoidElement(a)?s.selfClosing(a.tag.tagName,a.tag.attributes):(s.open(a.tag.tagName,a.tag.attributes),e(s,a.children),s.close(a.tag.tagName))}function r(s,a){s.text(a.value)}return en.write=e,en}var Bu;function Ts(){if(Bu)return En;Bu=1;var o=Je,e=As();En.topLevelElement=t,En.elements=n,En.element=r;function t(a,c){return n([r(a,c,{fresh:!0})])}function n(a){return new i(a.map(function(c){return o.isString(c)?r(c):c}))}function i(a){this._elements=a}i.prototype.wrap=function(c){for(var l=c(),u=this._elements.length-1;u>=0;u--)l=this._elements[u].wrapNodes(l);return l};function r(a,c,l){return l=l||{},new s(a,c,l)}function s(a,c,l){var u={};o.isArray(a)?(a.forEach(function(d){u[d]=!0}),a=a[0]):u[a]=!0,this.tagName=a,this.tagNames=u,this.attributes=c||{},this.fresh=l.fresh,this.separator=l.separator}return s.prototype.matchesElement=function(a){return this.tagNames[a.tagName]&&o.isEqual(this.attributes||{},a.attributes||{})},s.prototype.wrap=function(c){return this.wrapNodes(c())},s.prototype.wrapNodes=function(c){return[e.elementWithTag(this,c)]},En.empty=n([]),En.ignore={wrap:function(){return[]}},En}var Ca={},Nu;function Af(){return Nu||(Nu=1,(function(o){var e=Je,t=yn(),n=As();o.imgElement=i;function i(r){return function(s,a){return t.when(r(s)).then(function(c){var l={};return s.altText&&(l.alt=s.altText),e.extend(l,c),[n.freshElement("img",l)]})}}o.inline=o.imgElement,o.dataUri=i(function(r){return r.readAsBase64String().then(function(s){return{src:"data:"+r.contentType+";base64,"+s}})})})(Ca)),Ca}var Sa={},Ua={},Iu;function Rm(){if(Iu)return Ua;Iu=1;var o=Je;Ua.writer=e;function e(a){return a=a||{},a.prettyPrint?n():i()}var t={div:!0,p:!0,ul:!0,li:!0};function n(){var a=0,c="  ",l=[],u=!0,d=!1,h=i();function f(x,D){t[x]&&v(),l.push(x),h.open(x,D),t[x]&&a++,u=!1}function b(x){t[x]&&(a--,v()),l.pop(),h.close(x)}function p(x){y();var D=_()?x:x.replace(`
`,`
`+c);h.text(D)}function g(x,D){v(),h.selfClosing(x,D)}function m(){return l.length===0||t[l[l.length-1]]}function y(){d||(v(),d=!0)}function v(){if(d=!1,!u&&m()&&!_()){h._append(`
`);for(var x=0;x<a;x++)h._append(c)}}function _(){return o.some(l,function(x){return x==="pre"})}return{asString:h.asString,open:f,close:b,text:p,selfClosing:g}}function i(){var a=[];function c(p,g){var m=d(g);a.push("<"+p+m+">")}function l(p){a.push("</"+p+">")}function u(p,g){var m=d(g);a.push("<"+p+m+" />")}function d(p){return o.map(p,function(g,m){return" "+m+'="'+s(g)+'"'}).join("")}function h(p){a.push(r(p))}function f(p){a.push(p)}function b(){return a.join("")}return{asString:b,open:c,close:l,text:h,selfClosing:u,_append:f}}function r(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return Ua}var Fa={},Mu;function Bm(){if(Mu)return Fa;Mu=1;var o=Je;function e(d){return t(d,d)}function t(d,h){return function(){return{start:d,end:h}}}function n(d){var h=d.href||"";return h?{start:"[",end:"]("+h+")",anchorPosition:"before"}:{}}function i(d){var h=d.src||"",f=d.alt||"";return h||f?{start:"!["+f+"]("+h+")"}:{}}function r(d){return function(h,f){return{start:f?`
`:"",end:f?"":`
`,list:{isOrdered:d.isOrdered,indent:f?f.indent+1:0,count:0}}}}function s(d,h,f){h=h||{indent:0,isOrdered:!1,count:0},h.count++,f.hasClosed=!1;var b=h.isOrdered?h.count+".":"-",p=c("	",h.indent)+b+" ";return{start:p,end:function(){if(!f.hasClosed)return f.hasClosed=!0,`
`}}}var a={p:t("",`

`),br:t("",`  
`),ul:r({isOrdered:!1}),ol:r({isOrdered:!0}),li:s,strong:e("__"),em:e("*"),a:n,img:i};(function(){for(var d=1;d<=6;d++)a["h"+d]=t(c("#",d)+" ",`

`)})();function c(d,h){return new Array(h+1).join(d)}function l(){var d=[],h=[],f=null,b={};function p(x,D){D=D||{};var A=a[x]||function(){return{}},S=A(D,f,b);h.push({end:S.end,list:f}),S.list&&(f=S.list);var E=S.anchorPosition==="before";E&&g(D),d.push(S.start||""),E||g(D)}function g(x){x.id&&d.push('<a id="'+x.id+'"></a>')}function m(x){var D=h.pop();f=D.list;var A=o.isFunction(D.end)?D.end():D.end;d.push(A||"")}function y(x,D){p(x,D),m()}function v(x){d.push(u(x))}function _(){return d.join("")}return{asString:_,open:p,close:m,text:v,selfClosing:y}}Fa.writer=l;function u(d){return d.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return Fa}var Lu;function Nm(){if(Lu)return Sa;Lu=1;var o=Rm(),e=Bm();Sa.writer=t;function t(n){return n=n||{},n.outputFormat==="markdown"?e.writer():o.writer(n)}return Sa}var Pu;function Im(){if(Pu)return fr;Pu=1;var o=Je,e=yn(),t=In(),n=Ts(),i=sn(),r=Af(),s=As(),a=Nm();fr.DocumentConverter=c;function c(g){return{convertToHtml:function(m){var y=o.indexBy(m.type===t.types.document?m.comments:[],"commentId"),v=new l(g,y);return v.convertToHtml(m)}}}function l(g,m){var y=1,v=[],_=[];g=o.extend({ignoreEmptyParagraphs:!0},g);var x=g.idPrefix===void 0?"":g.idPrefix,D=g.ignoreEmptyParagraphs,A=n.topLevelElement("p"),S=g.styleMap||[];function E(w){var Q=[],Y=q(w,Q,{}),L=[];b(Y,function(P){P.type==="deferred"&&L.push(P)});var F={};return e.mapSeries(L,function(P){return P.value().then(function(te){F[P.id]=te})}).then(function(){function P(ae){return f(ae,function(K){return K.type==="deferred"?F[K.id]:K.children?[o.extend({},K,{children:P(K.children)})]:[K]})}var te=a.writer({prettyPrint:g.prettyPrint,outputFormat:g.outputFormat});return s.write(te,s.simplify(P(Y))),new i.Result(te.asString(),Q)})}function R(w,Q,Y){return f(w,function(L){return q(L,Q,Y)})}function q(w,Q,Y){if(!Y)throw new Error("options not set");var L=ke[w.type];return L?L(w,Q,Y):[]}function C(w,Q,Y){return N(w,Q).wrap(function(){var L=R(w.children,Q,Y);return D?L:[s.forceWrite].concat(L)})}function N(w,Q){var Y=B(w);return Y?Y.to:(w.styleId&&Q.push(h("paragraph",w)),A)}function T(w,Q,Y){var L=function(){return R(w.children,Q,Y)},F=[];if(w.highlight!==null){var P=k({type:"highlight",color:w.highlight});P&&F.push(P)}w.isSmallCaps&&F.push(W("smallCaps")),w.isAllCaps&&F.push(W("allCaps")),w.isStrikethrough&&F.push(W("strikethrough","s")),w.isUnderline&&F.push(W("underline")),w.verticalAlignment===t.verticalAlignment.subscript&&F.push(n.element("sub",{},{fresh:!1})),w.verticalAlignment===t.verticalAlignment.superscript&&F.push(n.element("sup",{},{fresh:!1})),w.isItalic&&F.push(W("italic","em")),w.isBold&&F.push(W("bold","strong"));var te=n.empty,ae=B(w);return ae?te=ae.to:w.styleId&&Q.push(h("run",w)),F.push(te),F.forEach(function(K){L=K.wrap.bind(K,L)}),L()}function W(w,Q){var Y=k({type:w});return Y||(Q?n.element(Q,{},{fresh:!1}):n.empty)}function k(w,Q){var Y=B(w);return Y?Y.to:Q}function B(w){for(var Q=0;Q<S.length;Q++)if(S[Q].from.matches(w))return S[Q]}function H(w){return function(Q,Y){return e.attempt(function(){return w(Q,Y)}).caught(function(L){return Y.push(i.error(L)),[]})}}function z(w){return O(w.noteType,w.noteId)}function ee(w){return $(w.noteType,w.noteId)}function O(w,Q){return X(w+"-"+Q)}function $(w,Q){return X(w+"-ref-"+Q)}function X(w){return x+w}var ne=n.elements([n.element("table",{},{fresh:!0})]);function ie(w,Q,Y){return k(w,ne).wrap(function(){return ue(w,Q,Y)})}function ue(w,Q,Y){var L=o.findIndex(w.children,function(ae){return!ae.type===t.types.tableRow||!ae.isHeader});L===-1&&(L=w.children.length);var F;if(L===0)F=R(w.children,Q,o.extend({},Y,{isTableHeader:!1}));else{var P=R(w.children.slice(0,L),Q,o.extend({},Y,{isTableHeader:!0})),te=R(w.children.slice(L),Q,o.extend({},Y,{isTableHeader:!1}));F=[s.freshElement("thead",{},P),s.freshElement("tbody",{},te)]}return[s.forceWrite].concat(F)}function oe(w,Q,Y){var L=R(w.children,Q,Y);return[s.freshElement("tr",{},[s.forceWrite].concat(L))]}function le(w,Q,Y){var L=Y.isTableHeader?"th":"td",F=R(w.children,Q,Y),P={};return w.colSpan!==1&&(P.colspan=w.colSpan.toString()),w.rowSpan!==1&&(P.rowspan=w.rowSpan.toString()),[s.freshElement(L,P,[s.forceWrite].concat(F))]}function fe(w,Q,Y){return k(w,n.ignore).wrap(function(){var L=m[w.commentId],F=_.length+1,P="["+p(L)+F+"]";return _.push({label:P,comment:L}),[s.freshElement("a",{href:"#"+O("comment",w.commentId),id:$("comment",w.commentId)},[s.text(P)])]})}function ge(w,Q,Y){var L=w.label,F=w.comment,P=R(F.body,Q,Y).concat([s.nonFreshElement("p",{},[s.text(" "),s.freshElement("a",{href:"#"+$("comment",F.commentId)},[s.text("‚Üë")])])]);return[s.freshElement("dt",{id:O("comment",F.commentId)},[s.text("Comment "+L)]),s.freshElement("dd",{},P)]}function xe(w,Q,Y){return Ae(w).wrap(function(){return[]})}function Ae(w){var Q=B(w);return Q?Q.to:w.breakType==="line"?n.topLevelElement("br"):n.empty}var ke={document:function(w,Q,Y){var L=R(w.children,Q,Y),F=v.map(function(te){return w.notes.resolve(te)}),P=R(F,Q,Y);return L.concat([s.freshElement("ol",{},P),s.freshElement("dl",{},f(_,function(te){return ge(te,Q,Y)}))])},paragraph:C,run:T,text:function(w,Q,Y){return[s.text(w.value)]},tab:function(w,Q,Y){return[s.text("	")]},hyperlink:function(w,Q,Y){var L=w.anchor?"#"+X(w.anchor):w.href,F={href:L};w.targetFrame!=null&&(F.target=w.targetFrame);var P=R(w.children,Q,Y);return[s.nonFreshElement("a",F,P)]},checkbox:function(w){var Q={type:"checkbox"};return w.checked&&(Q.checked="checked"),[s.freshElement("input",Q)]},bookmarkStart:function(w,Q,Y){var L=s.freshElement("a",{id:X(w.name)},[s.forceWrite]);return[L]},noteReference:function(w,Q,Y){v.push(w);var L=s.freshElement("a",{href:"#"+z(w),id:ee(w)},[s.text("["+y+++"]")]);return[s.freshElement("sup",{},[L])]},note:function(w,Q,Y){var L=R(w.body,Q,Y),F=s.elementWithTag(n.element("p",{},{fresh:!1}),[s.text(" "),s.freshElement("a",{href:"#"+ee(w)},[s.text("‚Üë")])]),P=L.concat([F]);return s.freshElement("li",{id:z(w)},P)},commentReference:fe,comment:ge,image:d(H(g.convertImage||r.dataUri)),table:ie,tableRow:oe,tableCell:le,break:xe};return{convertToHtml:E}}var u=1;function d(g){return function(m,y,v){return[{type:"deferred",id:u++,value:function(){return g(m,y,v)}}]}}function h(g,m){return i.warning("Unrecognised "+g+" style: '"+m.styleName+"' (Style ID: "+m.styleId+")")}function f(g,m){return o.flatten(g.map(m),!0)}function b(g,m){g.forEach(function(y){m(y),y.children&&b(y.children,m)})}var p=fr.commentAuthorLabel=function(m){return m.authorInitials||""};return fr}var ka={},Ou;function Mm(){if(Ou)return ka;Ou=1;var o=In();function e(t){if(t.type==="text")return t.value;if(t.type===o.types.tab)return"	";var n=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+n}return ka.convertElementToRawText=e,ka}var vi={},qt={},Ra={},Ba={exports:{}},Wu;function Lm(){if(Wu)return Ba.exports;Wu=1;var o=Ba.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return o.prototype.head=function(){return this._tokens[this._startIndex]},o.prototype.tail=function(e){return new o(this._tokens,this._startIndex+1)},o.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},o.prototype.end=function(){return this._tokens[this._tokens.length-1]},o.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)},Ba.exports}var ju;function Pm(){if(ju)return Ra;ju=1;var o=Lm();return Ra.Parser=function(e){var t=function(n,i){return n(new o(i))};return{parseTokens:t}},Ra}var Na={},Ia={},qu;function Om(){return qu||(qu=1,(function(o){o.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return o.none},flatMap:function(){return o.none},filter:function(){return o.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}o.some=function(n){return new t(n)};var t=function(n){this._value=n};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(n){return new t(n(this._value))},t.prototype.flatMap=function(n){return n(this._value)},t.prototype.filter=function(n){return n(this._value)?this:o.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(n){return this},t.prototype.valueOrElse=function(n){return this._value},o.isOption=function(n){return n===o.none||n instanceof t},o.fromNullable=function(n){return n==null?o.none:new t(n)}})(Ia)),Ia}var Ma,zu;function vc(){if(zu)return Ma;zu=1,Ma={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new o({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new o({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new o({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new o({status:"cut",remaining:e,errors:[]})}};var o=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return o.prototype.map=function(e){return this._hasValue?new o({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},o.prototype.changeRemaining=function(e){return new o({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},o.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},o.prototype.isFailure=function(){return this._status==="failure"},o.prototype.isError=function(){return this._status==="error"},o.prototype.isCut=function(){return this._status==="cut"},o.prototype.value=function(){return this._value},o.prototype.remaining=function(){return this._remaining},o.prototype.source=function(){return this._source},o.prototype.errors=function(){return this._errors},Ma}var La={},Hu;function Tf(){if(Hu)return La;Hu=1,La.error=function(e){return new o(e)};var o=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return o.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},o.prototype.lineNumber=function(){return this._location.lineNumber()},o.prototype.characterNumber=function(){return this._location.characterNumber()},La}var Pa={},Vu;function Wm(){if(Vu)return Pa;Vu=1,Pa.fromArray=function(e){var t=0,n=function(){return t<e.length};return new o({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})};var o=function(e){this._iterator=e};return o.prototype.map=function(e){var t=this._iterator;return new o({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},o.prototype.filter=function(e){var t=this._iterator,n=!1,i=!1,r,s=function(){if(!n)for(n=!0,i=!1;t.hasNext()&&!i;)r=t.next(),i=e(r)};return new o({hasNext:function(){return s(),i},next:function(){s();var a=r;return n=!1,a}})},o.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},o.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},Pa}var Xu;function Ef(){return Xu||(Xu=1,(function(o){var e=Je,t=Om(),n=vc(),i=Tf(),r=Wm();o.token=function(h,f){var b=f!==void 0;return function(p){var g=p.head();if(g&&g.name===h&&(!b||g.value===f))return n.success(g.value,p.tail(),g.source);var m=u({name:h,value:f});return d(p,m)}},o.tokenOfType=function(h){return o.token(h)},o.firstOf=function(h,f){return e.isArray(f)||(f=Array.prototype.slice.call(arguments,1)),function(b){return r.fromArray(f).map(function(p){return p(b)}).filter(function(p){return p.isSuccess()||p.isError()}).first()||d(b,h)}},o.then=function(h,f){return function(b){var p=h(b);return p.map||console.log(p),p.map(f)}},o.sequence=function(){var h=Array.prototype.slice.call(arguments,0),f=function(p){var g=e.foldl(h,function(y,v){var _=y.result,x=y.hasCut;if(!_.isSuccess())return{result:_,hasCut:x};var D=v(_.remaining());if(D.isCut())return{result:_,hasCut:!0};if(D.isSuccess()){var A;v.isCaptured?A=_.value().withValue(v,D.value()):A=_.value();var S=D.remaining(),E=p.to(S);return{result:n.success(A,S,E),hasCut:x}}else return x?{result:n.error(D.errors(),D.remaining()),hasCut:x}:{result:D,hasCut:x}},{result:n.success(new s,p),hasCut:!1}).result,m=p.to(g.remaining());return g.map(function(y){return y.withValue(o.sequence.source,m)})};f.head=function(){var p=e.find(h,b);return o.then(f,o.sequence.extract(p))},f.map=function(p){return o.then(f,function(g){return p.apply(this,g.toArray())})};function b(p){return p.isCaptured}return f};var s=function(h,f){this._values=h||{},this._valuesArray=f||[]};s.prototype.withValue=function(h,f){if(h.captureName&&h.captureName in this._values)throw new Error('Cannot add second value for capture "'+h.captureName+'"');var b=e.clone(this._values);b[h.captureName]=f;var p=this._valuesArray.concat([f]);return new s(b,p)},s.prototype.get=function(h){if(h.captureName in this._values)return this._values[h.captureName];throw new Error('No value for capture "'+h.captureName+'"')},s.prototype.toArray=function(){return this._valuesArray},o.sequence.capture=function(h,f){var b=function(){return h.apply(this,arguments)};return b.captureName=f,b.isCaptured=!0,b},o.sequence.extract=function(h){return function(f){return f.get(h)}},o.sequence.applyValues=function(h){var f=Array.prototype.slice.call(arguments,1);return function(b){var p=f.map(function(g){return b.get(g)});return h.apply(this,p)}},o.sequence.source={captureName:"‚òÉsource‚òÉ"},o.sequence.cut=function(){return function(h){return n.cut(h)}},o.optional=function(h){return function(f){var b=h(f);return b.isSuccess()?b.map(t.some):b.isFailure()?n.success(t.none,f):b}},o.zeroOrMoreWithSeparator=function(h,f){return l(h,f,!1)},o.oneOrMoreWithSeparator=function(h,f){return l(h,f,!0)};var a=o.zeroOrMore=function(h){return function(f){for(var b=[],p;(p=h(f))&&p.isSuccess();)f=p.remaining(),b.push(p.value());return p.isError()?p:n.success(b,f)}};o.oneOrMore=function(h){return o.oneOrMoreWithSeparator(h,c)};function c(h){return n.success(null,h)}var l=function(h,f,b){return function(p){var g=h(p);if(g.isSuccess()){var m=o.sequence.capture(h,"main"),y=a(o.then(o.sequence(f,m),o.sequence.extract(m))),v=y(g.remaining());return n.success([g.value()].concat(v.value()),v.remaining())}else return b||g.isError()?g:n.success([],p)}};o.leftAssociative=function(h,f,b){var p;b?p=[{func:b,rule:f}]:p=f,p=p.map(function(m){return o.then(m.rule,function(y){return function(v,_){return m.func(v,y,_)}})});var g=o.firstOf.apply(null,["rules"].concat(p));return function(m){var y=m,v=h(m);if(!v.isSuccess())return v;for(var _=g(v.remaining());_.isSuccess();){var x=_.remaining(),D=y.to(_.remaining()),A=_.value();v=n.success(A(v.value(),D),x,D),_=g(v.remaining())}return _.isError()?_:v}},o.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},o.nonConsuming=function(h){return function(f){return h(f).changeRemaining(f)}};var u=function(h){return h.value?h.name+' "'+h.value+'"':h.name};function d(h,f){var b,p=h.head();return p?b=i.error({expected:f,actual:u(p),location:p.source}):b=i.error({expected:f,actual:"end of tokens"}),n.failure([b],h)}})(Na)),Na}var Oa={exports:{}},$u;function Cf(){if($u)return Oa.exports;$u=1,Oa.exports=function(e,t){var n={asString:function(){return e},range:function(i,r){return new o(e,t,i,r)}};return n};var o=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};return o.prototype.to=function(e){return new o(this._string,this._description,this._startIndex,e._endIndex)},o.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},o.prototype.lineNumber=function(){return this._position().lineNumber},o.prototype.characterNumber=function(){return this._position().characterNumber},o.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf(`
`,t)},i=1;n()!==-1&&n()<this._startIndex;)t=n()+1,i+=1;var r=this._startIndex-t+1;return{lineNumber:i,characterNumber:r}},Oa.exports}var Wa,Gu;function Sf(){return Gu||(Gu=1,Wa=function(o,e,t){this.name=o,this.value=e,t&&(this.source=t)}),Wa}var ja={},Yu;function jm(){return Yu||(Yu=1,(function(o){var e=Ef(),t=vc();o.parser=function(r,s,a){var c={rule:h,leftAssociative:f,rightAssociative:b},l=new n(a.map(d)),u=e.firstOf(r,s);function d(m){return{name:m.name,rule:i(m.ruleBuilder.bind(null,c))}}function h(){return p(l)}function f(m){return p(l.untilExclusive(m))}function b(m){return p(l.untilInclusive(m))}function p(m){return g.bind(null,m)}function g(m,y){var v=u(y);return v.isSuccess()?m.apply(v):v}return c};function n(r){function s(d){return new n(r.slice(0,c().indexOf(d)))}function a(d){return new n(r.slice(0,c().indexOf(d)+1))}function c(){return r.map(function(d){return d.name})}function l(d){for(var h,f;;)if(h=u(d.remaining()),h.isSuccess())f=d.source().to(h.source()),d=t.success(h.value()(d.value(),f),h.remaining(),f);else return h.isFailure()?d:h}function u(d){return e.firstOf("infix",r.map(function(h){return h.rule}))(d)}return{apply:l,untilExclusive:s,untilInclusive:a}}o.infix=function(r,s){function a(c){return o.infix(r,function(l){var u=s(l);return function(d){var h=u(d);return h.map(function(f){return function(b,p){return c(b,f,p)}})}})}return{name:r,ruleBuilder:s,map:a}};var i=function(r){var s;return function(a){return s||(s=r()),s(a)}}})(ja)),ja}var qa={},Ku;function qm(){if(Ku)return qa;Ku=1;var o=Sf(),e=Cf();qa.RegexTokeniser=t;function t(n){n=n.map(function(a){return{name:a.name,regex:new RegExp(a.regex.source,"g")}});function i(a,c){for(var l=new e(a,c),u=0,d=[];u<a.length;){var h=r(a,u,l);u=h.endIndex,d.push(h.token)}return d.push(s(a,l)),d}function r(a,c,l){for(var u=0;u<n.length;u++){var d=n[u].regex;d.lastIndex=c;var h=d.exec(a);if(h){var b=c+h[0].length;if(h.index===c&&b>c){var f=h[1],p=new o(n[u].name,f,l.range(c,b));return{token:p,endIndex:b}}}}var b=c+1,p=new o("unrecognisedCharacter",a.substring(c,b),l.range(c,b));return{token:p,endIndex:b}}function s(a,c){return new o("end",null,c.range(a.length,a.length))}return{tokenise:i}}return qa}var Zu;function Uf(){return Zu||(Zu=1,qt.Parser=Pm().Parser,qt.rules=Ef(),qt.errors=Tf(),qt.results=vc(),qt.StringSource=Cf(),qt.Token=Sf(),qt.bottomUp=jm(),qt.RegexTokeniser=qm().RegexTokeniser,qt.rule=function(o){var e;return function(t){return e||(e=o()),e(t)}}),qt}var it={},Qu;function zm(){if(Qu)return it;Qu=1,it.paragraph=o,it.run=e,it.table=t,it.bold=new i("bold"),it.italic=new i("italic"),it.underline=new i("underline"),it.strikethrough=new i("strikethrough"),it.allCaps=new i("allCaps"),it.smallCaps=new i("smallCaps"),it.highlight=n,it.commentReference=new i("commentReference"),it.lineBreak=new s({breakType:"line"}),it.pageBreak=new s({breakType:"page"}),it.columnBreak=new s({breakType:"column"}),it.equalTo=c,it.startsWith=l;function o(h){return new i("paragraph",h)}function e(h){return new i("run",h)}function t(h){return new i("table",h)}function n(h){return new r(h)}function i(h,f){f=f||{},this._elementType=h,this._styleId=f.styleId,this._styleName=f.styleName,f.list&&(this._listIndex=f.list.levelIndex,this._listIsOrdered=f.list.isOrdered)}i.prototype.matches=function(h){return h.type===this._elementType&&(this._styleId===void 0||h.styleId===this._styleId)&&(this._styleName===void 0||h.styleName&&this._styleName.operator(this._styleName.operand,h.styleName))&&(this._listIndex===void 0||a(h,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===h.breakType)};function r(h){h=h||{},this._color=h.color}r.prototype.matches=function(h){return h.type==="highlight"&&(this._color===void 0||h.color===this._color)};function s(h){h=h||{},this._breakType=h.breakType}s.prototype.matches=function(h){return h.type==="break"&&(this._breakType===void 0||h.breakType===this._breakType)};function a(h,f,b){return h.numbering&&h.numbering.level==f&&h.numbering.isOrdered==b}function c(h){return{operator:u,operand:h}}function l(h){return{operator:d,operand:h}}function u(h,f){return h.toUpperCase()===f.toUpperCase()}function d(h,f){return f.toUpperCase().indexOf(h.toUpperCase())===0}return it}var za={},Ju;function Hm(){if(Ju)return za;Ju=1;var o=Uf(),e=o.RegexTokeniser;za.tokenise=n;var t="'((?:\\\\.|[^'])*)";function n(i){var r="(?:[a-zA-Z\\-_]|\\\\.)",s=new e([{name:"identifier",regex:new RegExp("("+r+"(?:"+r+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return s.tokenise(i)}return za}var ed;function Vm(){if(ed)return vi;ed=1;var o=Je,e=Uf(),t=zm(),n=Ts(),i=Hm().tokenise,r=sn();vi.readHtmlPath=u,vi.readDocumentMatcher=c,vi.readStyle=s;function s(S){return _(A,S)}function a(){return e.rules.sequence(e.rules.sequence.capture(l()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(d())).head())),e.rules.tokenOfType("end")).map(function(S,E){return{from:S,to:E.valueOrElse(n.empty)}})}function c(S){return _(l(),S)}function l(){var S=e.rules.sequence,E=function(ge,xe){return e.rules.then(e.rules.token("identifier",ge),function(){return xe})},R=E("p",t.paragraph),q=E("r",t.run),C=e.rules.firstOf("p or r or table",R,q),N=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(ge){return{styleId:ge}}),T=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(ge){return{styleName:t.equalTo(ge)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(ge){return{styleName:t.startsWith(ge)}})),W=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(T),e.rules.tokenOfType("close-square-bracket")).head(),k=e.rules.firstOf("list type",E("ordered-list",{isOrdered:!0}),E("unordered-list",{isOrdered:!1})),B=S(e.rules.tokenOfType("colon"),S.capture(k),S.cut(),e.rules.tokenOfType("open-paren"),S.capture(f),e.rules.tokenOfType("close-paren")).map(function(ge,xe){return{list:{isOrdered:ge.isOrdered,levelIndex:xe-1}}});function H(ge){var xe=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(ge)),Ae=e.rules.zeroOrMore(xe);return e.rules.then(Ae,function(ke){var w={};return ke.forEach(function(Q){o.extend(w,Q)}),w})}var z=S(S.capture(C),S.capture(H([N,W,B]))).map(function(ge,xe){return ge(xe)}),ee=S(e.rules.token("identifier","table"),S.capture(H([N,W]))).map(function(ge){return t.table(ge)}),O=E("b",t.bold),$=E("i",t.italic),X=E("u",t.underline),ne=E("strike",t.strikethrough),ie=E("all-caps",t.allCaps),ue=E("small-caps",t.smallCaps),oe=S(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(ge){return t.highlight({color:ge.valueOrElse(void 0)})}),le=E("comment-reference",t.commentReference),fe=S(e.rules.token("identifier","br"),S.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),S.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(ge){switch(ge){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",z,ee,O,$,X,ne,ie,ue,oe,le,fe)}function u(S){return _(d(),S)}function d(){var S=e.rules.sequence.capture,E=e.rules.tokenOfType("whitespace"),R=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(T){return T.map(function(){return!0}).valueOrElse(!1)}),q=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),S(b),e.rules.tokenOfType("close-paren")).head()),function(T){return T.valueOrElse("")}),C=e.rules.oneOrMoreWithSeparator(h,e.rules.tokenOfType("choice")),N=e.rules.sequence(S(C),S(e.rules.zeroOrMore(v)),S(R),S(q)).map(function(T,W,k,B){var H={},z={};return W.forEach(function(ee){ee.append&&H[ee.name]?H[ee.name]+=" "+ee.value:H[ee.name]=ee.value}),k&&(z.fresh=!0),B&&(z.separator=B),n.element(T,H,z)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return n.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(N,e.rules.sequence(E,e.rules.tokenOfType("gt"),E)),n.elements))}var h=e.rules.then(e.rules.tokenOfType("identifier"),g),f=e.rules.tokenOfType("integer"),b=e.rules.then(e.rules.tokenOfType("string"),g),p={n:`
`,r:"\r",t:"	"};function g(S){return S.replace(/\\(.)/g,function(E,R){return p[R]||R})}var m=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(h),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(S,E){return{name:S,value:E,append:!1}}),y=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(h)).map(function(S){return{name:"class",value:S,append:!0}}),v=e.rules.firstOf("attribute or class",m,y);function _(S,E){var R=i(E),q=e.Parser(),C=q.parseTokens(S,R);return C.isSuccess()?r.success(C.value()):new r.Result(null,[r.warning(x(E,C))])}function x(S,E){return"Did not understand this style mapping, so ignored it: "+S+`
`+E.errors().map(D).join(`
`)}function D(S){return"Error was at character number "+S.characterNumber()+": Expected "+S.expected+" but got "+S.actual}var A=a();return vi}var xi={},td;function Xm(){if(td)return xi;td=1,xi.readOptions=n;var o=Je,e=xi._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],t=xi._standardOptions={externalFileAccess:!1,transformDocument:r,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function n(s){return s=s||{},o.extend({},t,s,{customStyleMap:i(s.styleMap),readStyleMap:function(){var a=this.customStyleMap;return this.includeEmbeddedStyleMap&&(a=a.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(a=a.concat(e)),a}})}function i(s){return s?o.isString(s)?s.split(`
`).map(function(a){return a.trim()}).filter(function(a){return a!==""&&a.charAt(0)!=="#"}):s:[]}function r(s){return s}return xi}var Ha={},nd;function $m(){if(nd)return Ha;nd=1;var o=yn(),e=bf();Ha.openZip=t;function t(n){return n.arrayBuffer?o.resolve(e.openArrayBuffer(n.arrayBuffer)):o.reject(new Error("Could not find file in options"))}return Ha}var Va={},id;function Gm(){if(id)return Va;id=1;var o=Ts(),e=As();Va.element=t;function t(n){return function(i){return e.elementWithTag(o.element(n),[i])}}return Va}var rd;function Ym(){if(rd)return Bt;rd=1;var o=Je,e=Um(),t=Fm(),n=Im().DocumentConverter,i=Mm().convertElementToRawText,r=Vm().readStyle,s=Xm().readOptions,a=$m(),c=sn().Result;Bt.convertToHtml=l,Bt.convertToMarkdown=u,Bt.convert=d,Bt.extractRawText=p,Bt.images=Af(),Bt.transforms=_f(),Bt.underline=Gm(),Bt.embedStyleMap=g,Bt.readEmbeddedStyleMap=h;function l(m,y){return d(m,y)}function u(m,y){var v=Object.create(y||{});return v.outputFormat="markdown",d(m,v)}function d(m,y){return y=s(y),a.openZip(m).tap(function(v){return t.readStyleMap(v).then(function(_){y.embeddedStyleMap=_})}).then(function(v){return e.read(v,m,y).then(function(_){return _.map(y.transformDocument)}).then(function(_){return f(_,y)})})}function h(m){return a.openZip(m).then(t.readStyleMap)}function f(m,y){var v=b(y.readStyleMap()),_=o.extend({},y,{styleMap:v.value}),x=new n(_);return m.flatMapThen(function(D){return v.flatMapThen(function(A){return x.convertToHtml(D)})})}function b(m){return c.combine((m||[]).map(r)).map(function(y){return y.filter(function(v){return!!v})})}function p(m){return a.openZip(m).then(e.read).then(function(y){return y.map(i)})}function g(m,y){return a.openZip(m).tap(function(v){return t.writeStyleMap(v,y)}).then(function(v){return v.toArrayBuffer()}).then(function(v){return{toArrayBuffer:function(){return v},toBuffer:function(){return pt.from(v)}}})}return Bt.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Bt}var Km=Ym();const Zm=lp(Km),bt=typeof Ve=="object"&&Ve+""=="[object process]"&&!Ve.versions.nw&&!(Ve.versions.electron&&Ve.type&&Ve.type!=="browser"),ao=[.001,0,0,.001,0,0],Xa=1.35,Ut={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},un={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Li="pdfjs_internal_editor_",Ce={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Qm={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},oo={TRIANGLES:1,LATTICE:2},at={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Vr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Hn={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Es={ERRORS:0,WARNINGS:1,INFOS:5},Pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Di={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Jm={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Cs=Es.WARNINGS;function eb(o){Number.isInteger(o)&&(Cs=o)}function tb(){return Cs}function Ss(o){Cs>=Es.INFOS&&console.info(`Info: ${o}`)}function Ee(o){Cs>=Es.WARNINGS&&console.warn(`Warning: ${o}`)}function qe(o){throw new Error(o)}function Ie(o,e){o||qe(e)}function nb(o){switch(o?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ff(o,e=null,t=null){if(!o)return null;if(t&&typeof o=="string"&&(t.addDefaultProtocol&&o.startsWith("www.")&&o.match(/\./g)?.length>=2&&(o=`http://${o}`),t.tryConvertEncoding))try{o=ob(o)}catch{}const n=e?URL.parse(o,e):URL.parse(o);return nb(n)?n:null}function kf(o,e,t=!1){const n=URL.parse(o);return n?(n.hash=e,n.href):t&&Ff(o,"http://example.com")?o.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Fe(o,e,t,n=!1){return Object.defineProperty(o,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Mn=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class sd extends Mn{constructor(e,t){super(e,"PasswordException"),this.code=t}}class $a extends Mn{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class co extends Mn{constructor(e){super(e,"InvalidPDFException")}}class Jr extends Mn{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class ib extends Mn{constructor(e){super(e,"FormatError")}}class fn extends Mn{constructor(e){super(e,"AbortException")}}function Rf(o){(typeof o!="object"||o?.length===void 0)&&qe("Invalid argument for bytesToString");const e=o.length,t=8192;if(e<t)return String.fromCharCode.apply(null,o);const n=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),s=o.subarray(i,r);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function Vi(o){typeof o!="string"&&qe("Invalid argument for stringToBytes");const e=o.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=o.charCodeAt(n)&255;return t}function rb(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function sb(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function ab(){try{return new Function(""),!0}catch{return!1}}class ut{static get isLittleEndian(){return Fe(this,"isLittleEndian",sb())}static get isEvalSupported(){return Fe(this,"isEvalSupported",ab())}static get isOffscreenCanvasSupported(){return Fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Fe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Fe(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Fe(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Fe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Fe(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Ga=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));class be{static makeHexColor(e,t,n){return`#${Ga[e]}${Ga[t]}${Ga[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],r=e[n+1];e[n]=i*t[0]+r*t[2]+t[4],e[n+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],r=t[1],s=t[2],a=t[3],c=t[4],l=t[5];for(let u=0;u<6;u+=2){const d=e[n+u],h=e[n+u+1];e[n+u]=d*i+h*s+c,e[n+u+1]=d*r+h*a+l}}static applyInverseTransform(e,t){const n=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,n){const i=t[0],r=t[1],s=t[2],a=t[3],c=t[4],l=t[5],u=e[0],d=e[1],h=e[2],f=e[3];let b=i*u+c,p=b,g=i*h+c,m=g,y=a*d+l,v=y,_=a*f+l,x=_;if(r!==0||s!==0){const D=r*u,A=r*h,S=s*d,E=s*f;b+=S,m+=S,g+=E,p+=E,y+=D,x+=D,_+=A,v+=A}n[0]=Math.min(n[0],b,g,p,m),n[1]=Math.min(n[1],y,_,v,x),n[2]=Math.max(n[2],b,g,p,m),n[3]=Math.max(n[3],y,_,v,x)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],a=n**2+i**2,c=n*r+i*s,l=r**2+s**2,u=(a+l)/2,d=Math.sqrt(u**2-(a*l-c**2));t[0]=Math.sqrt(u+d||1),t[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>s?null:[n,r,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,r){r[0]=Math.min(r[0],e,n),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,n),r[3]=Math.max(r[3],t,i)}static#e(e,t,n,i,r,s,a,c,l,u){if(l<=0||l>=1)return;const d=1-l,h=l*l,f=h*l,b=d*(d*(d*e+3*l*t)+3*h*n)+f*i,p=d*(d*(d*r+3*l*s)+3*h*a)+f*c;u[0]=Math.min(u[0],b),u[1]=Math.min(u[1],p),u[2]=Math.max(u[2],b),u[3]=Math.max(u[3],p)}static#t(e,t,n,i,r,s,a,c,l,u,d,h){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,n,i,r,s,a,c,-d/u,h);return}const f=u**2-4*d*l;if(f<0)return;const b=Math.sqrt(f),p=2*l;this.#e(e,t,n,i,r,s,a,c,(-u+b)/p,h),this.#e(e,t,n,i,r,s,a,c,(-u-b)/p,h)}static bezierBoundingBox(e,t,n,i,r,s,a,c,l){l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,c),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,c),this.#t(e,n,r,a,t,i,s,c,3*(-e+3*(n-r)+a),6*(e-2*n+r),3*(n-e),l),this.#t(e,n,r,a,t,i,s,c,3*(-t+3*(i-s)+c),6*(t-2*i+s),3*(i-t),l)}}function ob(o){return decodeURIComponent(escape(o))}let Ya=null,ad=null;function cb(o){return Ya||(Ya=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ad=new Map([["Ô¨Ö","≈øt"]])),o.replaceAll(Ya,(e,t,n)=>t?t.normalize("NFKC"):ad.get(n))}function Bf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const o=new Uint8Array(32);return crypto.getRandomValues(o),Rf(o)}const Gn="pdfjs_internal_id_";function lb(o,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...r]=t;if(!o(n)&&!Number.isInteger(n)||!e(i))return!1;const s=r.length;let a=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;a=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||a&&c===null))return!1;return!0}function yt(o,e,t){return Math.min(Math.max(o,e),t)}function Nf(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(Rf(o))}function ub(o){return Uint8Array.fromBase64?Uint8Array.fromBase64(o):Vi(atob(o))}typeof Promise.try!="function"&&(Promise.try=function(o,...e){return new Promise(t=>{t(o(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(o){return o.reduce((e,t)=>e+t,0)});class Oi{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(r){if(!r)return;let s=null;const a=r.name;if(a==="#text")s=r.value;else if(Oi.shouldBuildText(a))r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value);else return;if(s!==null&&t.push({str:s}),!!r.children)for(const c of r.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class If{static setupStorage(e,t,n,i,r){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),r==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),r==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of n.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,l=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:l})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:s}=t,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[c,l]of Object.entries(s))if(l!=null)switch(c){case"class":l.length&&e.setAttribute(c,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,l)}a&&r.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:r,linkService:n});const a=r!=="richText",c=e.div;if(c.append(s),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=d}a&&c.setAttribute("class","xfaLayer xfaFont");const l=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);s.append(d),a&&Oi.shouldBuildText(i.name)&&l.push(d)}return{textDivs:l}}const u=[[i,-1,s]];for(;u.length>0;){const[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}const b=d.children[++u.at(-1)[1]];if(b===null)continue;const{name:p}=b;if(p==="#text"){const m=document.createTextNode(b.value);l.push(m),f.append(m);continue}const g=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,p):document.createElement(p);if(f.append(g),b.attributes&&this.setAttributes({html:g,element:b,storage:t,intent:r,linkService:n}),b.children?.length>0)u.push([b,-1,g]);else if(b.value){const m=document.createTextNode(b.value);a&&Oi.shouldBuildText(p)&&l.push(m),g.append(m)}}for(const d of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const tn="http://www.w3.org/2000/svg";class oi{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Xi(o,e="text"){if(Ei(o,document.baseURI)){const t=await fetch(o);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",o,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class $i{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s,n*=t;const c=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let b,p,g,m;u===0?(b=Math.abs(l-e[1])*n+r,p=Math.abs(c-e[0])*n+s,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(b=Math.abs(c-e[0])*n+r,p=Math.abs(l-e[1])*n+s,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[u*n,d*n,h*n,f*n,b-u*n*c-h*n*l,p-d*n*c-f*n*l],this.width=g,this.height=m}get rawDims(){const e=this.viewBox;return Fe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new $i({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const n=[e,t];return be.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];be.applyTransform(t,this.transform);const n=[e[2],e[3]];return be.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return be.applyInverseTransform(n,this.transform),n}}class xc extends Mn{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Us(o){const e=o.length;let t=0;for(;t<e&&o[t].trim()==="";)t++;return o.substring(t,t+5).toLowerCase()==="data:"}function Dc(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function db(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function hb(o,e="document.pdf"){if(typeof o!="string")return e;if(Us(o))return Ee('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(o);if(!n)return e;const i=a=>{try{let c=decodeURIComponent(a);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:a):c}catch{return a}},r=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(r.test(s))return i(s);if(n.searchParams.size>0){const a=Array.from(n.searchParams.values()).reverse();for(const l of a)if(r.test(l))return i(l);const c=Array.from(n.searchParams.keys()).reverse();for(const l of c)if(r.test(l))return i(l)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return i(c[0])}return e}class od{started=Object.create(null);times=[];time(e){e in this.started&&Ee(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ee(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms
`);return e.join("")}}function Ei(o,e){const t=e?URL.parse(o,e):URL.parse(o);return t?.protocol==="http:"||t?.protocol==="https:"}function Ot(o){o.preventDefault()}function Ze(o){o.preventDefault(),o.stopPropagation()}function fb(o){console.log("Deprecated API usage: "+o)}class lo{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const l=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,l==="-"?(s+=u,a+=d):l==="+"&&(s-=u,a-=d),new Date(Date.UTC(n,i,r,s,a,c))}}function pb(o,{scale:e=1,rotation:t=0}){const{width:n,height:i}=o.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new $i({viewBox:r,userUnit:1,scale:e,rotation:t})}function Gi(o){if(o.startsWith("#")){const e=parseInt(o.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(e=>parseInt(e)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ee(`Not a valid color format: "${o}"`),[0,0,0])}function gb(o){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of o.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;o.set(t,Gi(n))}e.remove()}function Ge(o){const{a:e,b:t,c:n,d:i,e:r,f:s}=o.getTransform();return[e,t,n,i,r,s]}function $t(o){const{a:e,b:t,c:n,d:i,e:r,f:s}=o.getTransform().invertSelf();return[e,t,n,i,r,s]}function Fn(o,e,t=!1,n=!0){if(e instanceof $i){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:s}=o,a=ut.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,l=`var(--total-scale-factor) * ${r}px`,u=a?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,d=a?`round(down, ${l}, var(--scale-round-y))`:`calc(${l})`;!t||e.rotation%180===0?(s.width=u,s.height=d):(s.width=d,s.height=u)}n&&o.setAttribute("data-main-rotation",e.rotation)}class Zt{constructor(){const{pixelRatio:e}=Zt;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,r=-1){let s=1/0,a=1/0,c=1/0;n=Zt.capPixels(n,r),n>0&&(s=Math.sqrt(n/(e*t))),i!==-1&&(a=i/e,c=i/t);const l=Math.min(s,a,c);return this.sx>l||this.sy>l?(this.sx=l,this.sy=l,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const uo=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class mb{static get isDarkMode(){return Fe(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class bb{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Fe(this,"commentForegroundColor",Gi(n))}}function yb(o,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return o=Math.round(o*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[o,e,t]}function cd(o,e){const t=o[0]/255,n=o[1]/255,i=o[2]/255,r=Math.max(t,n,i),s=Math.min(t,n,i),a=(r+s)/2;if(r===s)e[0]=e[1]=0;else{const c=r-s;switch(e[1]=a<.5?c/(r+s):c/(2-r-s),r){case t:e[0]=((n-i)/c+(n<i?6:0))*60;break;case n:e[0]=((i-t)/c+2)*60;break;case i:e[0]=((t-n)/c+4)*60;break}}e[2]=a}function ho(o,e){const t=o[0],n=o[1],i=o[2],r=(1-Math.abs(2*i-1))*n,s=r*(1-Math.abs(t/60%2-1)),a=i-r/2;switch(Math.floor(t/60)){case 0:e[0]=r+a,e[1]=s+a,e[2]=a;break;case 1:e[0]=s+a,e[1]=r+a,e[2]=a;break;case 2:e[0]=a,e[1]=r+a,e[2]=s+a;break;case 3:e[0]=a,e[1]=s+a,e[2]=r+a;break;case 4:e[0]=s+a,e[1]=a,e[2]=r+a;break;case 5:case 6:e[0]=r+a,e[1]=a,e[2]=s+a;break}}function ld(o){return o<=.03928?o/12.92:((o+.055)/1.055)**2.4}function ud(o,e,t){ho(o,t),t.map(ld);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];ho(e,t),t.map(ld);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const dd=new Map;function vb(o,e){const t=o[0]+o[1]*256+o[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=dd.get(t);if(n)return n;const i=new Float32Array(9),r=i.subarray(0,3),s=i.subarray(3,6);cd(o,s);const a=i.subarray(6,9);cd(e,a);const c=a[2]<.5,l=c?12:4.5;if(s[2]=c?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),ud(s,a,r)<l){let u,d;c?(u=s[2],d=1):(u=0,d=s[2]);const h=.005;for(;d-u>h;){const f=s[2]=(u+d)/2;c===ud(s,a,r)<l?u=f:d=f}s[2]=c?d:u}return ho(s,r),n=be.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),dd.set(t,n),n}function Mf({html:o,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof o=="string"){const r=document.createElement("p");r.dir=e||"auto";const s=o.split(/(?:\r\n?|\n)/);for(let a=0,c=s.length;a<c;++a){const l=s[a];r.append(document.createTextNode(l)),a<c-1&&r.append(document.createElement("br"))}i.append(r)}else If.render({xfaHtml:o,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),n.append(i)}function Lf(o){const e=new Path2D;if(!o)return e;for(let t=0,n=o.length;t<n;)switch(o[t++]){case Di.moveTo:e.moveTo(o[t++],o[t++]);break;case Di.lineTo:e.lineTo(o[t++],o[t++]);break;case Di.curveTo:e.bezierCurveTo(o[t++],o[t++],o[t++],o[t++],o[t++],o[t++]);break;case Di.quadraticCurveTo:e.quadraticCurveTo(o[t++],o[t++],o[t++],o[t++]);break;case Di.closePath:e.closePath();break;default:Ee(`Unrecognized drawing path operator: ${o[t-1]}`);break}return e}class Fi{#e=null;#t=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#l=null;constructor(e){this.#i=e,Fi.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Ot,{signal:t}),e.addEventListener("pointerdown",Fi.#c,{signal:t}));const n=this.#n=document.createElement("div");n.className="buttons",e.append(n);const i=this.#i.toolbarPosition;if(i){const{style:r}=e,s=this.#i._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#c(e){e.stopPropagation()}#h(e){this.#i._focusEventsAllowed=!1,Ze(e)}#d(e){this.#i._focusEventsAllowed=!0,Ze(e)}#f(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ot,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Fi.#l[e]),this.#f(n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#n.append(n)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#m),this.#a=e}addComment(e,t=null){if(this.#s)return;const n=e.renderForToolbar();if(!n)return;this.#f(n);const i=this.#r=this.#m;t?(this.#n.insertBefore(n,t),this.#n.insertBefore(i,t)):this.#n.append(n,i),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#m)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#f(t),this.#n.append(t,this.#m)}removeButton(e){switch(e){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const i=this.#n.querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class xb{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Ot,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let n=0,i=0;for(const r of e){const s=r.y+r.height;if(s<n)continue;const a=r.x+(t?r.width:0);if(s>n){i=a,n=s;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]}show(e,t,n){const[i,r]=this.#a(t,n),{style:s}=this.#t||=this.#n();e.append(this.#t),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,n,i){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const s=document.createElement("span");r.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);const a=this.#i._signal;a instanceof AbortSignal&&!a.aborted&&(r.addEventListener("contextmenu",Ot,{signal:a}),r.addEventListener("click",i,{signal:a})),this.#e.append(r)}}function Pf(o,e,t){for(const n of t)e.addEventListener(n,o[n].bind(o))}class Oe{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Oe.#t||=new Set).add(e)}static setPointer(e,t){Oe.#e||=t,Oe.#n??=e}static setTimeStamp(e){Oe.#i=e}static isSamePointerId(e){return Oe.#e===e}static isSamePointerIdOrRemove(e){return Oe.#e===e?!0:(Oe.#t?.delete(e),!1)}static isSamePointerType(e){return Oe.#n===e}static isInitializedAndDifferentPointerType(e){return Oe.#n!==null&&!Oe.isSamePointerType(e)}static isSameTimeStamp(e){return Oe.#i===e}static isUsingMultiplePointers(){return Oe.#t?.size>=1}static clearPointerType(){Oe.#n=null}static clearPointerIds(){Oe.#e=NaN,Oe.#t=null}static clearTimeStamp(){Oe.#i=NaN}}class Db{#e=0;get id(){return`${Li}${this.#e++}`}}class _c{#e=Bf();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Fe(this,"_isSVGFittingCanvas",r)}async#n(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(n.url=t,i=await Xi(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=_c._isSVGFittingCanvas,s=new FileReader,a=new Image,c=new Promise((l,u)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,l()},s.onload=async()=>{const d=n.svgUrl=s.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=s.onerror=u});s.readAsDataURL(i),await c}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ee(i),n=null}return this.#i.set(e,n),n&&this.#i.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return this.#n(`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const n=await t;return this.#n(e,n)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let n=this.#i.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,n),this.#i.set(n.id,n),n}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class _b{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),this.#t)return;const c={cmd:e,undo:t,post:n,type:r};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(s&&this.#e[this.#n].type===r){a&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const l=this.#n+1;l===this.#i?this.#e.splice(0,1):(this.#n=l,l<this.#e.length&&this.#e.splice(l)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Yi{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ut.platform;for(const[n,i,r={}]of e)for(const s of n){const a=s.startsWith("mac+");t&&a?(this.callbacks.set(s.slice(4),{callback:i,options:r}),this.allKeys.add(s.split("+").at(-1))):!t&&!a&&(this.callbacks.set(s,{callback:i,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...s,t)(),r||Ze(t))}}class wc{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return gb(e),Fe(this,"_colors",e)}convert(e){const t=Gi(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((r,s)=>r===t[s]))return wc._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?be.makeHexColor(...t):e}}class pn{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#l=new _b;#c=null;#h=null;#d=null;#f=0;#m=new Set;#g=null;#u=null;#p=new Set;_editorUndoBar=null;#b=!1;#v=!1;#y=!1;#T=null;#w=null;#D=null;#C=null;#x=!1;#A=null;#F=new Db;#S=!1;#U=!1;#L=!1;#R=null;#N=null;#P=null;#I=null;#H=null;#E=Ce.NONE;#_=new Set;#B=null;#O=null;#j=null;#$=null;#X=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#q=[0,0];#M=null;#V=null;#Q=null;#J=null;#W=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=pn.prototype,t=s=>s.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Fe(this,"_keyboardManager",new Yi([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&s.#V.contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&s.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,i,r,s,a,c,l,u,d,h,f,b,p,g){const m=this._signal=this.#e.signal;this.#V=e,this.#Q=t,this.#J=n,this.#s=i,this.#c=r,this.#O=s,this.#X=c,this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:m}),window.addEventListener("pointerdown",()=>{this.#U=!0},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{this.#U=!1},{capture:!0,signal:m}),this.#ae(),this.#he(),this.#te(),this.#r=c.annotationStorage,this.#T=c.filterFactory,this.#j=l,this.#C=u||null,this.#b=d,this.#v=h,this.#y=f,this.#H=b||null,this.viewParameters={realScale:oi.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=g!==!1,r?.setSidebarUiManager(this)}destroy(){this.#W?.resolve(),this.#W=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#I?.clear(),this.#t=null,this.#_.clear(),this.#l.destroy(),this.#s?.destroy(),this.#c?.destroy(),this.#O?.destroy(),this.#A?.hide(),this.#A=null,this.#P?.destroy(),this.#P=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#M&&(clearTimeout(this.#M),this.#M=null),this._editorUndoBar?.destroy(),this.#X=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#H}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Fe(this,"hcmFilter",this.#j?this.#T.addHCMFilter(this.#j.foreground,this.#j.background):"none")}get direction(){return Fe(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return Fe(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Fe(this,"highlightColors",null);const t=new Map,n=!!this.#j;for(const[i,r]of e){const s=i.endsWith("_HCM");if(n&&s){t.set(i.replace("_HCM",""),r);continue}!n&&!s&&t.set(i,r)}return Fe(this,"highlightColors",t)}get highlightColorNames(){return Fe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#P=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#c}editComment(e,t,n,i){this.#c?.showDialog(this,e,t,n,i)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#c?.updateComment(e.getData())}updatePopupColor(e){this.#c?.updatePopupColor(e)}removeComment(e){this.#c?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#c?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#c?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#c?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=r=>{r.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){this.#O?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#O}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#V.focus()}findParent(e,t){for(const n of this.#a.values()){const{x:i,y:r,width:s,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=r&&t<=r+a)return n}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*oi.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#a.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}=n,c=n.toString(),u=this.#Z(n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=this.#ee(u),f=this.#E===Ce.NONE,b=()=>{const p=h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a,text:c});f&&this.showAllEditors("highlight",!0,!0),t&&p?.editComment()};if(f){this.switchToMode(Ce.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Z(e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(this.#A||=new xb(this),this.#A.show(n,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${Li}${e}`,n=this.#r.getRawValue(t);return n&&this.#r.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#B&&(this.#A?.hide(),this.#B=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#B)return;const i=this.#Z(e).closest(".textLayer");if(!i){this.#B&&(this.#A?.hide(),this.#B=null,this.#k({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#B=t,this.#k({hasSelectedText:!0}),!(this.#E!==Ce.HIGHLIGHT&&this.#E!==Ce.NONE)&&(this.#E===Ce.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#E===Ce.HIGHLIGHT?this.#ee(i):null;if(r?.toggleDrawing(),this.#U){const s=new AbortController,a=this.combinedSignal(s),c=l=>{l.type==="pointerup"&&l.button!==0||(s.abort(),r?.toggleDrawing(!0),l.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}else r?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#E===Ce.HIGHLIGHT?this.highlightSelection(e):this.#b&&this.#re()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#D)return;this.#D=new AbortController;const e=this.combinedSignal(this.#D);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ce(){this.#D?.abort(),this.#D=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#_)if(t.div.contains(e)){this.#N=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,t]=this.#N;this.#N=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#R)return;this.#R=new AbortController;const e=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#le(){this.#R?.abort(),this.#R=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#le(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#_){const i=n.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const s of this.#u)if(s.isHandlingMimeForPasting(r.type)){s.paste(r,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Ee(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const c of n){const l=await i.deserialize(c);if(!l)return;r.push(l)}const s=()=>{for(const c of r)this.#ne(c);this.#ie(r)},a=()=>{for(const c of r)c.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(r){Ee(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Ce.NONE&&!this.isEditorHandlingKeyboard&&pn._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(e){Object.entries(e).some(([n,i])=>this.#G[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#E===Ce.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#z([[Ne.HIGHLIGHT_FREE,!0]]))}#z(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#k({isEditing:this.#E!==Ce.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ce(),this.#de(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#z(t.defaultPropertiesToUpdate)}}getId(){return this.#F.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#S?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,r=!1){if(this.#E!==e&&!(this.#W&&(await this.#W.promise,!this.#W))){if(this.#W=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#E===Ce.POPUP&&this.#c?.hideSidebar(),this.#c?.destroyPopup(),this.#E=e,e===Ce.NONE){this.setEditingState(!1),this.#pe();for(const s of this.#n.values())s.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#W.resolve();return}for(const s of this.#n.values())s.addStandaloneCommentButton();e===Ce.SIGNATURE&&await this.#O?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const s of this.#a.values())s.updateMode(e);if(e===Ce.POPUP){this.#i||=await this.#X.getAnnotationsByType(new Set(this.#u.map(c=>c._editorType)));const s=new Set,a=[];for(const c of this.#n.values()){const{annotationElementId:l,hasComment:u,deleted:d}=c;l&&s.add(l),u&&!d&&a.push(c.getData())}for(const c of this.#i){const{id:l,popupRef:u,contentsObj:d}=c;u&&d?.str&&!s.has(l)&&!this.#m.has(l)&&a.push(c)}this.#c?.showSidebar(a)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#W.resolve();return}for(const s of this.#n.values())s.uid===t?(this.setSelected(s),r?s.editComment():i?s.enterInEditMode():s.focus()):s.unselect();this.#W.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Ne.CREATE:this.currentLayer.addNewEditor(t);return;case Ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#$||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#_)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const r of this.#n.values())r.editorType===e&&r.show(t);(this.#$?.get(Ne.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#z([[Ne.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#S){this.#S=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#S){this.#S=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#I?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#z(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#_);return e}updateUI(e){this.#ge===e&&this.#z(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#z(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#_.has(e)){this.#_.delete(e),e.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#_.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#_)t!==e&&t.unselect();this.#_.clear(),this.#_.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(e){return this.#_.has(e)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(e){e.unselect(),this.#_.delete(e),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#k({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#l.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#l.add(e),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#l.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#_],n=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const r of t)r.remove()},i=()=>{for(const r of t)this.#ne(r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#_)t.unselect();this.#_.clear();for(const t of e)t.isEmpty()||(this.#_.add(t),t.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#_)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==Ce.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#_)e.unselect();this.#_.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#q[0]+=e,this.#q[1]+=t;const[i,r]=this.#q,s=[...this.#_],a=1e3;this.#M&&clearTimeout(this.#M),this.#M=setTimeout(()=>{this.#M=null,this.#q[0]=this.#q[1]=0,this.addCommands({cmd:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(i,r),c.translationDone())},undo:()=>{for(const c of s)this.#n.has(c.id)&&(c.translateInPage(-i,-r),c.translationDone())},mustExec:!1})},a);for(const c of s)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#_)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let t=!1;for(const[{x:i,y:r,pageIndex:s},a]of e)a.newX=i,a.newY=r,a.newPageIndex=s,t||=i!==a.savedX||r!==a.savedY||s!==a.savedPageIndex;if(!t)return!1;const n=(i,r,s,a)=>{if(this.#n.has(i.id)){const c=this.#a.get(a);c?i._setParentAndPosition(c,r,s):(i.pageIndex=a,i.x=r,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:s,newPageIndex:a}]of e)n(i,r,s,a)},undo:()=>{for(const[i,{savedX:r,savedY:s,savedPageIndex:a}]of e)n(i,r,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#g)for(const n of this.#g.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}isEditingMode(){return this.#E!==Ce.NONE}get imageManager(){return Fe(this,"imageManager",new _c)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,u=t.rangeCount;l<u;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(l,u,d,h)=>({x:(u-i)/s,y:1-(l+d-n)/r,width:h/s,height:d/r});break;case"180":a=(l,u,d,h)=>({x:1-(l+d-n)/r,y:1-(u+h-i)/s,width:d/r,height:h/s});break;case"270":a=(l,u,d,h)=>({x:1-(u+h-i)/s,y:(l-n)/r,width:h/s,height:d/r});break;default:a=(l,u,d,h)=>({x:(l-n)/r,y:(u-i)/s,width:d/r,height:h/s});break}const c=[];for(let l=0,u=t.rangeCount;l<u;l++){const d=t.getRangeAt(l);if(!d.collapsed)for(const{x:h,y:f,width:b,height:p}of d.getClientRects())b===0||p===0||c.push(a(h,f,b,p))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#r.getRawValue(t);n&&(this.#E===Ce.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const i=this.#I?.get(e);i&&(i.setCanvas(t,n),this.#I.delete(e))}addMissingCanvas(e,t){(this.#I||=new Map).set(e,t)}}class Kt{#e=null;#t=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#l=null;#c=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#l=e,this.#d=e._uiManager.useNewAltTextFlow,Kt.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Kt._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Kt.#f.missing),t.setAttribute("data-l10n-id",Kt.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#l._uiManager._signal;e.addEventListener("contextmenu",Ot,{signal:n}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#d&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#r=!0,i(r))},{signal:n}),await this.#g(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#h=await Kt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#l.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(this.#c=n,this.#h=i),!(this.#e===e&&this.#t===t)&&(r||(this.#e=e,this.#t=t),this.#g())}toggle(e=!1){this.#i&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!e)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#g(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Kt.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Kt.#f[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#l.id}`;const i=100,r=this.#l._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:r}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:r})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#l.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class pr{#e=null;#t=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#l=!1;#c=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(n.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#c)return this.#c;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:i,y:r,width:s,height:a}=this.#n.parent.boundingClientRect;return[(e-i)/s,(t+n-r)/a]}set commentPopupPositionInLayer(e){this.#c=e}hasDefaultPopupPosition(){return this.#c===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Ot,{signal:n}),t&&(e.addEventListener("focusin",r=>{this.#n._focusEventsAllowed=!1,Ze(r)},{capture:!0,signal:n}),e.addEventListener("focusout",r=>{this.#n._focusEventsAllowed=!0,Ze(r)},{capture:!0,signal:n})),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#i=!0,i(r))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=this.#n.commentButtonPosition;const{width:u,height:d,x:h,y:f}=this.#n;n=h+n*u,i=f+i*d}const r=this.#n.parent.boundingClientRect,{x:s,y:a,width:c,height:l}=r;this.#n._uiManager.editComment(this.#n,s+n*c,a+i*l,{...e,parentDimensions:r})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#l||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#s=null),e===null){this.#r="",this.#l=!0;return}this.#r=e,this.#o=new Date,this.#l=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#l=!1}}class Fs{#e;#t=!1;#i=null;#n;#a;#s;#r;#o=null;#l;#c=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:s=null,signal:a}){this.#e=e,this.#i=n,this.#n=t,this.#a=i,this.#s=r,this.#r=s,this.#h=new AbortController,this.#l=AbortSignal.any([a,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zt.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,r=AbortSignal.any([this.#l,i.signal]),s=this.#e,a={capture:!0,signal:r,passive:!1},c=l=>{l.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};s.addEventListener("pointerdown",l=>{l.pointerType==="touch"&&(Ze(l),c(l))},a),s.addEventListener("pointerup",c,a),s.addEventListener("pointercancel",c,a);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#l,this.#d.signal]),r=this.#e,s={signal:i,capture:!1,passive:!1};r.addEventListener("touchmove",this.#m.bind(this),s);const a=this.#g.bind(this);r.addEventListener("touchend",a,s),r.addEventListener("touchcancel",a,s),s.capture=!0,r.addEventListener("pointerdown",Ze,s),r.addEventListener("pointermove",Ze,s),r.addEventListener("pointercancel",Ze,s),r.addEventListener("pointerup",Ze,s),this.#a?.()}if(Ze(e),e.touches.length!==2||this.#i?.()){this.#c=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(e){if(!this.#c||e.touches.length!==2)return;Ze(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:r}=t,{screenX:s,screenY:a}=n,c=this.#c,{touch0X:l,touch0Y:u,touch1X:d,touch1Y:h}=c,f=d-l,b=h-u,p=s-i,g=a-r,m=Math.hypot(p,g)||1,y=Math.hypot(f,b)||1;if(!this.#t&&Math.abs(y-m)<=Fs.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=r,c.touch1X=s,c.touch1Y=a,!this.#t){this.#t=!0;return}const v=[(i+s)/2,(r+a)/2];this.#s?.(v,y,m)}#g(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#c&&(Ze(e),this.#c=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class _e{#e=null;#t=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#l=null;#c=null;#h=null;#d=null;#f=null;#m="";#g=!1;#u=null;#p=!1;#b=!1;#v=!1;#y=null;#T=0;#w=0;#D=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#A=_e._zIndex++;static _borderLineWidth=-1;static _colorManager=new wc;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=_e.prototype._resizeWithKeyboard,t=pn.TRANSLATE_SMALL,n=pn.TRANSLATE_BIG;return Fe(this,"_resizerKeyboardManager",new Yi([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],_e.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,s];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Fe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new wb({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(_e._l10n??=e,_e._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),_e._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);_e._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){qe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#M(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}#F([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#F(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#F(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[c,l]=this.getBaseTranslation();s+=c,a+=l;const{style:u}=n;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(s,a),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=_e,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:r,y:s,width:a,height:c}=this;if(a*=n,c*=i,r*=n,s*=i,this._mustFixPosition)switch(e){case 0:r=yt(r,0,n-a),s=yt(s,0,i-c);break;case 90:r=yt(r,0,n-c),s=yt(s,a,i);break;case 180:r=yt(r,a,n),s=yt(s,c,i);break;case 270:r=yt(r,c,n),s=yt(s,0,i-a);break}this.x=r/=n,this.y=s/=i;const[l,u]=this.getBaseTranslation();r+=l,s+=u,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#S(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return _e.#S(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return _e.#S(e,t,360-this.parentRotation)}#U(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");this.#l.append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",this.#R.bind(this,n),{signal:t}),i.addEventListener("contextmenu",Ot,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#l)}#R(e,t){t.preventDefault();const{isMac:n}=ut.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#i?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#c=[t.screenX,t.screenY];const r=new AbortController,s=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#I.bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Ze,{passive:!1,signal:s}),window.addEventListener("contextmenu",Ot,{signal:s}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const l=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=c,this.#P()};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}#N(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#P(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#h;this.#h=null;const r=this.x,s=this.y,a=this.width,c=this.height;r===e&&s===t&&a===n&&c===i||this.addCommands({cmd:this.#N.bind(this,r,s,a,c),undo:this.#N.bind(this,e,t,n,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#I(e,t){const[n,i]=this.parentDimensions,r=this.x,s=this.y,a=this.width,c=this.height,l=_e.MIN_SIZE/n,u=_e.MIN_SIZE/i,d=this.#U(this.rotation),h=(k,B)=>[d[0]*k+d[2]*B,d[1]*k+d[3]*B],f=this.#U(360-this.rotation),b=(k,B)=>[f[0]*k+f[2]*B,f[1]*k+f[3]*B];let p,g,m=!1,y=!1;switch(e){case"topLeft":m=!0,p=(k,B)=>[0,0],g=(k,B)=>[k,B];break;case"topMiddle":p=(k,B)=>[k/2,0],g=(k,B)=>[k/2,B];break;case"topRight":m=!0,p=(k,B)=>[k,0],g=(k,B)=>[0,B];break;case"middleRight":y=!0,p=(k,B)=>[k,B/2],g=(k,B)=>[0,B/2];break;case"bottomRight":m=!0,p=(k,B)=>[k,B],g=(k,B)=>[0,0];break;case"bottomMiddle":p=(k,B)=>[k/2,B],g=(k,B)=>[k/2,0];break;case"bottomLeft":m=!0,p=(k,B)=>[0,B],g=(k,B)=>[k,0];break;case"middleLeft":y=!0,p=(k,B)=>[0,B/2],g=(k,B)=>[k,B/2];break}const v=p(a,c),_=g(a,c);let x=h(..._);const D=_e._round(r+x[0]),A=_e._round(s+x[1]);let S=1,E=1,R,q;if(t.fromKeyboard)({deltaX:R,deltaY:q}=t);else{const{screenX:k,screenY:B}=t,[H,z]=this.#c;[R,q]=this.screenToPageTranslation(k-H,B-z),this.#c[0]=k,this.#c[1]=B}if([R,q]=b(R/n,q/i),m){const k=Math.hypot(a,c);S=E=Math.max(Math.min(Math.hypot(_[0]-v[0]-R,_[1]-v[1]-q)/k,1/a,1/c),l/a,u/c)}else y?S=yt(Math.abs(_[0]-v[0]-R),l,1)/a:E=yt(Math.abs(_[1]-v[1]-q),u,1)/c;const C=_e._round(a*S),N=_e._round(c*E);x=h(...g(C,N));const T=D-x[0],W=A-x[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=C,this.height=N,this.x=T,this.y=W,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#b)return this._editToolbar;this._editToolbar=new Fi(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Kt.initialize(_e._l10n),this.#i=new Kt(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new pr(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=this.#n;return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new pr(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#n||=new pr(this),this.#n.setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new pr(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[r]=this.pageDimensions,[s]=this.pageTranslation,a=s+r+1,c=i-100,l=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,c,l,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#j();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Pf(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new Fs({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#H.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#_.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#H(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(e,t,n){let r=.7*(n/t)+1-.7;if(r===1)return;const s=this.#U(this.rotation),a=(D,A)=>[s[0]*D+s[2]*A,s[1]*D+s[3]*A],[c,l]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,b=_e.MIN_SIZE/c,p=_e.MIN_SIZE/l;r=Math.max(Math.min(r,1/h,1/f),b/h,p/f);const g=_e._round(h*r),m=_e._round(f*r);if(g===h&&m===f)return;this.#u||=[u,d,h,f];const y=a(h/2,f/2),v=_e._round(u+y[0]),_=_e._round(d+y[1]),x=a(g/2,m/2);this.x=v-x[0],this.y=_-x[1],this.width=g,this.height=m,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#_(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#P()}pointerdown(e){const{isMac:t}=ut.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#O(e);return}this.#B(e)}#B(e){const{isMac:t}=ut.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#O(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:r},a=l=>{i.abort(),this.#r=null,this.#g=!1,this._uiManager.endDragSession()||this.#B(l),n&&this._onStopDragging()};t&&(this.#T=e.clientX,this.#w=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",l=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=l;if(h!==this.#r){Ze(l);return}const[f,b]=this.screenToPageTranslation(u-this.#T,d-this.#w);this.#T=u,this.#w=d,this._uiManager.dragSelectedEditors(f,b)},s),window.addEventListener("touchmove",Ze,s),window.addEventListener("pointerdown",l=>{l.pointerType===this.#o&&(this.#C||l.isPrimary)&&a(l),Ze(l)},s));const c=l=>{if(!this.#r||this.#r===l.pointerId){a(l);return}Ze(l)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,s]=this.pageDimensions,[a,c]=this.pageTranslation,l=e/i,u=t/i,d=this.x*r,h=this.y*s,f=this.width*r,b=this.height*s;switch(n){case 0:return[d+l+a,s-h-u-b+c,d+l+f+a,s-h-u+c];case 90:return[d+u+a,s-h+l+c,d+u+b+a,s-h+l+f+c];case 180:return[d-l-f+a,s-h+u+c,d-l+a,s-h+u+b+c];case 270:return[d-u-b+a,s-h-l-f+c,d-u+a,s-h-l+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,s]=e,a=r-n,c=s-i;switch(this.rotation){case 0:return[n,t-s,a,c];case 90:return[n,t-i,c,a];case 180:return[r,t-i,a,c];case 270:return[r,t-s,c,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:r,richText:s},uid:a,pageIndex:c,creationDate:l,modificationDate:u}=this;return{id:a,pageIndex:c,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:l,modificationDate:n||u,popupRef:!r,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#b=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#b=!1,!0):!1}isInEditMode(){return this.#b}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:s}=window;return t<s&&i>0&&e<r&&n>0}#j(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#j()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[r,s]=i.pageDimensions,[a,c,l,u]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/r,i.y=c/s,i.width=l/r,i.height=u/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#M(),this.removeEditToolbar(),this.#D){for(const e of this.#D.values())clearTimeout(e);this.#D=null}this.parent=null,this.#C?.destroy(),this.#C=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,r,s]=this.getPDFRect();return[_e._round(n+(r-n)*e),_e._round(i+(s-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#l.children;if(!this.#t){this.#t=Array.from(t);const s=this.#$.bind(this),a=this.#X.bind(this),c=this._uiManager._signal;for(const l of this.#t){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",s,{signal:c}),l.addEventListener("blur",a,{signal:c}),l.addEventListener("focus",this.#G.bind(this,u),{signal:c}),l.setAttribute("data-l10n-id",_e._l10nResizer[u])}}const n=this.#t[0];let i=0;for(const s of t){if(s===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(r!==i){if(r<i)for(let a=0;a<i-r;a++)this.#l.append(this.#l.firstChild);else if(r>i)for(let a=0;a<r-i;a++)this.#l.firstChild.before(this.#l.lastChild);let s=0;for(const a of t){const l=this.#t[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",_e._l10nResizer[l])}}this.#q(0),this.#v=!0,this.#l.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#$(e){_e._resizerKeyboardManager.exec(this,e)}#X(e){this.#v&&e.relatedTarget?.parentNode!==this.#l&&this.#M()}#G(e){this.#m=this.#v?e:""}#q(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#v&&this.#I(this.#m,{deltaX:e,deltaY:t,fromKeyboard:!0})}#M(){this.#v=!1,this.#q(-1),this.#P()}_stopResizingWithKeyboard(){this.#M(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#D||=new Map;const{action:n}=e;let i=this.#D.get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#D.delete(n),this.#D.size===0&&(this.#D=null)},_e._telemetryTimeout),this.#D.set(n,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class wb extends _e{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const hd=3285377520,It=4294901760,Gt=65535;class Of{constructor(e){this.h1=e?e&4294967295:hd,this.h2=e?e&4294967295:hd}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let p=0,g=e.length;p<g;p++){const m=e.charCodeAt(p);m<=255?t[n++]=m:(t[n++]=m>>>8,t[n++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,s=new Uint32Array(t.buffer,0,i);let a=0,c=0,l=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&Gt,b=h&Gt;for(let p=0;p<i;p++)p&1?(a=s[p],a=a*d&It|a*f&Gt,a=a<<15|a>>>17,a=a*h&It|a*b&Gt,l^=a,l=l<<13|l>>>19,l=l*5+3864292196):(c=s[p],c=c*d&It|c*f&Gt,c=c<<15|c>>>17,c=c*h&It|c*b&Gt,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,r){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&It|a*f&Gt,a=a<<15|a>>>17,a=a*h&It|a*b&Gt,i&1?l^=a:u^=a}this.h1=l,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&It|e*36045&Gt,t=t*4283543511&It|((t<<16|e>>>16)*2950163797&It)>>>16,e^=t>>>1,e=e*444984403&It|e*60499&Gt,t=t*3301882366&It|((t<<16|e>>>16)*3120437893&It)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const fo=Object.freeze({map:null,hash:"",transfer:void 0});class Ac{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof _e&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof _e)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let i=!1;if(n!==void 0)for(const[r,s]of Object.entries(t))n[r]!==s&&(i=!0,n[r]=s);else i=!0,this.#n.set(e,t);i&&this.#a(),t instanceof _e&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Wf(this)}get serializable(){if(this.#n.size===0)return fo;const e=new Map,t=new Of,n=[],i=Object.create(null);let r=!1;for(const[s,a]of this.#n){const c=a instanceof _e?a.serialize(!1,i):a;c&&(e.set(s,c),t.update(`${s}:${JSON.stringify(c)}`),r||=!!c.bitmap)}if(r)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:fo}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const r of this.#n.values()){if(!(r instanceof _e)){r.popup&&(r.popup.deleted?i+=1:n+=1);continue}r.isCommentDeleted?i+=1:r.hasEditedComment&&(n+=1);const s=r.telemetryFinalData;if(!s)continue;const{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(r).constructor),e||=Object.create(null);const c=e[a]||=new Map;for(const[l,u]of Object.entries(s)){if(l==="type")continue;let d=c.get(l);d||(d=new Map,c.set(l,d));const h=d.get(u)??0;d.set(u,h+1)}}if((i>0||n>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:n}),!e)return null;for(const[r,s]of t)e[r]=s.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#i?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Wf extends Ac{#e;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#e={map:r,hash:n,transfer:i}}get print(){qe("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Fe(this,"modifiedIds",{ids:new Set,hash:""})}}class Ab{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(Ie(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,a=new FontFace(i,r,s);this.addNativeFontFace(a);try{await a.load(),this.#e.add(i),n?.(e)}catch{Ee(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}qe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ee(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Fe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Fe(this,"isSyncFontLoadingSupported",bt||ut.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ie(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Fe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(_,x){return _.charCodeAt(x)<<24|_.charCodeAt(x+1)<<16|_.charCodeAt(x+2)<<8|_.charCodeAt(x+3)&255}function i(_,x,D,A){const S=_.substring(0,x),E=_.substring(x+D);return S+A+E}let r,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let l=0;function u(_,x){if(++l>30){Ee("Load test font never loaded."),x();return}if(c.font="30px "+_,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){x();return}setTimeout(u.bind(null,_,x))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const b=16,p=1482184792;let g=n(h,b);for(r=0,s=d.length-3;r<s;r+=4)g=g-p+n(d,r)|0;r<d.length&&(g=g-p+n(d+"XXX",r)|0),h=i(h,b,4,rb(g));const m=`url(data:font/opentype;base64,${btoa(h)});`,y=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(y);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const _ of[e.loadedName,d]){const x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=_,v.append(x)}this._document.body.append(v),u(d,()=>{v.remove(),t.complete()})}}class Tb{#e;constructor(e,t=null,n,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Nf(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(s){Ee(`getPathGenerator - ignoring character: "${s}".`)}const r=Lf(i);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=r}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Jn{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let i=0;for(const l of Jn.strings){const u=t.encode(e[l]);n[l]=u,i+=4+u.length}const r=new ArrayBuffer(i),s=new Uint8Array(r),a=new DataView(r);let c=0;for(const l of Jn.strings){const u=n[l],d=u.length;a.setUint32(c,d),s.set(u,c+4),c+=4+d}return Ie(c===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){Ie(e<Jn.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class ei{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let i=0;for(const h of ei.strings){const f=t.encode(e[h]);n[h]=f,i+=4+f.length}i+=4;let r,s,a=1+i;e.style&&(r=t.encode(e.style.style),s=t.encode(e.style.weight),a+=4+r.length+4+s.length);const c=new ArrayBuffer(a),l=new Uint8Array(c),u=new DataView(c);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const h of ei.strings){const f=n[h],b=f.length;i+=4+b,u.setUint32(d,b),l.set(f,d+4),d+=4+b}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,r.length),l.set(r,d+4),d+=4+r.length,u.setUint32(d,s.length),l.set(s,d+4),d+=4+s.length),Ie(d<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(d)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Ie(e<ei.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const i=this.#t.getUint32(e),r=this.#i.decode(new Uint8Array(this.#e,e+4,i));return{style:n,weight:r}}}class je{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:e,extra:t}){this.#s=e,this.#r=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#l(e){Ie(e<je.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=this.#o.getUint8(t)>>n&3;return i===0?void 0:i===2}get black(){return this.#l(0)}get bold(){return this.#l(1)}get disableFontFace(){return this.#l(2)}get fontExtraProperties(){return this.#l(3)}get isInvalidPDFjsFont(){return this.#l(4)}get isType3Font(){return this.#l(5)}get italic(){return this.#l(6)}get missingFile(){return this.#l(7)}get remeasure(){return this.#l(8)}get vertical(){return this.#l(9)}#c(e){return Ie(e<je.numbers.length,"Invalid number index"),this.#o.getFloat64(je.#e+e*8)}get ascent(){return this.#c(0)}get defaultWidth(){return this.#c(1)}get descent(){return this.#c(2)}get bbox(){let e=je.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=je.#i;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=je.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#h(e){Ie(e<je.strings.length,"Invalid string index");let t=je.#a+4;for(let r=0;r<e;r++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(this.#s,t+4,n)),this.#r.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=je.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);if(r!==0)return new Uint8Array(this.#s,e+4,r)}clearData(){let e=je.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,r).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=je.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,e+4,i)),new Jn(r.buffer)}get systemFontInfo(){let e=je.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(this.#s,e+4,n)),new ei(i.buffer)}static write(e){const t=e.systemFontInfo?ei.write(e.systemFontInfo):null,n=e.cssFontInfo?Jn.write(e.cssFontInfo):null,i=new TextEncoder,r={};let s=0;for(const p of je.strings)r[p]=i.encode(e[p]),s+=4+r[p].length;const a=je.#a+4+s+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(a),l=new Uint8Array(c),u=new DataView(c);let d=0;const h=je.bools.length;let f=0,b=0;for(let p=0;p<h;p++){const g=e[je.bools[p]];f|=(g===void 0?0:g?2:1)<<b,b+=2,(b===8||p===h-1)&&(u.setUint8(d++,f),f=0,b=0)}Ie(d===je.#e,"FontInfo.write: Boolean properties offset mismatch");for(const p of je.numbers)u.setFloat64(d,e[p]),d+=8;if(Ie(d===je.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const p of e.bbox)u.setInt16(d,p,!0),d+=2}else u.setUint8(d++,0),d+=8;if(Ie(d===je.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const p of e.fontMatrix)u.setFloat64(d,p,!0),d+=8}else u.setUint8(d++,0),d+=48;if(Ie(d===je.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const p of e.defaultVMetrics)u.setInt16(d,p,!0),d+=2}else u.setUint8(d++,0),d+=6;Ie(d===je.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(je.#a,0),d+=4;for(const p of je.strings){const g=r[p],m=g.length;u.setUint32(d,m),l.set(g,d+4),d+=4+m}if(u.setUint32(je.#a,d-je.#a-4),!t)u.setUint32(d,0),d+=4;else{const p=t.byteLength;u.setUint32(d,p),Ie(d+4+p<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(t),d+4),d+=4+p}if(!n)u.setUint32(d,0),d+=4;else{const p=n.byteLength;u.setUint32(d,p),Ie(d+4+p<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(n),d+4),d+=4+p}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),l.set(e.data,d+4),d+=4+e.data.length),Ie(d<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(d)}}class rt{static#e=0;static#t=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,i=[],r=[],s=[],a=[],c=null,l=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],s=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,c=e[1],i=e[2],r=e[3],a=e[4]||[],n=e[6],l=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(r.length/3),h=s.length,f=a.length;let b=0;for(const x of a)b+=1,b=Math.ceil(b/4)*4,b+=4+x.coords.length*4,b+=4+x.colors.length*4,x.verticesPerRow!==void 0&&(b+=4);const p=20+u*8+d*3+h*8+(n?16:0)+(l?3:0)+b,g=new ArrayBuffer(p),m=new DataView(g),y=new Uint8Array(g);m.setUint8(rt.#e,t),m.setUint8(rt.#t,n?1:0),m.setUint8(rt.#i,l?1:0),m.setUint8(rt.#n,c),m.setUint32(rt.#a,u,!0),m.setUint32(rt.#s,d,!0),m.setUint32(rt.#r,h,!0),m.setUint32(rt.#o,f,!0);let v=20;new Float32Array(g,v,u*2).set(i),v+=u*8,y.set(r,v),v+=d*3;for(const[x,D]of s)m.setFloat32(v,x,!0),v+=4,m.setUint32(v,parseInt(D.slice(1),16),!0),v+=4;if(n)for(const x of n)m.setFloat32(v,x,!0),v+=4;l&&(y.set(l,v),v+=3);for(let x=0;x<a.length;x++){const D=a[x];m.setUint8(v,D.type),v+=1,v=Math.ceil(v/4)*4,m.setUint32(v,D.coords.length,!0),v+=4,new Int32Array(g,v,D.coords.length).set(D.coords),v+=D.coords.length*4,m.setUint32(v,D.colors.length,!0),v+=4,new Int32Array(g,v,D.colors.length).set(D.colors),v+=D.colors.length*4,D.verticesPerRow!==void 0&&(m.setUint32(v,D.verticesPerRow,!0),v+=4)}return g}getIR(){const e=this.view,t=this.data[rt.#e],n=!!this.data[rt.#t],i=!!this.data[rt.#i],r=e.getUint32(rt.#a,!0),s=e.getUint32(rt.#s,!0),a=e.getUint32(rt.#r,!0),c=e.getUint32(rt.#o,!0);let l=20;const u=new Float32Array(this.buffer,l,r*2);l+=r*8;const d=new Uint8Array(this.buffer,l,s*3);l+=s*3;const h=[];for(let g=0;g<a;++g){const m=e.getFloat32(l,!0);l+=4;const y=e.getUint32(l,!0);l+=4,h.push([m,`#${y.toString(16).padStart(6,"0")}`])}let f=null;if(n){f=[];for(let g=0;g<4;++g)f.push(e.getFloat32(l,!0)),l+=4}let b=null;i&&(b=new Uint8Array(this.buffer,l,3),l+=3);const p=[];for(let g=0;g<c;++g){const m=e.getUint8(l);l+=1,l=Math.ceil(l/4)*4;const y=e.getUint32(l,!0);l+=4;const v=new Int32Array(this.buffer,l,y);l+=y*4;const _=e.getUint32(l,!0);l+=4;const x=new Int32Array(this.buffer,l,_);l+=_*4;const D={type:m,coords:v,colors:x};m===oo.LATTICE&&(D.verticesPerRow=e.getUint32(l,!0),l+=4),p.push(D)}if(t===1)return["RadialAxial","axial",f,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",f,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(t===3){const g=this.data[rt.#n];let m=null;if(u.length>0){let y=u[0],v=u[0],_=u[1],x=u[1];for(let D=0;D<u.length;D+=2){const A=u[D],S=u[D+1];y=y>A?A:y,_=_>S?S:_,v=v<A?A:v,x=x<S?S:x}m=[y,_,v,x]}return["Mesh",g,u,d,p,m,f,b]}throw new Error(`Unsupported pattern kind: ${t}`)}}function Eb(o){if(o instanceof URL)return o.href;if(typeof o=="string"){if(bt)return o;const e=URL.parse(o,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Cb(o){if(bt&&typeof pt<"u"&&o instanceof pt)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return Vi(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o?.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function gr(o){if(typeof o!="string")return null;if(o.endsWith("/"))return o;throw new Error(`Invalid factory url: "${o}" must include trailing slash.`)}const po=o=>typeof o=="object"&&Number.isInteger(o?.num)&&o.num>=0&&Number.isInteger(o?.gen)&&o.gen>=0,Sb=o=>typeof o=="object"&&typeof o?.name=="string",Ub=lb.bind(null,po,Sb);class Fb{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:r}=n;if(r.aborted){Ee("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",s),r.addEventListener("abort",s)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const mr={DATA:1,ERROR:2},et={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fd(){}function _t(o){if(o instanceof fn||o instanceof co||o instanceof sd||o instanceof Jr||o instanceof $a)return o;switch(o instanceof Error||typeof o=="object"&&o!==null||qe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new fn(o.message);case"InvalidPDFException":return new co(o.message);case"PasswordException":return new sd(o.message,o.code);case"ResponseException":return new Jr(o.message,o.status,o.missing);case"UnknownErrorException":return new $a(o.message,o.details)}return new $a(o.message,o.toString())}class Ci{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===mr.DATA)i.resolve(e.data);else if(e.callback===mr.ERROR)i.reject(_t(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(s){r.postMessage({sourceName:n,targetName:i,callback:mr.DATA,callbackId:e.callbackId,data:s})},function(s){r.postMessage({sourceName:n,targetName:i,callback:mr.ERROR,callbackId:e.callbackId,reason:_t(s)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,s=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:l=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:a,action:e,streamId:r,data:t,desiredSize:l.desiredSize},i),u.promise},pull:l=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,c.postMessage({sourceName:s,targetName:a,stream:et.PULL,streamId:r,desiredSize:l.desiredSize}),u.promise},cancel:l=>{Ie(l instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:s,targetName:a,stream:et.CANCEL,streamId:r,reason:_t(l)}),u.promise}},n)}#i(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this,a=this.actionHandler[e.action],c={enqueue(l,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:et.ENQUEUE,streamId:t,chunk:l},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:et.CLOSE,streamId:t}),delete s.streamSinks[t])},error(l){Ie(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:et.ERROR,streamId:t,reason:_t(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(a,e.data,c).then(function(){r.postMessage({sourceName:n,targetName:i,stream:et.START_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:i,stream:et.START_COMPLETE,streamId:t,reason:_t(l)})})}#n(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case et.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(_t(e.reason));break;case et.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(_t(e.reason));break;case et.PULL:if(!a){r.postMessage({sourceName:n,targetName:i,stream:et.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||fd).then(function(){r.postMessage({sourceName:n,targetName:i,stream:et.PULL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:i,stream:et.PULL_COMPLETE,streamId:t,reason:_t(l)})});break;case et.ENQUEUE:if(Ie(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case et.CLOSE:if(Ie(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#a(s,t);break;case et.ERROR:Ie(s,"error should have stream controller"),s.controller.error(_t(e.reason)),this.#a(s,t);break;case et.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(_t(e.reason)),this.#a(s,t);break;case et.CANCEL:if(!a)break;const c=_t(e.reason);Promise.try(a.onCancel||fd,c).then(function(){r.postMessage({sourceName:n,targetName:i,stream:et.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:i,stream:et.CANCEL_COMPLETE,streamId:t,reason:_t(l)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class jf{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){qe("Abstract method `_createCanvas` called.")}}class kb extends jf{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class qf{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){qe("Abstract method `_fetch` called.")}}class pd extends qf{async _fetch(e){const t=await Xi(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Vi(t)}}class zf{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}class Rb extends zf{#e;#t;#i;#n;#a;#s;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#l(){return this.#s||=new Map}get#c(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#a.createElementNS(tn,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(tn,"defs"),e.append(n),n.append(this.#i),this.#a.body.append(e)}return this.#i}#h(e){if(e.length===1){const c=e[0],l=new Array(256);for(let d=0;d<256;d++)l[d]=c[d]/255;const u=l.join(",");return[u,u,u]}const[t,n,i]=e,r=new Array(256),s=new Array(256),a=new Array(256);for(let c=0;c<256;c++)r[c]=t[c]/255,s[c]=n[c]/255,a[c]=i[c]/255;return[r.join(","),s.join(","),a.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Us(t)?Ee('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=kf(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,i,r]=this.#h(e),s=e.length===1?n:`${n}${i}${r}`;if(t=this.#o.get(s),t)return this.#o.set(e,t),t;const a=`g_${this.#n}_transfer_map_${this.#r++}`,c=this.#d(a);this.#o.set(e,c),this.#o.set(s,c);const l=this.#g(a);return this.#p(n,i,r,l),c}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let r=this.#l.get(i);if(r?.key===n||(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#l.set(i,r)),!e||!t))return r.url;const s=this.#v(e);e=be.makeHexColor(...s);const a=this.#v(t);if(t=be.makeHexColor(...a),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return r.url;const c=new Array(256);for(let f=0;f<=255;f++){const b=f/255;c[f]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const l=c.join(","),u=`g_${this.#n}_hcm_filter`,d=r.filter=this.#g(u);this.#p(l,l,l,d),this.#m(d);const h=(f,b)=>{const p=s[f]/255,g=a[f]/255,m=new Array(b+1);for(let y=0;y<=b;y++)m[y]=p+y/b*(g-p);return m.join(",")};return this.#p(h(0,5),h(1,5),h(2,5),d),r.url=this.#d(u),r.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#h([e]),i=`alpha_${n}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const r=`g_${this.#n}_alpha_map_${this.#r++}`,s=this.#d(r);this.#o.set(e,s),this.#o.set(i,s);const a=this.#g(r);return this.#b(n,a),s}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,i;if(e?([n]=this.#h([e]),i=`luminosity_${n}`):i="luminosity",t=this.#o.get(i),t)return this.#o.set(e,t),t;const r=`g_${this.#n}_luminosity_map_${this.#r++}`,s=this.#d(r);this.#o.set(e,s),this.#o.set(i,s);const a=this.#g(r);return this.#f(a),e&&this.#b(n,a),s}addHighlightHCMFilter(e,t,n,i,r){const s=`${t}-${n}-${i}-${r}`;let a=this.#l.get(e);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#l.set(e,a)),!t||!n))return a.url;const[c,l]=[t,n].map(this.#v.bind(this));let u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[h,f]=[i,r].map(this.#v.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#c.style.color="";const b=(m,y,v)=>{const _=new Array(256),x=(d-u)/v,D=m/255,A=(y-m)/(255*v);let S=0;for(let E=0;E<=v;E++){const R=Math.round(u+E*x),q=D+E*A;for(let C=S;C<=R;C++)_[C]=q;S=R+1}for(let E=S;E<256;E++)_[E]=_[S-1];return _.join(",")},p=`g_${this.#n}_hcm_${e}_filter`,g=a.filter=this.#g(p);return this.#m(g),this.#p(b(h[0],f[0],5),b(h[1],f[1],5),b(h[2],f[2],5),g),a.url=this.#d(p),a.url}destroy(e=!1){e&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(e){const t=this.#a.createElementNS(tn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(tn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(tn,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#u(e,t,n){const i=this.#a.createElementNS(tn,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#p(e,t,n,i){const r=this.#a.createElementNS(tn,"feComponentTransfer");i.append(r),this.#u(r,"feFuncR",e),this.#u(r,"feFuncG",t),this.#u(r,"feFuncB",n)}#b(e,t){const n=this.#a.createElementNS(tn,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#v(e){return this.#c.style.color=e,Gi(getComputedStyle(this.#c).getPropertyValue("color"))}}class Hf{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){qe("Abstract method `_fetch` called.")}}class gd extends Hf{async _fetch(e){const t=await Xi(e,"arraybuffer");return new Uint8Array(t)}}class Vf{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){qe("Abstract method `_fetch` called.")}}class md extends Vf{async _fetch(e){const t=await Xi(e,"arraybuffer");return new Uint8Array(t)}}bt&&Ee("Please use the `legacy` build in Node.js environments.");async function Tc(o){const t=await Ve.getBuiltinModule("fs").promises.readFile(o);return new Uint8Array(t)}class Bb extends zf{}class Nb extends jf{_createCanvas(e,t){return Ve.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Ib extends qf{async _fetch(e){return Tc(e)}}class Mb extends Hf{async _fetch(e){return Tc(e)}}class Lb extends Vf{async _fetch(e){return Tc(e)}}const zn="__forcedDependency",{floor:bd,ceil:yd}=Math;function br(o,e,t,n,i,r){o[e*4+0]=Math.min(o[e*4+0],t),o[e*4+1]=Math.min(o[e*4+1],n),o[e*4+2]=Math.max(o[e*4+2],i),o[e*4+3]=Math.max(o[e*4+3],r)}const go=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Pb{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===go}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const yr=(o,e)=>{if(!o)return;let t=o.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},o.set(e,t)),t};class Ob{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[zn]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#l=-1;#c=new Set;#h=new Map;#d=new Map;#f;#m;#g;#u;#p;constructor(e,t,n=!1){this.#f=e.width,this.#m=e.height,this.#b(t),n&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#b(e,this.#u)}#b(e,t){const n=new ArrayBuffer(e*4);this.#g=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(go,t.length)):this.#u.fill(go)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[zn]:{__proto__:this.#t[zn]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(yr(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(yr(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(yr(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(be.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#i.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(zn,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#c)this.recordFutureForcedDependency(zn,e);return this}resetBBox(e){return this.#l!==e&&(this.#l=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,i,r,s){const a=be.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];be.axialAlignedBoundingBox([n,r,i,s],a,c);const l=be.intersect(this.#r,c);return l?(this.#r[0]=l[0],this.#r[1]=l[1],this.#r[2]=l[2],this.#r[3]=l[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,n,i,r,s){const a=this.#r;if(a[0]===1/0)return this;const c=be.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(a[0]===-1/0)return be.axialAlignedBoundingBox([n,r,i,s],c,this.#o),this;const l=[1/0,1/0,-1/0,-1/0];return be.axialAlignedBoundingBox([n,r,i,s],c,l),this.#o[0]=Math.min(this.#o[0],Math.max(l[0],a[0])),this.#o[1]=Math.min(this.#o[1],Math.max(l[1],a[1])),this.#o[2]=Math.max(this.#o[2],Math.min(l[2],a[2])),this.#o[3]=Math.max(this.#o[3],Math.min(l[3],a[3])),this}recordCharacterBBox(e,t,n,i=1,r=0,s=0,a){const c=n.bbox;let l,u;if(c&&(l=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(n),l!==!1&&(u=[0,0,0,0],be.axialAlignedBoundingBox(c,n.fontMatrix,u),(i!==1||r!==0||s!==0)&&be.scaleMinMax([i,0,0,-i,r,s],u),l)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!a)return this.recordFullPageBBox(e);const d=a();return c&&u&&l===void 0&&(l=u[0]<=r-d.actualBoundingBoxLeft&&u[2]>=r+d.actualBoundingBoxRight&&u[1]<=s-d.actualBoundingBoxAscent&&u[3]>=s+d.actualBoundingBoxDescent,this.#d.set(n,l),l)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,r-d.actualBoundingBoxLeft,r+d.actualBoundingBoxRight,s-d.actualBoundingBoxAscent,s+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#c,i=this.#e,r=this.#t;for(const s of t)s in this.#e?n.add(i[s]):s in r&&r[s].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#c.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[zn]),this.#p){const n=yr(this.#p,e),{dependencies:i}=n;this.#c.forEach(i.add,i),this.#n.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(this.#l===e){const n=bd(this.#o[0]*256/this.#f),i=bd(this.#o[1]*256/this.#m),r=yd(this.#o[2]*256/this.#f),s=yd(this.#o[3]*256/this.#m);br(this.#g,e,n,i,r,s);for(const a of this.#c)a!==e&&br(this.#g,a,n,i,r,s);for(const a of this.#n)a!==e&&br(this.#g,a,n,i,r,s);for(const a of this.#a)a!==e&&br(this.#g,a,n,i,r,s);t||(this.#c.clear(),this.#l=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#c);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#l===e&&(this.#l=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#c.clear()),this}_takePendingDependencies(){const e=this.#c;return this.#c=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#c.add(t)}take(){return this.#d.clear(),new Pb(this.#u,this.#g)}takeDebugMetadata(){return this.#p}}class es{#e;#t;#i;#n=0;#a=0;constructor(e,t,n){if(e instanceof es&&e.#i===!!n)return e;this.#e=e,this.#t=t,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,i,r,s){return this.#i||this.#e.recordClipBox(this.#t,t,n,i,r,s),this}recordBBox(e,t,n,i,r,s){return this.#i||this.#e.recordBBox(this.#t,t,n,i,r,s),this}recordCharacterBBox(e,t,n,i,r,s,a){return this.#i||this.#e.recordCharacterBBox(this.#t,t,n,i,r,s,a),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Mt={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},lt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function mo(o,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),o.clip(i)}class Ec{isModifyingCurrentTransform(){return!1}getPattern(){qe("Abstract method `getPattern` called.")}}class Wb extends Ec{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===lt.STROKE||i===lt.FILL){const s=t.current.getClippedPathBoundingBox(i,Ge(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,c),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),n=be.transform(n,[1,0,0,1,s[0],s[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),mo(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);r.setTransform(d)}else mo(e,this._bbox),r=this._createGradient(e);return r}}function Ka(o,e,t,n,i,r,s,a){const c=e.coords,l=e.colors,u=o.data,d=o.width*4;let h;c[t+1]>c[n+1]&&(h=t,t=n,n=h,h=r,r=s,s=h),c[n+1]>c[i+1]&&(h=n,n=i,i=h,h=s,s=a,a=h),c[t+1]>c[n+1]&&(h=t,t=n,n=h,h=r,r=s,s=h);const f=(c[t]+e.offsetX)*e.scaleX,b=(c[t+1]+e.offsetY)*e.scaleY,p=(c[n]+e.offsetX)*e.scaleX,g=(c[n+1]+e.offsetY)*e.scaleY,m=(c[i]+e.offsetX)*e.scaleX,y=(c[i+1]+e.offsetY)*e.scaleY;if(b>=y)return;const v=l[r],_=l[r+1],x=l[r+2],D=l[s],A=l[s+1],S=l[s+2],E=l[a],R=l[a+1],q=l[a+2],C=Math.round(b),N=Math.round(y);let T,W,k,B,H,z,ee,O;for(let $=C;$<=N;$++){if($<g){const oe=$<b?0:(b-$)/(b-g);T=f-(f-p)*oe,W=v-(v-D)*oe,k=_-(_-A)*oe,B=x-(x-S)*oe}else{let oe;$>y?oe=1:g===y?oe=0:oe=(g-$)/(g-y),T=p-(p-m)*oe,W=D-(D-E)*oe,k=A-(A-R)*oe,B=S-(S-q)*oe}let X;$<b?X=0:$>y?X=1:X=(b-$)/(b-y),H=f-(f-m)*X,z=v-(v-E)*X,ee=_-(_-R)*X,O=x-(x-q)*X;const ne=Math.round(Math.min(T,H)),ie=Math.round(Math.max(T,H));let ue=d*$+ne*4;for(let oe=ne;oe<=ie;oe++)X=(T-oe)/(T-H),X<0?X=0:X>1&&(X=1),u[ue++]=W-(W-z)*X|0,u[ue++]=k-(k-ee)*X|0,u[ue++]=B-(B-O)*X|0,u[ue++]=255}}function jb(o,e,t){const n=e.coords,i=e.colors;let r,s;switch(e.type){case oo.LATTICE:const a=e.verticesPerRow,c=Math.floor(n.length/a)-1,l=a-1;for(r=0;r<c;r++){let u=r*a;for(let d=0;d<l;d++,u++)Ka(o,t,n[u],n[u+1],n[u+a],i[u],i[u+1],i[u+a]),Ka(o,t,n[u+a+1],n[u+1],n[u+a],i[u+a+1],i[u+1],i[u+a])}break;case oo.TRIANGLES:for(r=0,s=n.length;r<s;r+=3)Ka(o,t,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class qb extends Ec{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(l*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=l/d,b=u/h,p={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/f,scaleY:1/b},g=d+4,m=h+4,y=n.getCanvas("mesh",g,m),v=y.context,_=v.createImageData(d,h);if(t){const D=_.data;for(let A=0,S=D.length;A<S;A+=4)D[A]=t[0],D[A+1]=t[1],D[A+2]=t[2],D[A+3]=255}for(const D of this._figures)jb(_,D,p);return v.putImageData(_,2,2),{canvas:y.canvas,offsetX:a-2*f,offsetY:c-2*b,scaleX:f,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){mo(e,this._bbox);const r=new Float32Array(2);if(i===lt.SHADING)be.singularValueDecompose2dScale(Ge(e),r);else if(this.matrix){be.singularValueDecompose2dScale(this.matrix,r);const[a,c]=r;be.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=a,r[1]*=c}else be.singularValueDecompose2dScale(t.baseTransform,r);const s=this._createMeshCanvas(r,i===lt.SHADING?null:this._background,t.cachedCanvases);return i!==lt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class zb extends Ec{getPattern(){return"hotpink"}}function Hb(o){switch(o[0]){case"RadialAxial":return new Wb(o);case"Mesh":return new qb(o);case"Dummy":return new zb}throw new Error(`Unknown IR type: ${o[0]}`)}const vd={COLORED:1,UNCOLORED:2};class Cc{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){const{bbox:n,operatorList:i,paintType:r,tilingType:s,color:a,canvasGraphicsFactory:c}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),Ss("TilingType: "+s);const d=n[0],h=n[1],f=n[2],b=n[3],p=f-d,g=b-h,m=new Float32Array(2);be.singularValueDecompose2dScale(this.matrix,m);const[y,v]=m;be.singularValueDecompose2dScale(this.baseTransform,m);const _=y*m[0],x=v*m[1];let D=p,A=g,S=!1,E=!1;const R=Math.ceil(l*_),q=Math.ceil(u*x),C=Math.ceil(p*_),N=Math.ceil(g*x);R>=C?D=l:S=!0,q>=N?A=u:E=!0;const T=this.getSizeAndScale(D,this.ctx.canvas.width,_),W=this.getSizeAndScale(A,this.ctx.canvas.height,x),k=e.cachedCanvases.getCanvas("pattern",T.size,W.size),B=k.context,H=c.createCanvasGraphics(B,t);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,r,a),B.translate(-T.scale*d,-W.scale*h),H.transform(0,T.scale,0,0,W.scale,0,0),B.save(),H.dependencyTracker?.save(),this.clipBbox(H,d,h,f,b),H.baseTransform=Ge(H.ctx),H.executeOperatorList(i),H.endDrawing(),H.dependencyTracker?.restore(),B.restore(),S||E){const z=k.canvas;S&&(D=l),E&&(A=u);const ee=this.getSizeAndScale(D,this.ctx.canvas.width,_),O=this.getSizeAndScale(A,this.ctx.canvas.height,x),$=ee.size,X=O.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",$,X),ie=ne.context,ue=S?Math.floor(p/l):0,oe=E?Math.floor(g/u):0;for(let le=0;le<=ue;le++)for(let fe=0;fe<=oe;fe++)ie.drawImage(z,$*le,X*fe,$,X,0,0,$,X);return{canvas:ne.canvas,scaleX:ee.scale,scaleY:O.scale,offsetX:d,offsetY:h}}return{canvas:k.canvas,scaleX:T.scale,scaleY:W.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,n){const i=Math.max(Cc.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const s=i-t,a=r-n;e.ctx.rect(t,n,s,a),be.axialAlignedBoundingBox([t,n,i,r],Ge(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case vd.COLORED:const{fillStyle:s,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=s,i.strokeStyle=r.strokeColor=a;break;case vd.UNCOLORED:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new ib(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,r){let s=n;i!==lt.SHADING&&(s=be.transform(s,t.baseTransform),this.matrix&&(s=be.transform(s,this.matrix)));const a=this.createPatternCanvas(t,r);let c=new DOMMatrix(s);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(c),l}}function Vb({src:o,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:s=!1}){const a=ut.isLittleEndian?4278190080:255,[c,l]=s?[r,a]:[a,r],u=n>>3,d=n&7,h=o.length;t=new Uint32Array(t.buffer);let f=0;for(let b=0;b<i;b++){for(const g=e+u;e<g;e++){const m=e<h?o[e]:255;t[f++]=m&128?l:c,t[f++]=m&64?l:c,t[f++]=m&32?l:c,t[f++]=m&16?l:c,t[f++]=m&8?l:c,t[f++]=m&4?l:c,t[f++]=m&2?l:c,t[f++]=m&1?l:c}if(d===0)continue;const p=e<h?o[e++]:255;for(let g=0;g<d;g++)t[f++]=p&1<<7-g?l:c}return{srcPos:e,destPos:f}}const xd=16,Dd=100,Xb=15,_d=10,At=16,Za=new DOMMatrix,Ft=new Float32Array(2),Yn=new Float32Array([1/0,1/0,-1/0,-1/0]);function $b(o,e){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){e.save(),this.__originalSave()},o.restore=function(){e.restore(),this.__originalRestore()},o.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},o.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},o.transform=function(t,n,i,r,s,a){e.transform(t,n,i,r,s,a),this.__originalTransform(t,n,i,r,s,a)},o.setTransform=function(t,n,i,r,s,a){e.setTransform(t,n,i,r,s,a),this.__originalSetTransform(t,n,i,r,s,a)},o.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},o.rotate=function(t){e.rotate(t),this.__originalRotate(t)},o.clip=function(t){e.clip(t),this.__originalClip(t)},o.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},o.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},o.bezierCurveTo=function(t,n,i,r,s,a){e.bezierCurveTo(t,n,i,r,s,a),this.__originalBezierCurveTo(t,n,i,r,s,a)},o.rect=function(t,n,i,r){e.rect(t,n,i,r),this.__originalRect(t,n,i,r)},o.closePath=function(){e.closePath(),this.__originalClosePath()},o.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Gb{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function vr(o,e,t,n,i,r,s,a,c,l){const[u,d,h,f,b,p]=Ge(o);if(d===0&&h===0){const y=s*u+b,v=Math.round(y),_=a*f+p,x=Math.round(_),D=(s+c)*u+b,A=Math.abs(Math.round(D)-v)||1,S=(a+l)*f+p,E=Math.abs(Math.round(S)-x)||1;return o.setTransform(Math.sign(u),0,0,Math.sign(f),v,x),o.drawImage(e,t,n,i,r,0,0,A,E),o.setTransform(u,d,h,f,b,p),[A,E]}if(u===0&&f===0){const y=a*h+b,v=Math.round(y),_=s*d+p,x=Math.round(_),D=(a+l)*h+b,A=Math.abs(Math.round(D)-v)||1,S=(s+c)*d+p,E=Math.abs(Math.round(S)-x)||1;return o.setTransform(0,Math.sign(d),Math.sign(h),0,v,x),o.drawImage(e,t,n,i,r,0,0,E,A),o.setTransform(u,d,h,f,b,p),[E,A]}o.drawImage(e,t,n,i,r,s,a,c,l);const g=Math.hypot(u,d),m=Math.hypot(h,f);return[g*c,m*l]}class wd{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=ao;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=at.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Yn.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=lt.FILL,t=null){const n=this.minMax.slice();if(e===lt.STROKE){t||qe("Stroke bounding box must include transform."),be.singularValueDecompose2dScale(t,Ft);const i=Ft[0]*this.lineWidth/2,r=Ft[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const e=be.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Yn,0)}getClippedPathBoundingBox(e=lt.FILL,t=null){return be.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Ad(o,e){if(e instanceof ImageData){o.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%At,r=(t-i)/At,s=i===0?r:r+1,a=o.createImageData(n,At);let c=0,l;const u=e.data,d=a.data;let h,f,b,p;if(e.kind===Vr.GRAYSCALE_1BPP){const g=u.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),y=m.length,v=n+7>>3,_=4294967295,x=ut.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(b=h<r?At:i,l=0,f=0;f<b;f++){const D=g-c;let A=0;const S=D>v?n:D*8-7,E=S&-8;let R=0,q=0;for(;A<E;A+=8)q=u[c++],m[l++]=q&128?_:x,m[l++]=q&64?_:x,m[l++]=q&32?_:x,m[l++]=q&16?_:x,m[l++]=q&8?_:x,m[l++]=q&4?_:x,m[l++]=q&2?_:x,m[l++]=q&1?_:x;for(;A<S;A++)R===0&&(q=u[c++],R=128),m[l++]=q&R?_:x,R>>=1}for(;l<y;)m[l++]=0;o.putImageData(a,0,h*At)}}else if(e.kind===Vr.RGBA_32BPP){for(f=0,p=n*At*4,h=0;h<r;h++)d.set(u.subarray(c,c+p)),c+=p,o.putImageData(a,0,f),f+=At;h<s&&(p=n*i*4,d.set(u.subarray(c,c+p)),o.putImageData(a,0,f))}else if(e.kind===Vr.RGB_24BPP)for(b=At,p=n*b,h=0;h<s;h++){for(h>=r&&(b=i,p=n*b),l=0,f=p;f--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;o.putImageData(a,0,h*At)}else throw new Error(`bad image kind: ${e.kind}`)}function Td(o,e){if(e.bitmap){o.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%At,r=(t-i)/At,s=i===0?r:r+1,a=o.createImageData(n,At);let c=0;const l=e.data,u=a.data;for(let d=0;d<s;d++){const h=d<r?At:i;({srcPos:c}=Vb({src:l,srcPos:c,dest:u,width:n,height:h,nonBlackColor:0})),o.putImageData(a,0,d*At)}}function _i(o,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)o[n]!==void 0&&(e[n]=o[n]);o.setLineDash!==void 0&&(e.setLineDash(o.getLineDash()),e.lineDashOffset=o.lineDashOffset)}function xr(o){o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0);const{filter:e}=o;e!=="none"&&e!==""&&(o.filter="none")}function Ed(o,e){if(e)return!0;be.singularValueDecompose2dScale(o,Ft);const t=Math.fround(Zt.pixelRatio*oi.PDF_TO_CSS_UNITS);return Ft[0]<=t&&Ft[1]<=t}const Yb=["butt","round","square"],Kb=["miter","round","bevel"],Zb={},Cd={};class ti{constructor(e,t,n,i,r,{optionalContentConfig:s,markedContentStack:a=null},c,l,u){this.ctx=e,this.current=new wd(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new Gb(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=a,n){const c=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Ge(this.compositeCtx))}this.ctx.save(),xr(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ge(this.ctx)}executeOperatorList(e,t,n,i,r){const s=e.argsArray,a=e.fnArray;let c=t||0;const l=s.length;if(l===c)return c;const u=l-c>_d&&typeof n=="function",d=u?Date.now()+Xb:0;let h=0;const f=this.commonObjs,b=this.objs;let p,g;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,n),c;if(!r||r(c))if(p=a[c],g=s[c]??null,p!==Pi.dependency)g===null?this[p](c):this[p](c,...g);else for(const m of g){this.dependencyTracker?.recordNamedData(m,c);const y=m.startsWith("g_")?f:b;if(!y.has(m))return y.get(m,n),c}if(c++,c===l)return c;if(u&&++h>_d){if(Date.now()>d)return n(),c;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),a=n,c=i,l="prescale1",u,d;for(;r>2&&a>1||s>2&&c>1;){let h=a,f=c;r>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/h),s>2&&c>1&&(f=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/f),u=this.cachedCanvases.getCanvas(l,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,a,c,0,0,h,f),e=u.canvas,a=h,c=f,l=l==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e,t){const n=this.ctx,{width:i,height:r}=t,s=this.current.fillColor,a=this.current.patternFill,c=Ge(n);let l,u,d,h;if((t.bitmap||t.data)&&t.count>1){const R=t.bitmap||t.data.buffer;u=JSON.stringify(a?c:[c.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const q=l.get(u);if(q&&!a){const C=Math.round(Math.min(c[0],c[2])+c[4]),N=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,Mt.transformAndFill),{canvas:q,offsetX:C,offsetY:N}}d=q}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),Td(h.context,t));let f=be.transform(c,[1/i,0,0,-1/r,0,0]);f=be.transform(f,[1,0,0,1,0,-r]);const b=Yn.slice();be.axialAlignedBoundingBox([0,0,i,r],f,b);const[p,g,m,y]=b,v=Math.round(m-p)||1,_=Math.round(y-g)||1,x=this.cachedCanvases.getCanvas("fillCanvas",v,_),D=x.context,A=p,S=g;D.translate(-A,-S),D.transform(...f),d||(d=this._scaleImage(h.canvas,$t(D)),d=d.img,l&&a&&l.set(u,d)),D.imageSmoothingEnabled=Ed(Ge(D),t.interpolate),vr(D,d,0,0,d.width,d.height,0,0,i,r),D.globalCompositeOperation="source-in";const E=be.transform($t(D),[1,0,0,1,-A,-S]);return D.fillStyle=a?s.getPattern(n,this,E,lt.FILL,e):s,D.fillRect(0,0,i,r),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),this.dependencyTracker?.recordDependencies(e,Mt.transformAndFill),{canvas:x.canvas,offsetX:Math.round(A),offsetY:Math.round(S)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Yb[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Kb[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,i]of t)switch(n){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const s=this.ctx=r.context;s.setTransform(this.suspendedCtx.getTransform()),_i(this.suspendedCtx,s),$b(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],s=i[1],a=i[2]-r,c=i[3]-s;a===0||c===0||(this.genericComposeSMask(t.context,n,a,c,t.subtype,t.backdrop,t.transferMap,r,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,s,a,c,l,u,d){let h=e.canvas,f=c-u,b=l-d;if(s)if(f<0||b<0||f+n>h.width||b+i>h.height){const g=this.cachedCanvases.getCanvas("maskExtension",n,i),m=g.context;m.drawImage(h,-f,-b),m.globalCompositeOperation="destination-atop",m.fillStyle=s,m.fillRect(0,0,n,i),m.globalCompositeOperation="source-over",h=g.canvas,f=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(f,b,n,i),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(f,b,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const p=new Path2D;p.rect(c,l,n,i),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(h,f,b,n,i,c,l,n,i),t.restore()}save(e){this.inSMaskMode&&_i(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&_i(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,r,s,a){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[r]=n;if(!i){r||=n[0]=new Path2D,this[t](e,r);return}if(this.dependencyTracker!==null){const s=t===Pi.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}r instanceof Path2D||(r=n[0]=Lf(r)),be.axialAlignedBoundingBox(i,Ge(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const s=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,$t(i),lt.STROKE,e),s){const a=new Path2D;a.addPath(t,i.getTransform().invertSelf().multiplySelf(s)),t=a}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,Mt.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(lt.STROKE,Ge(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let a=!1;if(s){const l=r.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=r.getPattern(i,this,$t(i),lt.FILL,e),l){const u=new Path2D;u.addPath(t,i.getTransform().invertSelf().multiplySelf(l)),t=u}a=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,Mt.fill),a&&(i.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,Mt.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Zb}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Cd}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,r=n.getTransform().invertSelf();for(const{transform:s,x:a,y:c,fontSize:l,path:u}of t)u&&i.addPath(u,new DOMMatrix(s).preMultiplySelf(r).translate(a,c).scale(l,-l));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||ao,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ee("Invalid font matrix for font "+t),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const l=i.italic?"italic":"normal";let u=n;n<xd?u=xd:n>Dd&&(u=Dd),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${c} ${u}px ${a}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}paintChar(e,t,n,i,r,s){const a=this.ctx,c=this.current,l=c.font,u=c.textRenderingMode,d=c.fontSize/c.fontSizeScale,h=u&at.FILL_STROKE_MASK,f=!!(u&at.ADD_TO_PATH_FLAG),b=c.patternFill&&!l.missingFile,p=c.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||f||b||p)&&!l.missingFile&&(g=l.getPathGenerator(this.commonObjs,t)),g&&(l.disableFontFace||b||p)){a.save(),a.translate(n,i),a.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(e,a,l);let m;if(h===at.FILL||h===at.FILL_STROKE)if(r){m=a.getTransform(),a.setTransform(...r);const y=this.#i(g,m,r);a.fill(y)}else a.fill(g);if(h===at.STROKE||h===at.FILL_STROKE)if(s){m||=a.getTransform(),a.setTransform(...s);const{a:y,b:v,c:_,d:x}=m,D=be.inverseTransform(s),A=be.transform([y,v,_,x,0,0],D);be.singularValueDecompose2dScale(A,Ft),a.lineWidth*=Math.max(Ft[0],Ft[1])/d,a.stroke(this.#i(g,m,s))}else a.lineWidth/=d,a.stroke(g);a.restore()}else(h===at.FILL||h===at.FILL_STROKE)&&(a.fillText(t,n,i),this.dependencyTracker?.recordCharacterBBox(e,a,l,d,n,i,()=>a.measureText(t))),(h===at.STROKE||h===at.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,a,l,d,n,i,()=>a.measureText(t)).recordDependencies(e,Mt.stroke),a.strokeText(t,n,i));f&&((this.pendingTextPaths||=[]).push({transform:Ge(a),x:n,y:i,fontSize:d,path:g}),this.dependencyTracker?.recordCharacterBBox(e,a,l,d,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Fe(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Mt.showText).resetBBox(e),this.current.textRenderingMode&at.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const r=n.fontSize;if(r===0){this.dependencyTracker?.recordOperation(e);return}const s=this.ctx,a=n.fontSizeScale,c=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=t.length,f=i.vertical,b=f?1:-1,p=i.defaultVMetrics,g=r*n.fontMatrix[0],m=n.textRenderingMode===at.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),u>0?s.scale(d,-1):s.scale(d,1);let y,v;if(n.patternFill){s.save();const S=n.fillColor.getPattern(s,this,$t(s),lt.FILL,e);y=Ge(s),s.restore(),s.fillStyle=S}if(n.patternStroke){s.save();const S=n.strokeColor.getPattern(s,this,$t(s),lt.STROKE,e);v=Ge(s),s.restore(),s.strokeStyle=S}let _=n.lineWidth;const x=n.textMatrixScale;if(x===0||_===0){const S=n.textRenderingMode&at.FILL_STROKE_MASK;(S===at.STROKE||S===at.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=x;if(a!==1&&(s.scale(a,a),_/=a),s.lineWidth=_,i.isInvalidPDFjsFont){const S=[];let E=0;for(const q of t)S.push(q.unicode),E+=q.width;const R=S.join("");if(s.fillText(R,0,0),this.dependencyTracker!==null){const q=s.measureText(R);this.dependencyTracker.recordBBox(e,this.ctx,-q.actualBoundingBoxLeft,q.actualBoundingBoxRight,-q.actualBoundingBoxAscent,q.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=E*g*d,s.restore(),this.compose();return}let D=0,A;for(A=0;A<h;++A){const S=t[A];if(typeof S=="number"){D+=b*S*r/1e3;continue}let E=!1;const R=(S.isSpace?l:0)+c,q=S.fontChar,C=S.accent;let N,T,W=S.width;if(f){const H=S.vmetric||p,z=-(S.vmetric?H[1]:W*.5)*g,ee=H[2]*g;W=H?-H[0]:W,N=z/a,T=(D+ee)/a}else N=D/a,T=0;let k;if(i.remeasure&&W>0){k=s.measureText(q);const H=k.width*1e3/r*a;if(W<H&&this.isFontSubpixelAAEnabled){const z=W/H;E=!0,s.save(),s.scale(z,1),N/=z}else W!==H&&(N+=(W-H)/2e3*r/a)}if(this.contentVisible&&(S.isInFont||i.missingFile)){if(m&&!C)s.fillText(q,N,T),this.dependencyTracker?.recordCharacterBBox(e,s,k?{bbox:null}:i,r/a,N,T,()=>k??s.measureText(q));else if(this.paintChar(e,q,N,T,y,v),C){const H=N+r*C.offset.x/a,z=T-r*C.offset.y/a;this.paintChar(e,C.fontChar,H,z,y,v)}}const B=f?W*g-R*u:W*g+R*u;D+=B,E&&s.restore()}f?n.y-=D:n.x+=D*d,s.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,r=i.font,s=i.fontSize,a=i.fontDirection,c=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,d=i.textHScale*a,h=i.fontMatrix||ao,f=t.length,b=i.textRenderingMode===at.INVISIBLE;let p,g,m,y;if(b||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,a);const v=this.dependencyTracker;for(this.dependencyTracker=v?new es(v,e):null,p=0;p<f;++p){if(g=t[p],typeof g=="number"){y=c*g*s/1e3,this.ctx.translate(y,0),i.x+=y*d;continue}const _=(g.isSpace?u:0)+l,x=r.charProcOperatorList[g.operatorListId];x?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...h),this.executeOperatorList(x),this.restore()):Ee(`Type3 character "${g.operatorListId}" is not available.`);const D=[g.width,0];be.applyTransform(D,h),m=D[0]*s+_,n.translate(m,0),i.x+=m*d}n.restore(),v&&(this.dependencyTracker=v)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,r,s,a){const c=new Path2D;c.rect(i,r,s-i,a-r),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,i,s,r,a).recordClipBox(e,this.ctx,i,s,r,a),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||Ge(this.ctx),r={createCanvasGraphics:(s,a)=>new ti(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new es(this.dependencyTracker,a,!0):null)};n=new Cc(t,this.ctx,r,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=Hb(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,$t(n),lt.SHADING,e);const r=$t(n);if(r){const{width:s,height:a}=n.canvas,c=Yn.slice();be.axialAlignedBoundingBox([0,0,s,a],r,c);const[l,u,d,h]=c;this.ctx.fillRect(l,u,d-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Mt.transform).recordDependencies(e,Mt.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){qe("Should not call beginInlineImage")}beginImageData(){qe("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Ge(this.ctx),n)){be.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,r,s,a]=n,c=new Path2D;c.rect(i,r,s-i,a-r),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,i,s,r,a),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Ss("TODO: Support non-isolated groups."),t.knockout&&Ee("Knockout groups not supported.");const i=Ge(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Yn.slice();be.axialAlignedBoundingBox(t.bbox,Ge(n),r);const s=[0,0,n.canvas.width,n.canvas.height];r=be.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),c=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),u=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-a,-c),f.transform(...i);let b=new Path2D;const[p,g,m,y]=t.bbox;if(b.rect(p,g,m-p,y-g),t.matrix){const v=new Path2D;v.addPath(b,new DOMMatrix(t.matrix)),b=v}f.clip(b),t.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(a,c),n.save()),_i(n,f),this.ctx=f,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=Ge(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...r);const s=Yn.slice();be.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r,s),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,r,s){if(this.#e(),xr(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],c=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=a,n[3]=c,be.singularValueDecompose2dScale(Ge(this.ctx),Ft);const{viewportScale:l}=this,u=Math.ceil(a*this.outputScaleX*l),d=Math.ceil(c*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Ft[0],0,0,-Ft[1],0,c*Ft[1]),xr(this.ctx)}else{xr(this.ctx),this.endPath(e);const l=new Path2D;l.rect(n[0],n[1],a,c),this.ctx.clip(l)}}this.current=new wd(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,r=this._createMaskCanvas(e,t),s=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,r.offsetX,r.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+s.width,r.offsetY,r.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,r=0,s,a){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const l=Ge(c);c.transform(n,i,r,s,0,0);const u=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]),this.dependencyTracker?.resetBBox(e);for(let d=0,h=a.length;d<h;d+=2){const f=be.transform(l,[n,i,r,s,a[d],a[d+1]]);c.drawImage(u.canvas,f[4],f[5]),this.dependencyTracker?.recordBBox(e,this.ctx,f[4],f[4]+u.canvas.width,f[5],f[5]+u.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Mt.transformAndFill);for(const s of t){const{data:a,width:c,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",c,l),h=d.context;h.save();const f=this.getObject(e,a,s);Td(h,f),h.globalCompositeOperation="source-in",h.fillStyle=r?i.getPattern(h,this,$t(n),lt.FILL,e):i,h.fillRect(0,0,c,l),h.restore(),n.save(),n.transform(...u),n.scale(1,-1),vr(n,d.canvas,0,0,c,l,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,c,0,l),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Ee("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,r){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){Ee("Dependent image isn't ready yet");return}const a=s.width,c=s.height,l=[];for(let u=0,d=r.length;u<d;u+=2)l.push({transform:[n,0,0,i,r[u],r[u+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(e,s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",r.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none"),r.scale(1/n,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",n,i).context;Ad(u,t),a=this.applyTransferMapsToCanvas(u)}const c=this._scaleImage(a,$t(r));r.imageSmoothingEnabled=Ed(Ge(r),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,r,0,n,-i,0).recordDependencies(e,Mt.imageXObject).recordOperation(e),vr(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const s=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;Ad(l,t),r=this.applyTransferMapsToCanvas(l)}this.dependencyTracker?.resetBBox(e);for(const s of n)i.save(),i.transform(...s.transform),i.scale(1,-1),vr(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Mt.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;this.pendingClip?(i||(this.pendingClip===Cd?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ge(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let s,a;if(n===0&&i===0){const c=Math.abs(t),l=Math.abs(r);if(c===l)if(e===0)s=a=1/c;else{const u=c*e;s=a=u<1?1/u:1}else if(e===0)s=1/c,a=1/l;else{const u=c*e,d=l*e;s=u<1?1/u:1,a=d<1?1/d:1}}else{const c=Math.abs(t*r-n*i),l=Math.hypot(t,n),u=Math.hypot(i,r);if(e===0)s=u/c,a=l/c;else{const d=e*c;s=u>d?u/d:1,a=l>d?l/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[r,s]=this.getScaleForStroking();if(r===s){n.lineWidth=(i||1)*r,n.stroke(e);return}const a=n.getLineDash();t&&n.save(),n.scale(r,s),Za.a=1/r,Za.d=1/s;const c=new Path2D;if(c.addPath(e,Za),a.length>0){const l=Math.max(r,s);n.setLineDash(a.map(u=>u/l)),n.lineDashOffset/=l}n.lineWidth=i||1,n.stroke(c),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const o in Pi)ti.prototype[o]!==void 0&&(ti.prototype[Pi[o]]=ti.prototype[o]);class ni{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Qb{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Vn=Symbol("INTERNAL");class Jb{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){this.#e=!!(e&Ut.DISPLAY),this.#t=!!(e&Ut.PRINT),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==Vn&&qe("Internal method `_setVisible` called."),this.#i=n,this.#n=t}}class ey{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=Ut.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const n of e.groups)this.#t.set(n.id,new Jb(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(Vn,!1);for(const n of e.on)this.#t.get(n)._setVisible(Vn,!0);for(const n of e.off)this.#t.get(n)._setVisible(Vn,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const r=e[i];let s;if(Array.isArray(r))s=this.#a(r);else if(this.#t.has(r))s=this.#t.get(r).visible;else return Ee(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Ss("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ee(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Ee(`Unknown optional content policy ${e.policy}.`),!0}return Ee(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const i=this.#t.get(e);if(!i){Ee(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const r of i.rbGroups)for(const s of r)s!==e&&this.#t.get(s)?._setVisible(Vn,!1,!0);i._setVisible(Vn,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=this.#t.get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new Of;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class ty{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ie(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,r?.length>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,l)=>{this._onReceiveData({begin:c,chunk:l})}),e.addProgressListener((c,l)=>{this._onProgress({loaded:c,total:l})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});Ie(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ie(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ny(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new iy(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class ny{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=Dc(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class iy{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ry(o){let e=!0,t=n("filename\\*","i").exec(o);if(t){t=t[1];let u=a(t);return u=unescape(u),u=c(u),u=l(u),r(u)}if(t=s(o),t){const u=l(t);return r(u)}if(t=n("filename","i").exec(o),t){t=t[1];let u=a(t);return u=l(u),r(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=Vi(d);d=h.decode(f),e=!1}catch{}}return d}function r(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function s(u){const d=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,p,g,m]=h;if(p=parseInt(p,10),p in d){if(p===0)break;continue}d[p]=[g,m]}const b=[];for(let p=0;p<d.length&&p in d;++p){let[g,m]=d[p];m=a(m),g&&(m=unescape(m),p===0&&(m=c(m))),b.push(m)}return b.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function c(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),b=u.slice(d+1).replace(/^[^']*'/,"");return i(h,b)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,b){if(f==="q"||f==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,g){return String.fromCharCode(parseInt(g,16))}),i(h,b);try{b=atob(b)}catch{}return i(h,b)})}return""}function Xf(o,e){const t=new Headers;if(!o||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function ks(o){return URL.parse(o)?.origin??null}function $f({responseHeaders:o,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(o.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||n||!e||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Gf(o){const e=o.get("Content-Disposition");if(e){let t=ry(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Dc(t))return t}return null}function Ki(o,e){return new Jr(`Unexpected server response (${o}) while retrieving PDF "${e}".`,o,o===404||o===0&&e.startsWith("file:"))}function Yf(o){return o===200||o===206}function Kf(o,e,t){return{method:"GET",headers:o,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Zf(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(Ee(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class sy{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Xf(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ie(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ay(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new oy(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ay{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,Kf(n,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=ks(r.url),!Yf(r.status))throw Ki(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=r.headers,{allowRangeRequests:a,suggestedLength:c}=$f({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=Gf(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fn("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Zf(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class oy{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,Kf(r,this._withCredentials,this._abortController)).then(a=>{const c=ks(a.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!Yf(a.status))throw Ki(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Zf(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Qa=200,Ja=206;function cy(o){const e=o.response;return typeof e!="string"?e:Vi(e).buffer}class ly{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Xf(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,s]of this.headers)t.setRequestHeader(r,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Ja):i.expectedStatus=Qa,t.responseType="arraybuffer",Ie(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const r=i.status||Qa;if(!(r===Qa&&n.expectedStatus===Ja)&&r!==n.expectedStatus){n.onError(i.status);return}const a=cy(i);if(r===Ja){const c=i.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);l?n.onDone({begin:parseInt(l[1],10),chunk:a}):(Ee('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class uy{constructor(e){this._source=e,this._manager=new ly(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ie(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dy(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new hy(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class dy{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ks(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...l]=a.split(": ");return[c,l.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:s}=$f({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Gf(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ki(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class hy{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=ks(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Ki(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fy=/^[a-z][a-z0-9\-+.]+:/i;function py(o){if(fy.test(o))return new URL(o);const e=Ve.getBuiltinModule("url");return new URL(e.pathToFileURL(o))}class gy{constructor(e){this.source=e,this.url=py(e.url),Ie(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ie(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new my(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new by(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class my{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=Ve.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Ki(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class by{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=Ve.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const wi=Symbol("INITIAL_DATA");class Qf{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:wi}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const n=this.#e[e];if(!n||n.data===wi)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==wi}delete(e){const t=this.#e[e];return!t||t.data===wi?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==wi&&(yield[e,t])}}}const yy=1e5,Sd=30;class mt{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#l=null;#c=null;#h=0;#d=0;#f=Object.create(null);#m=[];#g=null;#u=[];#p=new WeakMap;#b=null;static#v=new Map;static#y=new Map;static#T=new WeakMap;static#w=null;static#D=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#d=n.scale*Zt.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:r,pageX:s,pageY:a}=n.rawDims;this.#b=[1,0,0,-1,-s,a+r],this.#o=i,this.#r=r,mt.#U(),Fn(t,n),this.#e.promise.finally(()=>{mt.#D.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ut.platform;return Fe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#l.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#C(t.items),e()},this.#e.reject)};return this.#l=this.#g.getReader(),mt.#D.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Zt.pixelRatio,i=e.rotation;if(i!==this.#h&&(t?.(),this.#h=i,Fn(this.#c,{rotation:i})),n!==this.#d){t?.(),this.#d=n;const r={div:null,properties:null,ctx:mt.#F(this.#a)};for(const s of this.#u)r.properties=this.#p.get(s),r.div=s,this.#A(r)}}cancel(){const e=new fn("TextLayer task cancelled.");this.#l?.cancel(e).catch(()=>{}),this.#l=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#C(e){if(this.#i)return;this.#s.ctx??=mt.#F(this.#a);const t=this.#u,n=this.#m;for(const i of e){if(t.length>yy){Ee("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const r=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),r.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(i.str),this.#x(i)}}#x(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const i=be.transform(this.#b,e.transform);let r=Math.atan2(i[1],i[0]);const s=this.#f[e.fontName];s.vertical&&(r+=Math.PI/2);let a=this.#n&&s.fontSubstitution||s.fontFamily;a=mt.fontFamilyMap.get(a)||a;const c=Math.hypot(i[2],i[3]),l=c*mt.#L(a,s,this.#a);let u,d;r===0?(u=i[4],d=i[5]-l):(u=i[4]+l*Math.sin(r),d=i[5]-l*Math.cos(r));const h="calc(var(--total-scale-factor) *",f=t.style;this.#t===this.#c?(f.left=`${(100*u/this.#o).toFixed(2)}%`,f.top=`${(100*d/this.#r).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(mt.#w*c).toFixed(2)}px)`,f.fontFamily=a,n.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const p=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);p!==g&&Math.max(p,g)/Math.min(p,g)>1.5&&(b=!0)}if(b&&(n.canvasWidth=s.vertical?e.height:e.width),this.#p.set(t,n),this.#s.div=t,this.#s.properties=n,this.#A(this.#s),n.hasText&&this.#t.append(t),n.hasEOL){const p=document.createElement("br");p.setAttribute("role","presentation"),this.#t.append(p)}}#A(e){const{div:t,properties:n,ctx:i}=e,{style:r}=t;let s="";if(mt.#w>1&&(s=`scale(${1/mt.#w})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:a}=r,{canvasWidth:c,fontSize:l}=n;mt.#S(i,l*this.#d,a);const{width:u}=i.measureText(t.textContent);u>0&&(s=`scaleX(${c*this.#d/u}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(r.transform=s)}static cleanup(){if(!(this.#D.size>0)){this.#v.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#F(e=null){let t=this.#y.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#T.set(t,{size:0,family:""})}return t}static#S(e,t,n){const i=this.#T.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#U(){if(this.#w!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#w=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const i=this.#v.get(e);if(i)return i;const r=this.#F(n);r.canvas.width=r.canvas.height=Sd,this.#S(r,Sd,e);const s=r.measureText(""),a=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let l=.8;return a?l=a/(a+c):(ut.platform.isFirefox&&Ee("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),this.#v.set(e,l),l}}const vy=100;function Jf(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const e=new Sc,{docId:t}=e,n=o.url?Eb(o.url):null,i=o.data?Cb(o.data):null,r=o.httpHeaders||null,s=o.withCredentials===!0,a=o.password??null,c=o.range instanceof ep?o.range:null,l=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:2**16;let u=o.worker instanceof ct?o.worker:null;const d=o.verbosity,h=typeof o.docBaseUrl=="string"&&!Us(o.docBaseUrl)?o.docBaseUrl:null,f=gr(o.cMapUrl),b=o.cMapPacked!==!1,p=o.CMapReaderFactory||(bt?Ib:pd),g=gr(o.iccUrl),m=gr(o.standardFontDataUrl),y=o.StandardFontDataFactory||(bt?Mb:gd),v=gr(o.wasmUrl),_=o.WasmFactory||(bt?Lb:md),x=o.stopAtErrors!==!0,D=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,A=o.isEvalSupported!==!1,S=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!bt,E=typeof o.isImageDecoderSupported=="boolean"?o.isImageDecoderSupported:!bt&&(ut.platform.isFirefox||!globalThis.chrome),R=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,q=typeof o.disableFontFace=="boolean"?o.disableFontFace:bt,C=o.fontExtraProperties===!0,N=o.enableXfa===!0,T=o.ownerDocument||globalThis.document,W=o.disableRange===!0,k=o.disableStream===!0,B=o.disableAutoFetch===!0,H=o.pdfBug===!0,z=o.CanvasFactory||(bt?Nb:kb),ee=o.FilterFactory||(bt?Bb:Rb),O=o.enableHWA===!0,$=o.useWasm!==!1,X=c?c.length:o.length??NaN,ne=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!bt&&!q,ie=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:!!(p===pd&&y===gd&&_===md&&f&&m&&v&&Ei(f,document.baseURI)&&Ei(m,document.baseURI)&&Ei(v,document.baseURI)),ue=null;eb(d);const oe={canvasFactory:new z({ownerDocument:T,enableHWA:O}),filterFactory:new ee({docId:t,ownerDocument:T}),cMapReaderFactory:ie?null:new p({baseUrl:f,isCompressed:b}),standardFontDataFactory:ie?null:new y({baseUrl:m}),wasmFactory:ie?null:new _({baseUrl:v})};u||(u=ct.create({verbosity:d,port:ni.workerPort}),e._worker=u);const le={docId:t,apiVersion:"5.4.394",data:i,password:a,disableAutoFetch:B,rangeChunkSize:l,length:X,docBaseUrl:h,enableXfa:N,evaluatorOptions:{maxImageSize:D,disableFontFace:q,ignoreErrors:x,isEvalSupported:A,isOffscreenCanvasSupported:S,isImageDecoderSupported:E,canvasMaxAreaInBytes:R,fontExtraProperties:C,useSystemFonts:ne,useWasm:$,useWorkerFetch:ie,cMapUrl:f,iccUrl:g,standardFontDataUrl:m,wasmUrl:v}},fe={ownerDocument:T,pdfBug:H,styleElement:ue,loadingParams:{disableAutoFetch:B,enableXfa:N}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ge=u.messageHandler.sendWithPromise("GetDocRequest",le,i?[i.buffer]:null);let xe;if(c)xe=new ty(c,{disableRange:W,disableStream:k});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ae=Ei(n)?sy:bt?gy:uy;xe=new Ae({url:n,length:X,httpHeaders:r,withCredentials:s,rangeChunkSize:l,disableRange:W,disableStream:k})}return ge.then(Ae=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ke=new Ci(t,Ae,u.port),w=new _y(ke,e,xe,fe,oe,O);e._transport=w,ke.send("Ready",null)})}).catch(e._capability.reject),e}class Sc{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Sc.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class ep{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#a)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#n)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){qe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Fe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Dy{#e=!1;constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new od:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Qf,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new $i({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Fe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:r=un.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:b=null}){this._stats?.time("Overall");const p=this._transport.getRenderingIntent(i,r,d,h),{renderingIntent:g,cacheKey:m}=p;this.#e=!1,c||=this._transport.getOptionalContentConfig(g);let y=this._intentStates.get(m);y||(y=Object.create(null),this._intentStates.set(m,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=!!(g&Ut.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(p));const _=!!(this._pdfBug&&globalThis.StepperManager?.enabled),x=!this.recordedBBoxes&&(f||_),D=E=>{if(y.renderTasks.delete(A),x){const R=A.gfx?.dependencyTracker.take();R&&(A.stepper&&A.stepper.setOperatorBBoxes(R,A.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=R))}v&&(this.#e=!0),this.#t(),E?(A.capability.reject(E),this._abortOperatorList({intentState:y,reason:E instanceof Error?E:new Error(E)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new Kn({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:x?new Ob(t,y.operatorList.length,_):null,viewport:n,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:b});(y.renderTasks||=new Set).add(A);const S=A.task;return Promise.all([y.displayReadyCapability.promise,c]).then(([E,R])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:E,optionalContentConfig:R}),A.operatorListChanged()}).catch(D),S}getOperatorList({intent:e="display",annotationMode:t=un.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(e,t,n,i,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Oi.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function r(){s.read().then(function({value:c,done:l}){if(l){n(a);return}a.lang??=c.lang,Object.assign(a.styles,c.styles),a.items.push(...c.items),r()},i)}const s=t.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new od),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:s}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=c;const u=()=>{c.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();this.#t()}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof xc){let i=vy;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new fn(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class ct{#e=Promise.withResolvers();#t=null;#i=null;#n=null;static#a=0;static#s=!1;static#r=new WeakMap;static{bt&&(this.#s=!0,ni.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},this.fromPort=e=>{if(fb("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:t=null,verbosity:n=tb()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(ct.#r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");ct.#r.set(t,this),this.#l(t)}else this.#c()}get promise(){return this.#e.promise}#o(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#i}get messageHandler(){return this.#t}#l(e){this.#i=e,this.#t=new Ci("main","worker",e),this.#t.on("ready",()=>{}),this.#o()}#c(){if(ct.#s||ct.#d){this.#h();return}let{workerSrc:e}=ct;try{ct._isSameOrigin(window.location,e)||(e=ct._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ci("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#h()},r=new AbortController;t.addEventListener("error",()=>{this.#n||i()},{signal:r.signal}),n.on("test",a=>{if(r.abort(),this.destroyed||!a){i();return}this.#t=n,this.#i=t,this.#n=t,this.#o()}),n.on("ready",a=>{if(r.abort(),this.destroyed){i();return}try{s()}catch{this.#h()}});const s=()=>{const a=new Uint8Array;n.send("test",a,[a.buffer])};s();return}catch{Ss("The worker has been disabled.")}this.#h()}#h(){ct.#s||(Ee("Setting up fake worker."),ct.#s=!0),ct._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this.#e.reject(new Error("Worker was destroyed"));return}const t=new Fb;this.#i=t;const n=`fake${ct.#a++}`,i=new Ci(n+"_worker",n,t);e.setup(i,t),this.#t=new Ci(n,n+"_worker",t),this.#o()}).catch(e=>{this.#e.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#n?.terminate(),this.#n=null,ct.#r.delete(this.#i),this.#i=null,this.#t?.destroy(),this.#t=null}static create(e){const t=this.#r.get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ct(e)}static get workerSrc(){if(ni.workerSrc)return ni.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#d(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Fe(this,"_setupFakeWorkerGlobal",(async()=>this.#d?this.#d:(await import(this.workerSrc)).WorkerMessageHandler)())}}class _y{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#a=null;constructor(e,t,n,i,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Qf,this.fontLoader=new Ab({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}#s(e,t=null){const n=this.#e.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return Fe(this,"annotationStorage",new Ac)}getRenderingIntent(e,t=un.ENABLE,n=null,i=!1,r=!1){let s=Ut.DISPLAY,a=fo;switch(e){case"any":s=Ut.ANY;break;case"display":break;case"print":s=Ut.PRINT;break;default:Ee(`getRenderingIntent - invalid intent: ${e}`)}const c=s&Ut.PRINT&&n instanceof Wf?n:this.annotationStorage;switch(t){case un.DISABLE:s+=Ut.ANNOTATIONS_DISABLE;break;case un.ENABLE:break;case un.ENABLE_FORMS:s+=Ut.ANNOTATIONS_FORMS;break;case un.ENABLE_STORAGE:s+=Ut.ANNOTATIONS_STORAGE,a=c.serializable;break;default:Ee(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=Ut.IS_EDITING),r&&(s+=Ut.OPLIST);const{ids:l,hash:u}=c.modifiedIds,d=[s,a.hash,u];return{renderingIntent:s,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),mt.cleanup(),this._networkStream?.cancelAllRequests(new fn("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Ie(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:s}){if(s){i.close();return}Ie(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:s}=this._fullReader;return(!i||!r)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{t.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{Ie(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:s,done:a}){if(a){i.close();return}Ie(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{r.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new xy(n,this))}),e.on("DocException",n=>{t._capability.reject(_t(n))}),e.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw _t(n);const i=r=>{r instanceof Error?this.#a.reject(r):this.#a.resolve({password:r})};t.onPassword(i,n.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,r])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in r){const d=r.error;Ee(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const s=new je(r),a=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,c=new Tb(s,a,r.extra,r.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:l}=r;Ie(l,"The imageRef must be defined.");for(const d of this.#t.values())for(const[,h]of d.objs)if(h?.ref===l)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,r);break;case"Pattern":const u=new rt(r);this.commonObjs.resolve(n,u.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,r,s])=>{if(this.destroyed)return;const a=this.#t.get(i);if(!a.objs.has(n)){if(a._intentStates.size===0){s?.bitmap?.close();return}switch(r){case"Image":case"Pattern":a.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ee("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#i.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#n.set(r.refStr,e);const s=new Dy(t,r,this,this._params.pdfBug);return this.#t.set(t,s),s});return this.#i.set(t,i),i}getPageIndex(e){return po(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new ey(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new Qb(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),mt.cleanup()}}cachedPageNumber(e){if(!po(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class wy{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Kn{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:s,pageIndex:a,canvasFactory:c,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:b=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=l,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new wy(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=f,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Kn.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Kn.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:r,dependencyTracker:s}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ti(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Kn.#t.delete(this._canvas),e||=new xc(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Kn.#t.delete(this._canvas),this.callback())))}}const Ay="5.4.394",Ty="2cc809ade";class Lt{#e=null;#t=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#l=null;#c=null;static#h=null;static get _keyboardManager(){return Fe(this,"_keyboardManager",new Yi([[["Escape","mac+Escape"],Lt.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Lt.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Lt.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Lt.prototype._moveToPrevious],[["Home","mac+Home"],Lt.prototype._moveToBeginning],[["End","mac+End"],Lt.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#r=e):this.#s=!0,this.#c=e?._uiManager||t,this.#o=this.#c._eventBus,this.#i=e?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",Lt.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#c._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#m.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,e.append(n),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",Ot,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,i]of this.#c.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",Lt.#h[n]);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.ariaSelected=i===this.#i,r.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#m.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Ne.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#p){this.#g(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#g(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#p){this.#g(e);return}this.#n.lastChild?.focus()}#m(e){Lt._keyboardManager.exec(this,e)}#g(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#c.combinedSignal(this.#l)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#c.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Wi{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,Wi.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:n}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Wi.#n[e]),i.addEventListener("input",()=>{this.#i.updateParams(t,i.value)},{signal:this.#i._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function Ud(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function Ai(o){return Math.max(0,Math.min(255,255*o))}class Fd{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ai(e),[e,e,e]}static G_HTML([e]){const t=Ud(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Ai)}static RGB_HTML(e){return`#${e.map(Ud).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Ai(1-Math.min(1,e+i)),Ai(1-Math.min(1,n+i)),Ai(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,s=1-n,a=Math.min(i,r,s);return["CMYK",i,r,s,a]}}class Ey{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){qe("Abstract method `_createSVG` called.")}}class ts extends Ey{_createSVG(e){return document.createElementNS(tn,e)}}const Cy=9,kn=new WeakSet,Sy=new Date().getTimezoneOffset()*60*1e3;class eo{static create(e){switch(e.data.annotationType){case tt.LINK:return new Uc(e);case tt.TEXT:return new Fy(e);case tt.WIDGET:switch(e.data.fieldType){case"Tx":return new ky(e);case"Btn":return e.data.radioButton?new tp(e):e.data.checkBox?new By(e):new Ny(e);case"Ch":return new Iy(e);case"Sig":return new Ry(e)}return new Ln(e);case tt.POPUP:return new bo(e);case tt.FREETEXT:return new np(e);case tt.LINE:return new Ly(e);case tt.SQUARE:return new Py(e);case tt.CIRCLE:return new Oy(e);case tt.POLYLINE:return new ip(e);case tt.CARET:return new jy(e);case tt.INK:return new Fc(e);case tt.POLYGON:return new Wy(e);case tt.HIGHLIGHT:return new rp(e);case tt.UNDERLINE:return new qy(e);case tt.SQUIGGLY:return new zy(e);case tt.STRIKEOUT:return new Hy(e);case tt.STAMP:return new sp(e);case tt.FILEATTACHMENT:return new Vy(e);default:return new Ke(e)}}}class Ke{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ke._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let r=-1/0,s=-1/0;if(t?.length>=8){for(let a=0;a<t.length;a+=8)t[a+1]>s?(s=t[a+1],r=t[a+2]):t[a+1]===s&&(r=Math.max(r,t[a+2]));return[r,s]}if(n?.length>=1){for(const a of n)for(let c=0,l=a.length;c<l;c+=2)a[c+1]>s?(s=a[c+1],r=a[c]):a[c+1]===s&&(r=Math.max(r,a[c]));if(r!==1/0)return[r,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/n,e[1]=100*(e[1]-s)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Li}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Li}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#n(t);let i=this.#i?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=this.#i.popup),i&&(i.updateEdited(e),n?.deleted&&(i.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:c}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-a)/r}%`,t.top=`${100*(s-e[3]+c)/s}%`,i===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof Ln)&&!(this instanceof Uc)&&(r.tabIndex=0);const{style:s}=r;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof bo){const{rotation:p}=t;return!t.hasOwnCanvas&&p!==0&&this.setRotation(p,r),r}const{width:a,height:c}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const p=t.borderStyle.horizontalCornerRadius,g=t.borderStyle.verticalCornerRadius;if(p>0||g>0){const y=`calc(${p}px * var(--total-scale-factor)) / calc(${g}px * var(--total-scale-factor))`;s.borderRadius=y}else if(this instanceof tp){const y=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=y}switch(t.borderStyle.style){case Hn.SOLID:s.borderStyle="solid";break;case Hn.DASHED:s.borderStyle="dashed";break;case Hn.BEVELED:Ee("Unimplemented border style: beveled");break;case Hn.INSET:Ee("Unimplemented border style: inset");break;case Hn.UNDERLINE:s.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(this.#t=!0,s.borderColor=be.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):s.borderWidth=0}const l=be.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=i.rawDims;s.left=`${100*(l[0]-h)/u}%`,s.top=`${100*(l[1]-f)/d}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(s.width=`${100*a/u}%`,s.height=`${100*c/d}%`):this.setRotation(b,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:s}=this;e%180!==0&&([r,s]=[s,r]),t.style.width=`${100*r/n}%`,t.style.height=`${100*s/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const r=i.detail[t],s=r[0],a=r.slice(1);i.target.style[n]=Fd[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:Fd[`${s}_rgb`](a)})};return Fe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||n[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const s=n[i];if(s){const a={detail:{[i]:r},target:e};s(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,g,m,y]=e.subarray(2,6);if(i===p&&r===g&&t===m&&n===y)return}const{style:s}=this.container;let a;if(this.#t){const{borderColor:p,borderWidth:g}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${g}">`],this.container.classList.add("hasBorder")}const c=i-t,l=r-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),b=`clippath_${this.data.id}`;f.setAttribute("id",b),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let p=2,g=e.length;p<g;p+=8){const m=e[p],y=e[p+1],v=e[p+2],_=e[p+3],x=u.createElement("rect"),D=(v-t)/c,A=(r-y)/l,S=(m-v)/c,E=(y-_)/l;x.setAttribute("x",D),x.setAttribute("y",A),x.setAttribute("width",S),x.setAttribute("height",E),f.append(x),a?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${A}" width="${S}" height="${E}"/>`)}this.#t&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate),this.#i=new bo({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){qe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:s,exportValues:a}of i){if(r===-1||s===t)continue;const c=typeof a=="string"?a:null,l=document.querySelector(`[data-element-id="${s}"]`);if(l&&!kn.has(l)){Ee(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:c,domElement:l})}return n}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,s=i.getAttribute("data-element-id");s!==t&&kn.has(i)&&n.push({id:s,exportValue:r,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Uy extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class Uc extends Ke{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#i(n,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=n,this.container.append(n)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#i(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ee('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:i,refs:r,include:s}=t,a=[];if(i.length!==0||r.length!==0){const u=new Set(r);for(const d of i){const h=this._fieldObjects[d]||[];for(const{id:f}of h)u.add(f)}for(const d of Object.values(this._fieldObjects))for(const h of d)u.has(h.id)===s&&a.push(h)}else for(const u of Object.values(this._fieldObjects))a.push(...u);const c=this.annotationStorage,l=[];for(const u of a){const{id:d}=u;switch(l.push(d),u.type){case"text":{const f=u.defaultValue||"";c.setValue(d,{value:f});break}case"checkbox":case"radiobutton":{const f=u.defaultValue===u.exportValues;c.setValue(d,{value:f});break}case"combobox":case"listbox":{const f=u.defaultValue||"";c.setValue(d,{value:f});break}default:continue}const h=document.querySelector(`[data-element-id="${d}"]`);if(h){if(!kn.has(h)){Ee(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;h.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class Fy extends Ke{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Ln extends Ke{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ut.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(s)}})})}_setEventListeners(e,t,n,i){for(const[r,s]of n)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,r,s,i),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":be.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Cy,r=e.style;let s;const a=2,c=l=>Math.round(10*l)/10;if(this.data.multiLine){const l=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(l/(Xa*i))||1,d=l/u;s=Math.min(i,c(d/Xa))}else{const l=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,c(l/Xa))}r.fontSize=`calc(${s}px * var(--total-scale-factor))`,r.color=be.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class ky extends Ln{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),r.setValue(s.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let a=i.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",a??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),kn.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:l,datetimeType:u,timeStep:d}=this.data,h=!!u&&this.enableScripting;l&&(n.title=l),this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",b=>{const p=this.data.defaultFieldValue??"";n.value=c.userValue=p,c.formattedValue=null});let f=b=>{const{formattedValue:p}=c;p!=null&&(b.target.value=p),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{if(c.focused)return;const{target:g}=p;if(h&&(g.type=u,d&&(g.step=d)),c.userValue){const m=c.userValue;if(h)if(u==="time"){const y=new Date(m),v=[y.getHours(),y.getMinutes(),y.getSeconds()];g.value=v.map(_=>_.toString().padStart(2,"0")).join(":")}else g.value=new Date(m-Sy).toISOString().split(u==="date"?"T":".",1)[0];else g.value=m}c.lastCommittedValue=g.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){c.userValue=m.detail.value??"",h||e.setValue(t,{value:c.userValue.toString()}),m.target.value=c.userValue},formattedValue(m){const{formattedValue:y}=m.detail;c.formattedValue=y,y!=null&&m.target!==document.activeElement&&(m.target.value=y);const v={formattedValue:y};h&&(v.value=y),e.setValue(t,v)},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{const{charLimit:y}=m.detail,{target:v}=m;if(y===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",y);let _=c.userValue;!_||_.length<=y||(_=_.slice(0,y),v.value=c.userValue=_,e.setValue(t,{value:_}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),n.addEventListener("keydown",p=>{c.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(c.commitKey=3),g===-1)return;const{value:m}=p.target;c.lastCommittedValue!==m&&(c.lastCommittedValue=m,c.userValue=m,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const b=f;f=null,n.addEventListener("blur",p=>{if(!c.focused||!p.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:g}=p;let{value:m}=g;if(h){if(m&&u==="time"){const y=m.split(":").map(v=>parseInt(v,10));m=new Date(2e3,0,1,y[0],y[1],y[2]||0).valueOf(),g.step=""}else m.includes("T")||(m=`${m}T00:00`),m=new Date(m).valueOf();g.type="text"}c.userValue=m,c.lastCommittedValue!==m&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}),b(p)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",p=>{c.lastCommittedValue=null;const{data:g,target:m}=p,{value:y,selectionStart:v,selectionEnd:_}=m;let x=v,D=_;switch(p.inputType){case"deleteWordBackward":{const A=y.substring(0,v).match(/\w*[^\w]*$/);A&&(x-=A[0].length);break}case"deleteWordForward":{const A=y.substring(v).match(/^[^\w]*\w*/);A&&(D+=A[0].length);break}case"deleteContentBackward":v===_&&(x-=1);break;case"deleteContentForward":v===_&&(D+=1);break}p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,change:g||"",willCommit:!1,selStart:x,selEnd:D}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Ry extends Ln{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class By extends Ln{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return kn.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",s=>{const{name:a,checked:c}=s.target;for(const l of this._getElementsByName(a,n)){const u=c&&l.exportValue===t.exportValue;l.domElement&&(l.domElement.checked=u),e.setValue(l.id,{value:u})}e.setValue(n,{value:c})}),r.addEventListener("resetform",s=>{const a=t.defaultFieldValue||"Off";s.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",s=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class tp extends Ln{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const r=document.createElement("input");if(kn.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",s=>{const{name:a,checked:c}=s.target;for(const l of this._getElementsByName(a,n))e.setValue(l.id,{value:!1});e.setValue(n,{value:c})}),r.addEventListener("resetform",s=>{const a=t.defaultFieldValue;s.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;r.addEventListener("updatefromsandbox",a=>{const c={value:l=>{const u=s===l.detail.value;for(const d of this._getElementsByName(l.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ny extends Uc{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Iy extends Ln{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");kn.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),i.append(d)}let s=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),s=()=>{u.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,b=>b.selected).map(b=>b[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let c=a(!1);const l=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){s?.();const f=h.detail.value,b=new Set(Array.isArray(f)?f:[f]);for(const p of i.options)p.selected=b.has(p.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,b=h.detail.remove;f[b].selected=!1,i.remove(b),f.length>0&&Array.prototype.findIndex.call(f,g=>g.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:l(h)}),c=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(h){const{index:f,displayValue:b,exportValue:p}=h.detail.insert,g=i.children[f],m=document.createElement("option");m.textContent=b,m.value=p,g?g.before(m):i.append(m),e.setValue(t,{value:a(!0),items:l(h)}),c=a(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const b of f){const{displayValue:p,exportValue:g}=b,m=document.createElement("option");m.textContent=p,m.value=g,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(h)}),c=a(!1)},indices(h){const f=new Set(h.detail.indices);for(const b of h.target.options)b.selected=f.has(b.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{const d=a(!0),h=a(!1);e.setValue(t,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class bo extends Ke{constructor(e){const{data:t,elements:n,parent:i}=e,r=!!i._commentManager;if(super(e,{isRenderable:!r&&Ke._hasPopupData(t)}),this.elements=n,r&&Ke._hasPopupData(t)){const s=this.popup=this.#e();for(const a of n)a.popup=s}else this.popup=null}#e(){return new My({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${Gn}${i}`).join(",")),this.container}}class My{#e=null;#t=this.#H.bind(this);#i=this.#O.bind(this);#n=this.#B.bind(this);#a=this.#_.bind(this);#s=null;#r=null;#o=null;#l=null;#c=null;#h=null;#d=null;#f=!1;#m=null;#g=null;#u=null;#p=null;#b=null;#v=null;#y=null;#T=null;#w=null;#D=null;#C=!1;#x=null;#A=null;constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:s,richText:a,parent:c,rect:l,parentRect:u,open:d,commentManager:h=null}){this.#r=e,this.#w=i,this.#o=s,this.#T=a,this.#h=c,this.#s=t,this.#y=l,this.#d=u,this.#c=n,this.#e=h,this.#x=n[0],this.#l=lo.toDateObject(r),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),h||(this.#F(),this.#r.hidden=!0,d&&this.#_())}#F(){if(this.#g)return;this.#g=new AbortController;const{signal:e}=this.#g;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#c)t.container?.addEventListener("keydown",this.#t,{signal:e})}#S(){const e=this.#c.find(t=>t.hasCommentButton);e&&(this.#b=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#b||this.#S(),!this.#b)return;const{signal:e}=this.#g=new AbortController,t=this.#x.hasOwnCommentButton,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#x.container;for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",this.#t,{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",r,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=this.#p=document.createElement("button");s.className="annotationCommentButton";const a=this.#x.container;s.style.zIndex=a.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#U(),s.addEventListener("keydown",this.#t,{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",r,{signal:e}),a.after(s)}}#U(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#b,{style:n}=this.#p;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#L(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#x.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:r}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:r}}get elementBeforePopup(){return this.#p}get comment(){return this.#A||=this.#x.commentText,this.#A}set comment(e){e!==this.comment&&(this.#x.commentText=this.#A=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:t,height:n}=this.#p.getBoundingClientRect(),{x:i,y:r,width:s,height:a}=this.#x.layer.getBoundingClientRect();return[(e-i)/s,(t+n-r)/a]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#b}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#v||this.commentButtonPosition.map(l=>l/100),i=this.parentBoundingClientRect,{x:r,y:s,width:a,height:c}=i;this.#e.showDialog(null,this,r+t*a,s+n*c,{...e,parentDimensions:i})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#s){const n=e.style.outlineColor=be.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#w?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#w}if(e.append(t),this.#l){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),n.dateTime=this.#l.toISOString(),t.append(n)}Mf({html:this.#R||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#R(){const e=this.#T,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#T.html||null}get#N(){return this.#R?.attributes?.style?.fontSize||0}get#P(){return this.#R?.attributes?.style?.color||null}#I(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#P,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return n}#H(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#_()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#A=null):t&&(t.deleted?this.remove():(this.#L(),this.#A=t.text)),e&&(this.#b=null,this.#S(),this.#U());return}if(n||t?.deleted){this.remove();return}this.#F(),this.#D||={contentsObj:this.#o,richText:this.#T},e&&(this.#u=null),t&&t.text&&(this.#T=this.#I(t.text),this.#l=lo.toDateObject(t.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#D&&({contentsObj:this.#o,richText:this.#T}=this.#D,this.#D=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#C=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=this.#h;let s=!!this.#d,a=s?this.#d:this.#y;for(const b of this.#c)if(!a||be.intersect(b.data.rect,a)!==null){a=b.data.rect,s=!0;break}const c=be.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=s?a[2]-a[0]+5:0,d=c[0]+u,h=c[1];this.#u=[100*(d-i)/t,100*(h-r)/n];const{style:f}=this.#r;f.left=`${this.#u[0]}%`,f.top=`${this.#u[1]}%`}#_(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#B(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#O(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#B(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#E(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#O(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#F(),this.#C&&(this.#m||this.#B(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class np extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ce.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Ly extends Ke{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=this.#e=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Py extends Ke{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Oy extends Ke{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ip extends Ke{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:r,height:s}=this;if(!t)return this.container;const a=this.svgFactory.create(r,s,!0);let c=[];for(let u=0,d=t.length;u<d;u+=2){const h=t[u]-e[0],f=e[3]-t[u+1];c.push(`${h},${f}`)}c=c.join(" ");const l=this.#e=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",c),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Wy extends ip{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class jy extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Fc extends Ke{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ce.HIGHLIGHT:Ce.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:s,width:a,height:c}=this.#i(t,e),l=this.svgFactory.create(a,c,!0),u=this.#e=this.svgFactory.createElement("svg:g");l.append(u),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",s);for(let d=0,h=n.length;d<h;d++){const f=this.svgFactory.createElement(this.svgElementName);this.#t.push(f),f.setAttribute("points",n[d].join(",")),u.append(f)}return!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,r=this.#e;if(t>=0&&r.setAttribute("stroke-width",t||1),n)for(let s=0,a=this.#t.length;s<a;s++)this.#t[s].setAttribute("points",n[s].join(","));if(i){const{transform:s,width:a,height:c}=this.#i(this.data.rotation,i);r.parentElement.setAttribute("viewBox",`0 0 ${a} ${c}`),r.setAttribute("transform",s)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class rp extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ce.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class qy extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class zy extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Hy extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class sp extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ce.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Vy extends Ke{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:i}=ut.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(i?r.metaKey:r.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class kc{#e=null;#t=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:s,structTreeLayer:a,commentManager:c,linkService:l,annotationStorage:u}){this.div=e,this.#e=t,this.#t=n,this.#a=a||null,this.#s=l||null,this.#i=u||new Ac,this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,n=this.div;Fn(n,this.viewport);const i=new Map,r=[],s={data:null,layer:n,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ts,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const c=a.annotationType===tt.POPUP;if(c){const d=i.get(a.id);if(!d)continue;if(!this._commentManager){r.push(a);continue}s.elements=d}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const l=eo.create(s);if(!l.isRenderable)continue;if(!c&&(this.#r.push(l),a.popupRef)){const d=i.get(a.popupRef);d?d.push(l):i.set(a.popupRef,[l])}const u=l.render();a.hidden&&(u.style.visibility="hidden"),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}await this.#l();for(const a of r){const c=s.elements=i.get(a.id);s.data=a;const l=eo.create(s);if(!l.isRenderable)continue;const u=l.render();l.contentElement.id=`${Gn}${a.id}`,a.hidden&&(u.style.visibility="hidden"),c.at(-1).container.after(u)}this.#c()}async#l(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:i}}of this.#r){const r=n.id=`${Gn}${i}`;e.push(this.#a?.getAriaAttributes(r).then(s=>{if(s)for(const[a,c]of s)n.setAttribute(a,c)}))}}this.#r.sort(({data:{rect:[n,i,r,s]}},{data:{rect:[a,c,l,u]}})=>{if(n===r&&i===s)return 1;if(a===l&&c===u)return-1;const d=s,h=i,f=(i+s)/2,b=u,p=c,g=(c+u)/2;if(f>=b&&g<=h)return-1;if(g>=d&&f<=p)return 1;const m=(n+r)/2,y=(a+l)/2;return m-y});const t=document.createDocumentFragment();for(const n of this.#r)t.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&t.append(n.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const n of this.#r)this.#e.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new ts,parent:this};for(const n of e){n.borderStyle||=kc._defaultBorderStyle,t.data=n;const i=eo.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${Gn}${n.id}`,this.#r.push(i))}await this.#l()}update({viewport:e}){const t=this.div;this.viewport=e,Fn(t,{rotation:e.rotation}),this.#c(),t.hidden=!1}#c(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n);const s=this.#n.get(t);s&&(s._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,n),s._hasNoCanvas=!1):s.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:i}=e,r=new Uy({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return r.render(),r.contentElement.id=`${Gn}${n}`,r.createOrUpdatePopup(),this.#r.push(r),r}removeAnnotation(e){const t=this.#r.findIndex(i=>i.data.id===e);if(t<0)return;const[n]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#l()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Fe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Hn.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Dr=/\r\n?|\n/g;class st extends _e{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=st.prototype,t=r=>r.isEmpty(),n=pn.TRANSLATE_SMALL,i=pn.TRANSLATE_BIG;return Fe(this,"_keyboardManager",new Yi([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Ce.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||st._defaultColor||_e._defaultLineColor,this.#n=e.fontSize||st._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){_e.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ne.FREETEXT_SIZE:st._defaultFontSize=t;break;case Ne.FREETEXT_COLOR:st._defaultColor=t;break}}updateParams(e,t){switch(e){case Ne.FREETEXT_SIZE:this.#a(t);break;case Ne.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[Ne.FREETEXT_SIZE,st._defaultFontSize],[Ne.FREETEXT_COLOR,st._defaultColor||_e._defaultLineColor]]}get propertiesToUpdate(){return[[Ne.FREETEXT_SIZE,this.#n],[Ne.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Wi(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ne.FREETEXT_COLOR}#a(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},n=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=i=>{this.color=i,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-st._internalPadding*e,-(st._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(st.#l(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:i,div:r}=this,s=r.style.display,a=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",i.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const n=i=>{if(this.#e=i,!i){this.remove();return}this.#c(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){st._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[a,c]=this.getInitialTranslation();[a,c]=this.pageTranslationToScreen(a,c);const[l,u]=this.pageDimensions,[d,h]=this.pageTranslation;let f,b;switch(this.rotation){case 0:f=e+(s[0]-d)/l,b=t+this.height-(s[1]-h)/u;break;case 90:f=e+(s[0]-d)/l,b=t-(s[1]-h)/u,[a,c]=[c,-a];break;case 180:f=e-this.width+(s[0]-d)/l,b=t-(s[1]-h)/u,[a,c]=[-a,-c];break;case 270:f=e+(s[0]-d-this.height*u)/l,b=t+(s[1]-h-this.width*l)/u,[a,c]=[-c,a];break}this.setAt(f*i,b*r,a,c)}else this._moveAfterPaste(e,t);this.#c(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Dr,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const i=st.#d(t.getData("text")||"").replaceAll(Dr,`
`);if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!i.includes(`
`)){s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:a,startOffset:c}=s,l=[],u=[];if(a.nodeType===Node.TEXT_NODE){const f=a.parentElement;if(u.push(a.nodeValue.slice(c).replaceAll(Dr,"")),f!==this.editorDiv){let b=l;for(const p of this.editorDiv.childNodes){if(p===f){b=u;continue}b.push(st.#l(p))}}l.push(a.nodeValue.slice(0,c).replaceAll(Dr,""))}else if(a===this.editorDiv){let f=l,b=0;for(const p of this.editorDiv.childNodes)b++===c&&(f=u),f.push(st.#l(p))}this.#e=`${l.join(`
`)}${i}${u.join(`
`)}`,this.#c();const d=new Range;let h=Math.sumPrecise(l.map(f=>f.length));for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const b=f.nodeValue.length;if(h<=b){d.setStart(f,h),d.setEnd(f,h);break}h-=b}r.removeAllRanges(),r.addRange(d)}#c(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll("¬†"," ")}static#d(e){return e.replaceAll(" ","¬†")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=st._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let i=null;if(e instanceof np){const{data:{defaultAppearanceData:{fontSize:s,fontColor:a},rect:c,rotation:l,id:u,popupRef:d,richText:h,contentsObj:f,creationDate:b,modificationDate:p},textContent:g,textPosition:m,parent:{page:{pageNumber:y}}}=e;if(!g||g.length===0)return null;i=e={annotationType:Ce.FREETEXT,color:Array.from(a),fontSize:s,value:g.join(`
`),position:m,pageIndex:y-1,rect:c.slice(0),rotation:l,annotationElementId:u,id:u,deleted:!1,popupRef:d,comment:f?.str||null,richText:h,creationDate:b,modificationDate:p}}const r=await super.deserialize(e,t,n);return r.#n=e.fontSize,r.color=be.makeHexColor(...e.color),r.#e=st.#d(e.value),r._initialData=i,e.comment&&r.setCommentData(e),r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=_e._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#h()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((s,a)=>s!==i[a])||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const i of this.#e.split(`
`)){const r=document.createElement("div");r.append(i?document.createTextNode(i):document.createElement("br")),t.append(r)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class me{static PRECISION=1e-4;toSVGPath(){qe("Abstract method `toSVGPath` must be implemented.")}get box(){qe("Abstract getter `box` must be implemented.")}serialize(e,t){qe("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,r,s){s||=new Float32Array(e.length);for(let a=0,c=e.length;a<c;a+=2)s[a]=t+e[a]*i,s[a+1]=n+e[a+1]*r;return s}static _rescaleAndSwap(e,t,n,i,r,s){s||=new Float32Array(e.length);for(let a=0,c=e.length;a<c;a+=2)s[a]=t+e[a+1]*i,s[a+1]=n+e[a]*r;return s}static _translate(e,t,n,i){i||=new Float32Array(e.length);for(let r=0,s=e.length;r<s;r+=2)i[r]=t+e[r],i[r+1]=n+e[r+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,r){switch(r){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,r,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+r)/6,(5*i+s)/6,(n+r)/2,(i+s)/2]}}class Cn{#e;#t=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#l;#c;#h;#d;#f=[];static#m=8;static#g=2;static#u=Cn.#m+Cn.#g;constructor({x:e,y:t},n,i,r,s,a=0){this.#e=n,this.#d=r*i,this.#n=s,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=a,this.#c=Cn.#m*i,this.#l=Cn.#u*i,this.#h=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[n,i,r,s]=this.#e;return[(this.#r+(e[0]-t[0])/2-n)/r,(this.#o+(e[1]-t[1])/2-i)/s,(this.#r+(t[0]-e[0])/2-n)/r,(this.#o+(t[1]-e[1])/2-i)/s]}add({x:e,y:t}){this.#r=e,this.#o=t;const[n,i,r,s]=this.#e;let[a,c,l,u]=this.#s.subarray(8,12);const d=e-l,h=t-u,f=Math.hypot(d,h);if(f<this.#l)return!1;const b=f-this.#c,p=b/f,g=p*d,m=p*h;let y=a,v=c;a=l,c=u,l+=g,u+=m,this.#f?.push(e,t);const _=-m/b,x=g/b,D=_*this.#d,A=x*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([l+D,u+A],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([l-D,u-A],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([a+D,c+A],2),this.#a.push(NaN,NaN,NaN,NaN,(a+D-n)/r,(c+A-i)/s),this.#s.set([a-D,c-A],14),this.#t.push(NaN,NaN,NaN,NaN,(a-D-n)/r,(c-A-i)/s)),this.#s.set([y,v,a,c,l,u],6),!this.isEmpty()):(this.#s.set([y,v,a,c,l,u],6),Math.abs(Math.atan2(v-c,y-a)-Math.atan2(m,g))<Math.PI/2?([a,c,l,u]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((a+l)/2-n)/r,((c+u)/2-i)/s),[a,c,y,v]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((y+a)/2-n)/r,((v+c)/2-i)/s),!0):([y,v,a,c,l,u]=this.#s.subarray(0,6),this.#a.push(((y+5*a)/6-n)/r,((v+5*c)/6-i)/s,((5*a+l)/6-n)/r,((5*c+u)/6-i)/s,((a+l)/2-n)/r,((c+u)/2-i)/s),[l,u,a,c,y,v]=this.#s.subarray(12,18),this.#t.push(((y+5*a)/6-n)/r,((v+5*c)/6-i)/s,((5*a+l)/6-n)/r,((5*c+u)/6-i)/s,((a+l)/2-n)/r,((c+u)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#b();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#v(n),n.join(" ")}#b(){const[e,t,n,i]=this.#e,[r,s,a,c]=this.#p();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-t)/i} L${(this.#s[4]-e)/n} ${(this.#s[5]-t)/i} L${r} ${s} L${a} ${c} L${(this.#s[16]-e)/n} ${(this.#s[17]-t)/i} L${(this.#s[14]-e)/n} ${(this.#s[15]-t)/i} Z`}#v(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){const[t,n,i,r]=this.#e,s=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[c,l,u,d]=this.#p();e.push(`L${(s[0]-t)/i} ${(s[1]-n)/r} L${c} ${l} L${u} ${d} L${(a[0]-t)/i} ${(a[1]-n)/r}`)}newFreeDrawOutline(e,t,n,i,r,s){return new ap(e,t,n,i,r,s)}getOutlines(){const e=this.#a,t=this.#t,n=this.#s,[i,r,s,a]=this.#e,c=new Float32Array((this.#f?.length??0)+2);for(let d=0,h=c.length-2;d<h;d+=2)c[d]=(this.#f[d]-i)/s,c[d+1]=(this.#f[d+1]-r)/a;if(c[c.length-2]=(this.#r-i)/s,c[c.length-1]=(this.#o-r)/a,isNaN(n[6])&&!this.isEmpty())return this.#T(c);const l=new Float32Array(this.#a.length+24+this.#t.length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){l[d]=l[d+1]=NaN;continue}l[d]=e[d],l[d+1]=e[d+1]}u=this.#D(l,u);for(let d=t.length-6;d>=6;d-=6)for(let h=0;h<6;h+=2){if(isNaN(t[d+h])){l[u]=l[u+1]=NaN,u+=2;continue}l[u]=t[d+h],l[u+1]=t[d+h+1],u+=2}return this.#w(l,u),this.newFreeDrawOutline(l,c,this.#e,this.#h,this.#i,this.#n)}#T(e){const t=this.#s,[n,i,r,s]=this.#e,[a,c,l,u]=this.#p(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/s,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/s],0),this.newFreeDrawOutline(d,e,this.#e,this.#h,this.#i,this.#n)}#w(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#D(e,t){const n=this.#s.subarray(4,6),i=this.#s.subarray(16,18),[r,s,a,c]=this.#e,[l,u,d,h]=this.#p();return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/a,(n[1]-s)/c,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-s)/c],t),t+=24}}class ap extends me{#e;#t=new Float32Array(4);#i;#n;#a;#s;#r;constructor(e,t,n,i,r,s){super(),this.#r=e,this.#a=t,this.#e=n,this.#s=i,this.#i=r,this.#n=s,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(s);const[a,c,l,u]=this.#t;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/l,e[d+1]=(e[d+1]-c)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/l,t[d+1]=(t[d+1]-c)/u}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,n=this.#r.length;t<n;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,i],r){const s=n-e,a=i-t;let c,l;switch(r){case 0:c=me._rescale(this.#r,e,i,s,-a),l=me._rescale(this.#a,e,i,s,-a);break;case 90:c=me._rescaleAndSwap(this.#r,e,t,s,a),l=me._rescaleAndSwap(this.#a,e,t,s,a);break;case 180:c=me._rescale(this.#r,n,t,-s,a),l=me._rescale(this.#a,n,t,-s,a);break;case 270:c=me._rescaleAndSwap(this.#r,n,i,-s,-a),l=me._rescaleAndSwap(this.#a,n,i,-s,-a);break}return{outline:Array.from(c),points:[Array.from(l)]}}#o(e){const t=this.#r;let n=t[4],i=t[5];const r=[n,i,n,i];let s=n,a=i,c=n,l=i;const u=e?Math.max:Math.min,d=new Float32Array(4);for(let f=6,b=t.length;f<b;f+=6){const p=t[f+4],g=t[f+5];isNaN(t[f])?(be.pointBoundingBox(p,g,r),a>g?(s=p,a=g):a===g&&(s=u(s,p)),l<g?(c=p,l=g):l===g&&(c=u(c,p))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,be.bezierBoundingBox(n,i,...t.slice(f,f+6),d),be.rectBoundingBox(d[0],d[1],d[2],d[3],r),a>d[1]?(s=d[0],a=d[1]):a===d[1]&&(s=u(s,d[0])),l<d[3]?(c=d[2],l=d[3]):l===d[3]&&(c=u(c,d[2]))),n=p,i=g}const h=this.#t;h[0]=r[0]-this.#i,h[1]=r[1]-this.#i,h[2]=r[2]-r[0]+2*this.#i,h[3]=r[3]-r[1]+2*this.#i,this.firstPoint=[s,a],this.lastPoint=[c,l]}get box(){return this.#t}newOutliner(e,t,n,i,r,s=0){return new Cn(e,t,n,i,r,s)}getNewOutline(e,t){const[n,i,r,s]=this.#t,[a,c,l,u]=this.#e,d=r*l,h=s*u,f=n*l+a,b=i*u+c,p=this.newOutliner({x:this.#a[0]*d+f,y:this.#a[1]*h+b},this.#e,this.#s,e,this.#n,t??this.#i);for(let g=2;g<this.#a.length;g+=2)p.add({x:this.#a[g]*d+f,y:this.#a[g+1]*h+b});return p.getOutlines()}}class yo{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,n=0,i=!0){const r=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:p,y:g,width:m,height:y}of e){const v=Math.floor((p-t)/s)*s,_=Math.ceil((p+m+t)/s)*s,x=Math.floor((g-t)/s)*s,D=Math.ceil((g+y+t)/s)*s,A=[v,x,D,!0],S=[_,x,D,!1];this.#n.push(A,S),be.rectBoundingBox(v,x,_,D,r)}const a=r[2]-r[0]+2*n,c=r[3]-r[1]+2*n,l=r[0]-n,u=r[1]-n;let d=i?-1/0:1/0,h=1/0;const f=this.#n.at(i?-1:-2),b=[f[0],f[2]];for(const p of this.#n){const[g,m,y,v]=p;!v&&i?m<h?(h=m,d=g):m===h&&(d=Math.max(d,g)):v&&!i&&(m<h?(h=m,d=g):m===h&&(d=Math.min(d,g))),p[0]=(g-l)/a,p[1]=(m-u)/c,p[2]=(y-u)/c}this.#e=new Float32Array([l,u,a,c]),this.#t=[d,h],this.#i=b}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#c(t)),this.#o(t)):(this.#l(t),e.push(...this.#c(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const s of e){const[a,c,l]=s;t.push([a,c,s],[a,l,s])}t.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=t.length;s<a;s+=2){const c=t[s][2],l=t[s+1][2];c.push(l),l.push(c),n.add(c),n.add(l)}const i=[];let r;for(;n.size>0;){const s=n.values().next().value;let[a,c,l,u,d]=s;n.delete(s);let h=a,f=c;for(r=[a,l],i.push(r);;){let b;if(n.has(u))b=u;else if(n.has(d))b=d;else break;n.delete(b),[a,c,l,u,d]=b,h!==a&&(r.push(h,f,a,f===c?c:l),h=a),f=f===c?l:c}r.push(h,f)}return new Xy(i,this.#e,this.#t,this.#i)}#r(e){const t=this.#a;let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,s=t[r][0];if(s===e)return r;s<e?n=r+1:i=r-1}return i+1}#o([,e,t]){const n=this.#r(e);this.#a.splice(n,0,[e,t])}#l([,e,t]){const n=this.#r(e);for(let i=n;i<this.#a.length;i++){const[r,s]=this.#a[i];if(r!==e)break;if(r===e&&s===t){this.#a.splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,s]=this.#a[i];if(r!==e)break;if(r===e&&s===t){this.#a.splice(i,1);return}}}#c(e){const[t,n,i]=e,r=[[t,n,i]],s=this.#r(i);for(let a=0;a<s;a++){const[c,l]=this.#a[a];for(let u=0,d=r.length;u<d;u++){const[,h,f]=r[u];if(!(l<=h||f<=c)){if(h>=c){if(f>l)r[u][1]=l;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=c,f>l&&r.push([t,l,f])}}}return r}}class Xy extends me{#e;#t;constructor(e,t,n,i){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=i}toSVGPath(){const e=[];for(const t of this.#t){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const s=t[r],a=t[r+1];s===n?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${s}`),n=s)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],r){const s=[],a=n-e,c=i-t;for(const l of this.#t){const u=new Array(l.length);for(let d=0;d<l.length;d+=2)u[d]=e+l[d]*a,u[d+1]=i-l[d+1]*c;s.push(u)}return s}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class vo extends Cn{newFreeDrawOutline(e,t,n,i,r,s){return new $y(e,t,n,i,r,s)}}class $y extends ap{newOutliner(e,t,n,i,r,s=0){return new vo(e,t,n,i,r,s)}}class Qe extends _e{#e=null;#t=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#l=null;#c=null;#h=null;#d=!1;#f=null;#m=null;#g=null;#u="";#p;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ce.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Qe.prototype;return Fe(this,"_keyboardManager",new Yi([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Qe._defaultColor,this.#p=e.thickness||Qe._defaultThickness,this.opacity=e.opacity||Qe._defaultOpacity,this.#i=e.boxes||null,this.#b=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new yo(this.#i,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new yo(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:n}=this.#c;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:i}=this.#s;this.#m=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#c=e;const i=1.5;if(this.#s=e.getNewOutline(this.#p/2+i,.0025),t>=0)this.#h=t,this.#n=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Qe.#A(this.#c.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Qe.#A(this.#s.box,d),path:{d:this.#s.toSVGPath()}})}const[r,s,a,c]=e.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=a,this.height=c;break;case 90:{const[d,h]=this.parentDimensions;this.x=s,this.y=1-r,this.width=a*h/d,this.height=c*d/h;break}case 180:this.x=1-r,this.y=1-s,this.width=a,this.height=c;break;case 270:{const[d,h]=this.parentDimensions;this.x=1-s,this.y=r,this.width=a*h/d,this.height=c*d/h;break}}const{firstPoint:l}=e;this.#f=[(l[0]-r)/a,(l[1]-s)/c];const{lastPoint:u}=this.#s;this.#m=[(u[0]-r)/a,(u[1]-s)/c]}static initialize(e,t){_e.initialize(e,t),Qe._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Ne.HIGHLIGHT_COLOR:Qe._defaultColor=t;break;case Ne.HIGHLIGHT_THICKNESS:Qe._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Ne.HIGHLIGHT_COLOR:this.#T(t);break;case Ne.HIGHLIGHT_THICKNESS:this.#w(t);break}}static get defaultPropertiesToUpdate(){return[[Ne.HIGHLIGHT_COLOR,Qe._defaultColor],[Ne.HIGHLIGHT_THICKNESS,Qe._defaultThickness]]}get propertiesToUpdate(){return[[Ne.HIGHLIGHT_COLOR,this.color||Qe._defaultColor],[Ne.HIGHLIGHT_THICKNESS,this.#p||Qe._defaultThickness],[Ne.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#T(e){const t=(r,s)=>{this.color=r,this.opacity=s,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:t.bind(this,e,Qe._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#w(e){const t=this.#p,n=i=>{this.#p=i,this.#D(i)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Lt({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#U())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#U())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#C():e&&(this.#x(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#D(e){this.#d&&(this.#y({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#x(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#c.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#l&&(this.#l.style.clipPath=this.#n))}static#A([e,t,n,i],r){switch(r){case 90:return[1-t-i,e,i,n];case 180:return[1-e-n,1-t-i,n,i];case 270:return[t,1-e-n,i,n]}return[e,t,n,i]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#d?(e=(e-this.rotation+360)%360,n=Qe.#A(this.#c.box,e)):n=Qe.#A([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#g,{bbox:Qe.#A(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#F.bind(this),{signal:this._uiManager._signal});const t=this.#l=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),Pf(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#F(e){Qe._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#S(!0);break;case 1:case 3:this.#S(!1);break}}#S(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#d||this.#S(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#U(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,r=this.#i,s=new Float32Array(r.length*8);let a=0;for(const{x:c,y:l,width:u,height:d}of r){const h=c*e+n,f=(1-l)*t+i;s[a]=s[a+4]=h,s[a+1]=s[a+3]=f,s[a+2]=s[a+6]=h+u*e,s[a+5]=s[a+7]=f-d*t,a+=8}return s}#R(e){return this.#c.serialize(e,this.#U())}static startHighlighting(e,t,{target:n,x:i,y:r}){const{x:s,y:a,width:c,height:l}=n.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),h=f=>{u.abort(),this.#P(e,f)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",Ze,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Ot,{signal:d}),n.addEventListener("pointermove",this.#N.bind(this,e),{signal:d}),this._freeHighlight=new vo({x:i,y:r},[s,a,c,l],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#P(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof rp){const{data:{quadPoints:b,rect:p,rotation:g,id:m,color:y,opacity:v,popupRef:_,richText:x,contentsObj:D,creationDate:A,modificationDate:S},parent:{page:{pageNumber:E}}}=e;i=e={annotationType:Ce.HIGHLIGHT,color:Array.from(y),opacity:v,quadPoints:b,boxes:null,pageIndex:E-1,rect:p.slice(0),rotation:g,annotationElementId:m,id:m,deleted:!1,popupRef:_,richText:x,comment:D?.str||null,creationDate:A,modificationDate:S}}else if(e instanceof Fc){const{data:{inkLists:b,rect:p,rotation:g,id:m,color:y,borderStyle:{rawWidth:v},popupRef:_,richText:x,contentsObj:D,creationDate:A,modificationDate:S},parent:{page:{pageNumber:E}}}=e;i=e={annotationType:Ce.HIGHLIGHT,color:Array.from(y),thickness:v,inkLists:b,boxes:null,pageIndex:E-1,rect:p.slice(0),rotation:g,annotationElementId:m,id:m,deleted:!1,popupRef:_,richText:x,comment:D?.str||null,creationDate:A,modificationDate:S}}const{color:r,quadPoints:s,inkLists:a,opacity:c}=e,l=await super.deserialize(e,t,n);l.color=be.makeHexColor(...r),l.opacity=c||1,a&&(l.#p=e.thickness),l._initialData=i,e.comment&&l.setCommentData(e);const[u,d]=l.pageDimensions,[h,f]=l.pageTranslation;if(s){const b=l.#i=[];for(let p=0;p<s.length;p+=8)b.push({x:(s[p]-h)/u,y:1-(s[p+1]-f)/d,width:(s[p+2]-s[p])/u,height:(s[p+1]-s[p+5])/d});l.#v(),l.#x(),l.rotate(l.rotation)}else if(a){l.#d=!0;const b=a[0],p={x:b[0]-h,y:d-(b[1]-f)},g=new vo(p,[0,0,u,d],1,l.#p/2,!0,.001);for(let v=0,_=b.length;v<_;v+=2)p.x=b[v]-h,p.y=d-(b[v+1]-f),g.add(p);const{id:m,clipPathId:y}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:g.toSVGPath()}},!0,!0);l.#y({highlightOutlines:g.getOutlines(),highlightId:m,clipPathId:y}),l.#x(),l.rotate(l.parentRotation)}return l}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#L(),outlines:this.#R(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#I(n)?null:(n.id=this.annotationElementId,n)}#I(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,i)=>n!==t[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class op{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){qe("Not implemented")}}class Pe extends _e{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#l())}#s({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#d(e.box)}#r(e,t){const{id:n}=t.drawLayer.draw(Pe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,r]of Object.entries(t))n.has(i)?Object.assign(e[i],r):e[i]=r;return e}static getDefaultDrawingOptions(e){qe("Not implemented")}static get typesMap(){qe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Pe.#i.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,r=i[t],s=a=>{i.updateProperty(t,a);const c=this.#e.updateProperty(t,a);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Pe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Pe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Pe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#l(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#l(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#l(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#c([e,t,n,i]){const{parentDimensions:[r,s],rotation:a}=this;switch(a){case 90:return[t,1-e,n*(s/r),i*(r/s)];case 180:return[1-e,1-t,n,i];case 270:return[1-t,e,n*(s/r),i*(r/s)];default:return[e,t,n,i]}}#h(){const{x:e,y:t,width:n,height:i,parentDimensions:[r,s],rotation:a}=this;switch(a){case 90:return[1-t,e,n*(r/s),i*(s/r)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(r/s),i*(s/r)];default:return[e,t,n,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#c(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:n,height:i,rotation:r,parentRotation:s,parentDimensions:[a,c]}=this;switch((r*4+s)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(a/c),i*(c/a),n*(a/c)];case 5:return[1-t,e,n*(a/c),i*(c/a)];case 6:return[1-e-i*(c/a),1-t,i*(c/a),n*(a/c)];case 7:return[t-n*(a/c),1-e-i*(c/a),n*(a/c),i*(c/a)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(c/a),t,i*(c/a),n*(a/c)];case 13:return[1-t-n*(a/c),e-i*(c/a),n*(a/c),i*(c/a)];case 14:return[1-e,1-t-n*(a/c),i*(c/a),n*(a/c)];case 15:return[t,1-e,n*(a/c),i*(c/a)];default:return[e,t,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Pe._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,r){qe("Not implemented")}static startDrawing(e,t,n,i){const{target:r,offsetX:s,offsetY:a,pointerId:c,pointerType:l}=i;if(Oe.isInitializedAndDifferentPointerType(l))return;const{viewport:{rotation:u}}=e,{width:d,height:h}=r.getBoundingClientRect(),f=Pe.#n=new AbortController,b=e.combinedSignal(f);if(Oe.setPointer(l,c),window.addEventListener("pointerup",p=>{Oe.isSamePointerIdOrRemove(p.pointerId)&&this._endDraw(p)},{signal:b}),window.addEventListener("pointercancel",p=>{Oe.isSamePointerIdOrRemove(p.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",p=>{Oe.isSamePointerType(p.pointerType)&&(Oe.initializeAndAddPointerId(p.pointerId),Pe.#i.isCancellable()&&(Pe.#i.removeLastElement(),Pe.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Ot,{signal:b}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),r.addEventListener("touchmove",p=>{Oe.isSameTimeStamp(p.timeStamp)&&Ze(p)},{signal:b}),e.toggleDrawing(),t._editorUndoBar?.hide(),Pe.#i){e.drawLayer.updateProperties(this._currentDrawId,Pe.#i.startNew(s,a,d,h,u));return}t.updateUIForDefaultProperties(this),Pe.#i=this.createDrawerInstance(s,a,d,h,u),Pe.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Pe.#a.toSVGProperties(),Pe.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Oe.isSameTimeStamp(e.timeStamp),!Pe.#i)return;const{offsetX:t,offsetY:n,pointerId:i}=e;if(Oe.isSamePointerId(i)){if(Oe.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Pe.#i.add(t,n)),Oe.setTimeStamp(e.timeStamp),Ze(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Pe.#i=null,Pe.#a=null,Oe.clearPointerType(),Oe.clearTimeStamp()),Pe.#n&&(Pe.#n.abort(),Pe.#n=null,Oe.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Pe.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Pe.#i,i=this._currentDrawId,r=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,n.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(i,n.removeLastElement())},mustExec:!1,type:Ne.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ne.DRAW_STEP),!Pe.#i.isEmpty()){const{pageDimensions:[n,i],scale:r}=t,s=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Pe.#i.getOutlines(n*r,i*r,r,this._INNER_MARGIN),drawingOptions:Pe.#a,mustBeCommitted:!e});return this._cleanup(!0),s}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,r,s){qe("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=t.viewport,c=this.deserializeDraw(s,a,i,r,this._INNER_MARGIN,e),l=await super.deserialize(e,t,n);return l.createDrawingOptions(e),l.#s({drawOutlines:c}),l.#l(),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,n]=this.pageTranslation,[i,r]=this.pageDimensions;return this.#e.serialize([t,n,i,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Gy{#e=new Float64Array(6);#t;#i;#n;#a;#s;#r="";#o=0;#l=new Zi;#c;#h;constructor(e,t,n,i,r,s){this.#c=n,this.#h=i,this.#n=r,this.#a=s,[e,t]=this.#d(e,t);const a=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#i=[{line:a,points:this.#s}],this.#e.set(a,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return me._normalizePoint(e,t,this.#c,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#d(e,t);const[n,i,r,s]=this.#e.subarray(2,6),a=e-r,c=t-s;return Math.hypot(this.#c*a,this.#h*c)<=2?null:(this.#s.push(e,t),isNaN(n)?(this.#e.set([r,s,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,i,r,s,e,t],0),this.#t.push(...me.createBezierPoints(n,i,r,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,r){this.#c=n,this.#h=i,this.#n=r,[e,t]=this.#d(e,t);const s=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const a=this.#i.at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),this.#i.push({line:s,points:this.#s}),this.#e.set(s,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#l.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:n,points:i}=this.#i[e];this.#t=n,this.#s=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=me.svgRound(this.#t[4]),t=me.svgRound(this.#t[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#s.length<=6){const i=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,i)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const i=me.svgRound(this.#t[10]),r=me.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${i} ${r}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let i=this.#o,r=this.#t.length;i<r;i+=6){const[s,a,c,l,u,d]=this.#t.slice(i,i+6).map(me.svgRound);n.push(`C${s} ${a} ${c} ${l} ${u} ${d}`)}return this.#r+=n.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,n,i){const r=this.#i.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#l.build(this.#i,e,t,n,this.#n,this.#a,i),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Zi extends me{#e;#t=0;#i;#n;#a;#s;#r;#o;#l;build(e,t,n,i,r,s,a){this.#a=t,this.#s=n,this.#r=i,this.#o=r,this.#l=s,this.#i=a??0,this.#n=e,this.#d()}get thickness(){return this.#l}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${me.svgRound(t[4])} ${me.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${me.svgRound(t[10])} ${me.svgRound(t[11])}`);continue}for(let n=6,i=t.length;n<i;n+=6){const[r,s,a,c,l,u]=t.subarray(n,n+6).map(me.svgRound);e.push(`C${r} ${s} ${a} ${c} ${l} ${u}`)}}return e.join("")}serialize([e,t,n,i],r){const s=[],a=[],[c,l,u,d]=this.#h();let h,f,b,p,g,m,y,v,_;switch(this.#o){case 0:_=me._rescale,h=e,f=t+i,b=n,p=-i,g=e+c*n,m=t+(1-l-d)*i,y=e+(c+u)*n,v=t+(1-l)*i;break;case 90:_=me._rescaleAndSwap,h=e,f=t,b=n,p=i,g=e+l*n,m=t+c*i,y=e+(l+d)*n,v=t+(c+u)*i;break;case 180:_=me._rescale,h=e+n,f=t,b=-n,p=i,g=e+(1-c-u)*n,m=t+l*i,y=e+(1-c)*n,v=t+(l+d)*i;break;case 270:_=me._rescaleAndSwap,h=e+n,f=t+i,b=-n,p=-i,g=e+(1-l-d)*n,m=t+(1-c-u)*i,y=e+(1-l)*n,v=t+(1-c)*i;break}for(const{line:x,points:D}of this.#n)s.push(_(x,h,f,b,p,r?new Array(x.length):null)),a.push(_(D,h,f,b,p,r?new Array(D.length):null));return{lines:s,points:a,rect:[g,m,y,v]}}static deserialize(e,t,n,i,r,{paths:{lines:s,points:a},rotation:c,thickness:l}){const u=[];let d,h,f,b,p;switch(c){case 0:p=me._rescale,d=-e/n,h=t/i+1,f=1/n,b=-1/i;break;case 90:p=me._rescaleAndSwap,d=-t/i,h=-e/n,f=1/i,b=1/n;break;case 180:p=me._rescale,d=e/n+1,h=-t/i,f=-1/n,b=1/i;break;case 270:p=me._rescaleAndSwap,d=t/i+1,h=e/n+1,f=-1/i,b=-1/n;break}if(!s){s=[];for(const m of a){const y=m.length;if(y===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,m[0],m[1]]));continue}if(y===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,m[0],m[1],NaN,NaN,NaN,NaN,m[2],m[3]]));continue}const v=new Float32Array(3*(y-2));s.push(v);let[_,x,D,A]=m.subarray(0,4);v.set([NaN,NaN,NaN,NaN,_,x],0);for(let S=4;S<y;S+=2){const E=m[S],R=m[S+1];v.set(me.createBezierPoints(_,x,D,A,E,R),(S-2)*3),[_,x,D,A]=[D,A,E,R]}}}for(let m=0,y=s.length;m<y;m++)u.push({line:p(s[m].map(v=>v??NaN),d,h,f,b),points:p(a[m].map(v=>v??NaN),d,h,f,b)});const g=new this.prototype.constructor;return g.build(u,n,i,1,c,l,r),g}#c(e=this.#l){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#h(){const[e,t,n,i]=this.#e,[r,s]=this.#c(0);return[e+r,t+s,n-2*r,i-2*s]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let a=4,c=i.length;a<c;a+=6)be.pointBoundingBox(i[a],i[a+1],e);continue}let r=i[4],s=i[5];for(let a=6,c=i.length;a<c;a+=6){const[l,u,d,h,f,b]=i.subarray(a,a+6);be.bezierBoundingBox(r,s,l,u,d,h,f,b,e),r=f,s=b}}const[t,n]=this.#c();e[0]=yt(e[0]-t,0,1),e[1]=yt(e[1]-n,0,1),e[2]=yt(e[2]+t,0,1),e[3]=yt(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#c();this.#l=e;const[i,r]=this.#c(),[s,a]=[i-t,r-n],c=this.#e;return c[0]-=s,c[1]-=a,c[2]+=2*s,c[3]+=2*a,c}updateParentDimensions([e,t],n){const[i,r]=this.#c();this.#a=e,this.#s=t,this.#r=n;const[s,a]=this.#c(),c=s-i,l=a-r,u=this.#e;return u[0]-=c,u[1]-=l,u[2]+=2*c,u[3]+=2*l,u}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(me.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,i=0,r=0,s=0,a=0,c=0;switch(this.#t){case 90:i=t/e,r=-e/t,a=e;break;case 180:n=-1,s=-1,a=e,c=t;break;case 270:i=-t/e,r=e/t,c=t;break;default:return""}return`matrix(${n} ${i} ${r} ${s} ${me.svgRound(a)} ${me.svgRound(c)})`}getPathResizingSVGProperties([e,t,n,i]){const[r,s]=this.#c(),[a,c,l,u]=this.#e;if(Math.abs(l-r)<=me.PRECISION||Math.abs(u-s)<=me.PRECISION){const p=e+n/2-(a+l/2),g=t+i/2-(c+u/2);return{path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`,transform:`${this.rotationTransform} translate(${p} ${g})`}}}const d=(n-2*r)/(l-2*r),h=(i-2*s)/(u-2*s),f=l/n,b=u/i;return{path:{"transform-origin":`${me.svgRound(a)} ${me.svgRound(c)}`,transform:`${this.rotationTransform} scale(${f} ${b}) translate(${me.svgRound(r)} ${me.svgRound(s)}) scale(${d} ${h}) translate(${me.svgRound(-r)} ${me.svgRound(-s)})`}}}getPathResizedSVGProperties([e,t,n,i]){const[r,s]=this.#c(),a=this.#e,[c,l,u,d]=a;if(a[0]=e,a[1]=t,a[2]=n,a[3]=i,Math.abs(u-r)<=me.PRECISION||Math.abs(d-s)<=me.PRECISION){const g=e+n/2-(c+u/2),m=t+i/2-(l+d/2);for(const{line:y,points:v}of this.#n)me._translate(y,g,m,y),me._translate(v,g,m,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(n-2*r)/(u-2*r),f=(i-2*s)/(d-2*s),b=-h*(c+r)+e+r,p=-f*(l+s)+t+s;if(h!==1||f!==1||b!==0||p!==0)for(const{line:g,points:m}of this.#n)me._rescale(g,b,p,h,f,g),me._rescale(m,b,p,h,f,m);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[i,r]=n,s=this.#e,a=e-s[0],c=t-s[1];if(this.#a===i&&this.#s===r)for(const{line:l,points:u}of this.#n)me._translate(l,a,c,l),me._translate(u,a,c,u);else{const l=this.#a/i,u=this.#s/r;this.#a=i,this.#s=r;for(const{line:d,points:h}of this.#n)me._rescale(d,a,c,l,u,d),me._rescale(h,a,c,l,u,h);s[2]*=l,s[3]*=u}return s[0]=e,s[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(e[0])} ${me.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Rs extends op{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:_e._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Rs(this._viewParameters);return e.updateAll(this),e}}class Rc extends Pe{static _type="ink";static _editorType=Ce.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){_e.initialize(e,t),this._defaultDrawingOptions=new Rs(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Fe(this,"typesMap",new Map([[Ne.INK_THICKNESS,"stroke-width"],[Ne.INK_COLOR,"stroke"],[Ne.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,r){return new Gy(e,t,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,r,s){return Zi.deserialize(e,t,n,i,r,s)}static async deserialize(e,t,n){let i=null;if(e instanceof Fc){const{data:{inkLists:s,rect:a,rotation:c,id:l,color:u,opacity:d,borderStyle:{rawWidth:h},popupRef:f,richText:b,contentsObj:p,creationDate:g,modificationDate:m},parent:{page:{pageNumber:y}}}=e;i=e={annotationType:Ce.INK,color:Array.from(u),thickness:h,opacity:d,paths:{points:s},boxes:null,pageIndex:y-1,rect:a.slice(0),rotation:c,annotationElementId:l,id:l,deleted:!1,popupRef:f,richText:b,comment:p?.str||null,creationDate:g,modificationDate:m}}const r=await super.deserialize(e,t,n);return r._initialData=i,e.comment&&r.setCommentData(e),r}get toolbarButtons(){return this._colorPicker||=new Wi(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ne.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Rc.getDefaultDrawingOptions({stroke:be.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":r,"stroke-width":s}}=this,a=Object.assign(super.serialize(e),{color:_e._colorManager.convert(i),opacity:r,thickness:s,paths:{lines:t,points:n}});return this.addComment(a),e?(a.isCopy=!0,a):this.annotationElementId&&!this.#e(a)?null:(a.id=this.annotationElementId,a)}#e(e){const{color:t,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((s,a)=>s!==t[a])||e.thickness!==n||e.opacity!==i||e.pageIndex!==r}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class xo extends Zi{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const _r=8,Ti=3;class Xn{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,n,i,r,s,a){const c=this.#t(n,i,r,s);for(let l=0;l<8;l++){const u=(-l+c-a+16)%8,d=this.#i[2*u],h=this.#i[2*u+1];if(e[(n+d)*t+(i+h)]!==0)return u}return-1}static#a(e,t,n,i,r,s,a){const c=this.#t(n,i,r,s);for(let l=0;l<8;l++){const u=(l+c+a+16)%8,d=this.#i[2*u],h=this.#i[2*u+1];if(e[(n+d)*t+(i+h)]!==0)return u}return-1}static#s(e,t,n,i){const r=e.length,s=new Int32Array(r);for(let u=0;u<r;u++)s[u]=e[u]<=i?1:0;for(let u=1;u<n-1;u++)s[u*t]=s[u*t+t-1]=0;for(let u=0;u<t;u++)s[u]=s[t*n-1-u]=0;let a=1,c;const l=[];for(let u=1;u<n-1;u++){c=1;for(let d=1;d<t-1;d++){const h=u*t+d,f=s[h];if(f===0)continue;let b=u,p=d;if(f===1&&s[h-1]===0)a+=1,p-=1;else if(f>=1&&s[h+1]===0)a+=1,p+=1,f>1&&(c=f);else{f!==1&&(c=Math.abs(f));continue}const g=[d,u],m=p===d+1,y={isHole:m,points:g,id:a,parent:0};l.push(y);let v;for(const q of l)if(q.id===c){v=q;break}v?v.isHole?y.parent=m?v.parent:c:y.parent=m?c:v.parent:y.parent=m?c:0;const _=this.#n(s,t,u,d,b,p,0);if(_===-1){s[h]=-a,s[h]!==1&&(c=Math.abs(s[h]));continue}let x=this.#i[2*_],D=this.#i[2*_+1];const A=u+x,S=d+D;b=A,p=S;let E=u,R=d;for(;;){const q=this.#a(s,t,E,R,b,p,1);x=this.#i[2*q],D=this.#i[2*q+1];const C=E+x,N=R+D;g.push(N,C);const T=E*t+R;if(s[T+1]===0?s[T]=-a:s[T]===1&&(s[T]=a),C===u&&N===d&&E===A&&R===S){s[h]!==1&&(c=Math.abs(s[h]));break}else b=E,p=R,E=C,R=N}}}return l}static#r(e,t,n,i){if(n-t<=4){for(let A=t;A<n-2;A+=2)i.push(e[A],e[A+1]);return}const r=e[t],s=e[t+1],a=e[n-4]-r,c=e[n-3]-s,l=Math.hypot(a,c),u=a/l,d=c/l,h=u*s-d*r,f=c/a,b=1/l,p=Math.atan(f),g=Math.cos(p),m=Math.sin(p),y=b*(Math.abs(g)+Math.abs(m)),v=b*(1-y+y**2),_=Math.max(Math.atan(Math.abs(m+g)*v),Math.atan(Math.abs(m-g)*v));let x=0,D=t;for(let A=t+2;A<n-2;A+=2){const S=Math.abs(h-u*e[A+1]+d*e[A]);S>x&&(D=A,x=S)}x>(l*_)**2?(this.#r(e,t,D+2,i),this.#r(e,D,n,i)):i.push(r,s)}static#o(e){const t=[],n=e.length;return this.#r(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#l(e,t,n,i,r,s){const a=new Float32Array(s**2),c=-2*i**2,l=s>>1;for(let p=0;p<s;p++){const g=(p-l)**2;for(let m=0;m<s;m++)a[p*s+m]=Math.exp((g+(m-l)**2)/c)}const u=new Float32Array(256),d=-2*r**2;for(let p=0;p<256;p++)u[p]=Math.exp(p**2/d);const h=e.length,f=new Uint8Array(h),b=new Uint32Array(256);for(let p=0;p<n;p++)for(let g=0;g<t;g++){const m=p*t+g,y=e[m];let v=0,_=0;for(let D=0;D<s;D++){const A=p+D-l;if(!(A<0||A>=n))for(let S=0;S<s;S++){const E=g+S-l;if(E<0||E>=t)continue;const R=e[A*t+E],q=a[D*s+S]*u[Math.abs(R-y)];v+=R*q,_+=q}}const x=f[m]=Math.round(v/_);b[x]++}return[f,b]}static#c(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#h(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let a=0,c=n.length;a<c;a++){const l=n[a]=e[a<<2];i=Math.max(i,l),r=Math.min(r,l)}const s=255/(i-r);for(let a=0,c=n.length;a<c;a++)n[a]=(n[a]-r)*s;return n}static#d(e){let t,n=-1/0,i=-1/0;const r=e.findIndex(c=>c!==0);let s=r,a=r;for(t=r;t<256;t++){const c=e[t];c>n&&(t-s>i&&(i=t-s,a=t-1),n=c,s=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:i}=e,{maxDim:r}=this.#e;let s=n,a=i;if(n>r||i>r){let h=n,f=i,b=Math.log2(Math.max(n,i)/r);const p=Math.floor(b);b=b===p?p-1:p;for(let m=0;m<b;m++){s=Math.ceil(h/2),a=Math.ceil(f/2);const y=new OffscreenCanvas(s,a);y.getContext("2d").drawImage(e,0,0,h,f,0,0,s,a),h=s,f=a,e!==t&&e.close(),e=y.transferToImageBitmap()}const g=Math.min(r/s,r/a);s=Math.round(s*g),a=Math.round(a*g)}const l=new OffscreenCanvas(s,a).getContext("2d",{willReadFrequently:!0});l.fillStyle="white",l.fillRect(0,0,s,a),l.filter="grayscale(1)",l.drawImage(e,0,0,e.width,e.height,0,0,s,a);const u=l.getImageData(0,0,s,a).data;return[this.#h(u),s,a]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},r,s,a,c){let l=new OffscreenCanvas(1,1),u=l.getContext("2d",{alpha:!1});const d=200,h=u.font=`${n} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:b,actualBoundingBoxAscent:p,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:y,width:v}=u.measureText(e),_=1.5,x=Math.ceil(Math.max(Math.abs(f)+Math.abs(b)||0,v)*_),D=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||d,Math.abs(m)+Math.abs(y)||d)*_);l=new OffscreenCanvas(x,D),u=l.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,x,D),u.fillStyle="black",u.fillText(e,x*(_-1)/2,D*(3-_)/2);const A=this.#h(u.getImageData(0,0,x,D).data),S=this.#c(A),E=this.#d(S),R=this.#s(A,x,D,E);return this.processDrawnLines({lines:{curves:R,width:x,height:D},pageWidth:r,pageHeight:s,rotation:a,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,r){const[s,a,c]=this.#f(e),[l,u]=this.#l(s,a,c,Math.hypot(a,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),d=this.#d(u),h=this.#s(l,a,c,d);return this.processDrawnLines({lines:{curves:h,width:a,height:c},pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:s,areContours:a}){i%180!==0&&([t,n]=[n,t]);const{curves:c,width:l,height:u}=e,d=e.thickness??0,h=[],f=Math.min(t/l,n/u),b=f/t,p=f/n,g=[];for(const{points:y}of c){const v=s?this.#o(y):y;if(!v)continue;g.push(v);const _=v.length,x=new Float32Array(_),D=new Float32Array(3*(_===2?2:_-2));if(h.push({line:D,points:x}),_===2){x[0]=v[0]*b,x[1]=v[1]*p,D.set([NaN,NaN,NaN,NaN,x[0],x[1]],0);continue}let[A,S,E,R]=v;A*=b,S*=p,E*=b,R*=p,x.set([A,S,E,R],0),D.set([NaN,NaN,NaN,NaN,A,S],0);for(let q=4;q<_;q+=2){const C=x[q]=v[q]*b,N=x[q+1]=v[q+1]*p;D.set(me.createBezierPoints(A,S,E,R,C,N),(q-2)*3),[A,S,E,R]=[E,R,C,N]}}if(h.length===0)return null;const m=a?new xo:new Zi;return m.build(h,t,n,1,i,a?0:d,r),{outline:m,newCurves:g,areContours:a,thickness:d,width:l,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:r}){let s=1/0,a=-1/0,c=0;for(const v of e){c+=v.length;for(let _=2,x=v.length;_<x;_++){const D=v[_]-v[_-2];s=Math.min(s,D),a=Math.max(a,D)}}let l;s>=-128&&a<=127?l=Int8Array:s>=-32768&&a<=32767?l=Int16Array:l=Int32Array;const u=e.length,d=_r+Ti*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*l.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=r,h[f++]=t?0:1,h[f++]=Math.max(0,Math.floor(n??0)),h[f++]=u,h[f++]=l.BYTES_PER_ELEMENT;for(const v of e)h[f++]=v.length-2,h[f++]=v[0],h[f++]=v[1];const b=new CompressionStream("deflate-raw"),p=b.writable.getWriter();await p.ready,p.write(h);const g=l.prototype.constructor;for(const v of e){const _=new g(v.length-2);for(let x=2,D=v.length;x<D;x++)_[x-2]=v[x]-v[x-2];p.write(_)}p.close();const m=await new Response(b.readable).arrayBuffer(),y=new Uint8Array(m);return Nf(y)}static async decompressSignature(e){try{const t=ub(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let s=null,a=0;for await(const v of n)s||=new Uint8Array(new Uint32Array(v.buffer,0,4)[0]),s.set(v,a),a+=v.length;const c=new Uint32Array(s.buffer,0,s.length>>2),l=c[1];if(l!==0)throw new Error(`Invalid version: ${l}`);const u=c[2],d=c[3],h=c[4]===0,f=c[5],b=c[6],p=c[7],g=[],m=(_r+Ti*b)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(p){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(s.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(s.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(s.buffer,m);break}a=0;for(let v=0;v<b;v++){const _=c[Ti*v+_r],x=new Float32Array(_+2);g.push(x);for(let D=0;D<Ti-1;D++)x[D]=c[Ti*v+_r+D+1];for(let D=0;D<_;D++)x[D+2]=x[D]+y[a++]}return{areContours:h,thickness:f,outlines:g,width:u,height:d}}catch(t){return Ee(`decompressSignature: ${t}`),null}}}class Bc extends op{constructor(){super(),super.updateProperties({fill:_e._defaultLineColor,"stroke-width":0})}clone(){const e=new Bc;return e.updateAll(this),e}}class Nc extends Rs{constructor(e){super(e),super.updateProperties({stroke:_e._defaultLineColor,"stroke-width":1})}clone(){const e=new Nc(this._viewParameters);return e.updateAll(this),e}}class Yt extends Pe{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=Ce.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){_e.initialize(e,t),this._defaultDrawingOptions=new Bc,this._defaultDrawnSignatureOptions=new Nc(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Fe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:i,mustSmooth:r,areContours:s,description:a,uuid:c,heightInPage:l}=this.#i,{rawDims:{pageWidth:u,pageHeight:d},rotation:h}=this.parent.viewport,f=Xn.processDrawnLines({lines:i,pageWidth:u,pageHeight:d,rotation:h,innerMargin:Yt._INNER_MARGIN,mustSmooth:r,areContours:s});this.addSignature(f,l,a,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:r}=this.#i,s=Math.max(i,r),a=Xn.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:n,width:i,height:r},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:a.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:r,y:s}=this,{outline:a}=this.#i=e;this.#e=a instanceof xo,this.description=n;let c;this.#e?c=Yt.getDefaultDrawingOptions():(c=Yt._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:c});const[,l]=this.pageDimensions;let u=t/l;u=u>=1?.5:u,this.width*=u/this.height,this.width>=1&&(u*=.9/this.width,this.width=.9),this.height=u,this.setDims(),this.x=r,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return Xn.process(e,t,n,i,Yt._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return Xn.extractContoursFromText(e,t,n,i,r,Yt._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return Xn.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:Yt._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Yt.getDefaultDrawingOptions():(this._drawingOptions=Yt._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,r=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(r),e?(r.paths={lines:t,points:n},r.uuid=this.#n,r.isCopy=!0):r.lines=t,this.#t&&(r.accessibilityData={type:"Figure",alt:this.#t}),r}static deserializeDraw(e,t,n,i,r,s){return s.areContours?xo.deserialize(e,t,n,i,r,s):Zi.deserialize(e,t,n,i,r,s)}static async deserialize(e,t,n){const i=await super.deserialize(e,t,n);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class Yy extends _e{#e=null;#t=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#l=null;#c=!1;#h=!1;static _type="stamp";static _editorType=Ce.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){_e.initialize(e,t)}static isHandlingMimeForPasting(e){return uo.includes(e)}static paste(e,t){t.pasteEditor({mode:Ce.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#s=e.file.name),this.#g()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:s}=e||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:i,width:r,height:s,channels:i.length/(r*s)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const c=a.output;return await this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#d(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=uo.join(",");const t=this._uiManager._signal;this.#i=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,i&&(this.#e=i),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const e=200;this.#l=setTimeout(()=>{this.#l=null,this.#p()},e)}#g(){const{div:e}=this;let{width:t,height:n}=this.#e;const[i,r]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>s*i||n>s*r){const c=Math.min(s*i/t,s*r/n);t*=c,n*=c}this._uiManager.enableWaiting(!1);const a=this.#r=document.createElement("canvas");a.setAttribute("role","img"),this.addContainer(a),this.width=t/i,this.height=n/r,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:r}=this.#e,s=new Zt;let a=this.#e,c=i,l=r,u=null;if(t){if(i>t||r>t){const D=Math.min(t/i,t/r);c=Math.floor(i*D),l=Math.floor(r*D)}u=document.createElement("canvas");const h=u.width=Math.ceil(c*s.sx),f=u.height=Math.ceil(l*s.sy);this.#c||(a=this.#u(h,f));const b=u.getContext("2d");b.filter=this._uiManager.hcmFilter;let p="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":mb.isDarkMode&&(p="#8f8f9d",g="#42414d");const m=15,y=m*s.sx,v=m*s.sy,_=new OffscreenCanvas(y*2,v*2),x=_.getContext("2d");x.fillStyle=p,x.fillRect(0,0,y*2,v*2),x.fillStyle=g,x.fillRect(0,0,y,v),x.fillRect(y,v,y,v),b.fillStyle=b.createPattern(_,"repeat"),b.fillRect(0,0,h,f),b.drawImage(a,0,0,a.width,a.height,0,0,h,f)}let d=null;if(n){let h,f;if(s.symmetric&&a.width<e&&a.height<e)h=a.width,f=a.height;else if(a=this.#e,i>e||r>e){const g=Math.min(e/i,e/r);h=Math.floor(i*g),f=Math.floor(r*g),this.#c||(a=this.#u(h,f))}const p=new OffscreenCanvas(h,f).getContext("2d",{willReadFrequently:!0});p.drawImage(a,0,0,a.width,a.height,0,0,h,f),d={width:h,height:f,data:p.getImageData(0,0,h,f).data}}return{canvas:u,width:c,height:l,imageData:d}}#u(e,t){const{width:n,height:i}=this.#e;let r=n,s=i,a=this.#e;for(;r>2*e||s>2*t;){const c=r,l=s;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const u=new OffscreenCanvas(r,s);u.getContext("2d").drawImage(a,0,0,c,l,0,0,r,s),a=u.transferToImageBitmap()}return a}#p(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,r=new Zt,s=Math.ceil(n*e*r.sx),a=Math.ceil(i*t*r.sy),c=this.#r;if(!c||c.width===s&&c.height===a)return;c.width=s,c.height=a;const l=this.#c?this.#e:this.#u(s,a),u=c.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,s,a)}#b(e){if(e){if(this.#c){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,n]=this.pageDimensions,i=Math.round(this.width*t*oi.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*oi.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(i,r);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,r),s.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let i=null,r=!1;if(e instanceof sp){const{data:{rect:p,rotation:g,id:m,structParent:y,popupRef:v,richText:_,contentsObj:x,creationDate:D,modificationDate:A},container:S,parent:{page:{pageNumber:E}},canvas:R}=e;let q,C;R?(delete e.canvas,{id:q,bitmap:C}=n.imageManager.getFromCanvas(S.id,R),R.remove()):(r=!0,e._hasNoCanvas=!0);const N=(await t._structTree.getAriaAttributes(`${Gn}${m}`))?.get("aria-label")||"";i=e={annotationType:Ce.STAMP,bitmapId:q,bitmap:C,pageIndex:E-1,rect:p.slice(0),rotation:g,annotationElementId:m,id:m,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:y,popupRef:v,richText:_,comment:x?.str||null,creationDate:D,modificationDate:A}}const s=await super.deserialize(e,t,n),{rect:a,bitmap:c,bitmapUrl:l,bitmapId:u,isSvg:d,accessibilityData:h}=e;r?(n.addMissingCanvas(e.id,s),s.#o=!0):u&&n.imageManager.isValidId(u)?(s.#t=u,c&&(s.#e=c)):s.#n=l,s.#c=d;const[f,b]=s.pageDimensions;return s.width=(a[2]-a[0])/f,s.height=(a[3]-a[1])/b,h&&(s.altTextData=h),s._initialData=i,e.comment&&s.setCommentData(e),s.#h=!!i,s}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#c});if(this.addComment(n),e)return n.bitmapUrl=this.#b(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const a=this.#v(n);return a.isSame?null:(a.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const s=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:s,serialized:n}),n.bitmap=this.#b(!1);else if(this.#c){const a=t.stamps.get(this.#t);s>a.area&&(a.area=s,a.serialized.bitmap.close(),a.serialized.bitmap=this.#b(!1))}return n}#v(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===t,r=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class nn{#e;#t=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#l=!1;#c=null;#h=null;#d=null;#f=null;#m=null;#g=-1;#u;static _initialized=!1;static#p=new Map([st,Rc,Yy,Qe,Yt].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:c,viewport:l,l10n:u}){const d=[...nn.#p.values()];if(!nn._initialized){nn._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),this.#u=e,this.pageIndex=t,this.div=n,this.#e=r,this.#i=s,this.viewport=l,this.#d=c,this.drawLayer=a,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ce.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#D(),e){case Ce.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ce.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ce.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ce.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of nn.#p.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#b(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const n of this.#b)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#i;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}this.#l=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const i=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",r=>{const{clientX:a,clientY:c,timeStamp:l}=r,u=this.#g;if(l-u>500){this.#g=l;return}this.#g=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const h=document.elementsFromPoint(a,c);if(d.toggle("getElements",!1),!this.div.contains(h[0]))return;let f;const b=new RegExp(`^${Li}[0-9]+$`);for(const g of h)if(b.test(g.id)){f=g.id;break}if(!f)return;const p=this.#s.get(f);p?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),p.dblclick(r))},{signal:i,capture:!0})}const e=this.#i,t=[];if(e){const i=new Map,r=new Map;for(const a of this.#b){if(a.disableEditing(),!a.annotationElementId){t.push(a);continue}if(a.serialize()!==null){i.set(a.annotationElementId,a);continue}else r.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}const s=e.getEditableAnnotations();for(const a of s){const{id:c}=a.data;if(this.#u.isDeletedAnnotationElement(c)){a.updateEdited({deleted:!0});continue}let l=r.get(c);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=i.get(c),l&&(this.#u.addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}this.#D(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of nn.#p.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:n}=ut.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Qe.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),_e.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#l),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#y(){return nn.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#T(e){const t=this.#y;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:i}=this.#w(),r=this.getNextId(),s=this.#T({parent:this,id:r,x:n,y:i,uiManager:this.#u,isCentered:!0,...t});s&&this.add(s)}async deserialize(e){return await nn.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=this.#T({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,r=Math.max(0,e),s=Math.max(0,t),a=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,t+i),l=(r+a)/2-e,u=(s+c)/2-t,[d,h]=this.viewport.rotation%180===0?[l,u]:[u,l];return{offsetX:d,offsetY:h}}addNewEditor(e={}){this.createAndAddNewEditor(this.#w(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=ut.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===Ce.STAMP||n===Ce.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ce.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=ut.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#u.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#c?(this.#u.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#h=null,this.#y.endDrawing(e)):null}findNewParent(e,t,n){const i=this.#u.findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#D(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Fn(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#D();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Fn(this.div,{rotation:n}),t!==n)for(const i of this.#s.values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class ot{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Fe(this,"_svgFactory",new ts)}static#a(e,[t,n,i,r]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*r}%`}#s(){const e=ot._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const n=ot._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=ot._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}#o(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)}draw(e,t=!1,n=!1){const i=ot.#n++,r=this.#s(),s=ot._svgFactory.createElement("defs");r.append(s);const a=ot._svgFactory.createElement("path");s.append(a);const c=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(i,a);const l=n?this.#r(s,c):null,u=ot._svgFactory.createElement("use");return r.append(u),u.setAttribute("href",`#${c}`),this.updateProperties(r,e),this.#t.set(i,r),{id:i,clipPathId:`url(#${l})`}}drawOutline(e,t){const n=ot.#n++,i=this.#s(),r=ot._svgFactory.createElement("defs");i.append(r);const s=ot._svgFactory.createElement("path");r.append(s);const a=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",a),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const d=ot._svgFactory.createElement("mask");r.append(d),c=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",c),d.setAttribute("maskUnits","objectBoundingBox");const h=ot._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=ot._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=ot._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${a}`),c&&l.setAttribute("mask",`url(#${c})`);const u=l.cloneNode();return i.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(n,i),n}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:r,path:s}=t,a=typeof e=="number"?this.#t.get(e):e;if(a){if(n&&this.#o(a,n),i&&ot.#a(a,i),r){const{classList:c}=a;for(const[l,u]of Object.entries(r))c.toggle(l,u)}if(s){const l=a.firstChild.firstChild;this.#o(l,s)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:yo};globalThis.pdfjsLib={AbortException:fn,AnnotationEditorLayer:nn,AnnotationEditorParamsType:Ne,AnnotationEditorType:Ce,AnnotationEditorUIManager:pn,AnnotationLayer:kc,AnnotationMode:un,AnnotationType:tt,applyOpacity:yb,build:Ty,ColorPicker:Lt,createValidAbsoluteUrl:Ff,CSSConstants:bb,DOMSVGFactory:ts,DrawLayer:ot,FeatureTest:ut,fetchData:Xi,findContrastColor:vb,getDocument:Jf,getFilenameFromUrl:db,getPdfFilenameFromUrl:hb,getRGB:Gi,getUuid:Bf,getXfaPageViewport:pb,GlobalWorkerOptions:ni,ImageKind:Vr,InvalidPDFException:co,isDataScheme:Us,isPdfFile:Dc,isValidExplicitDest:Ub,MathClamp:yt,noContextMenu:Ot,normalizeUnicode:cb,OPS:Pi,OutputScale:Zt,PasswordResponses:Jm,PDFDataRangeTransport:ep,PDFDateString:lo,PDFWorker:ct,PermissionFlag:Qm,PixelsPerInch:oi,RenderingCancelledException:xc,renderRichText:Mf,ResponseException:Jr,setLayerDimensions:Fn,shadow:Fe,SignatureExtractor:Xn,stopEvent:Ze,SupportedImageMimeTypes:uo,TextLayer:mt,TouchManager:Fs,updateUrlHash:kf,Util:be,VerbosityLevel:Es,version:Ay,XfaLayer:If};const Ky="/assets/pdf.worker-zxMdjS_u.mjs";typeof window<"u"&&(ni.workerSrc=Ky);const Zy={async parseDocx(o){try{const e=await o.arrayBuffer();return{text:(await Zm.extractRawText({arrayBuffer:e})).value,type:"docx",fileName:o.name,parsedAt:new Date().toISOString()}}catch(e){throw Xe.error("Error parsing DOCX:",e),new Error("Erro ao processar arquivo DOCX")}},async parsePdf(o){try{const e=await o.arrayBuffer(),t=await Jf({data:e}).promise;let n="";for(let i=1;i<=t.numPages;i++){const a=(await(await t.getPage(i)).getTextContent()).items.map(c=>c.str).join(" ");n+=a+`

`}return{text:n,type:"pdf",fileName:o.name,pages:t.numPages,parsedAt:new Date().toISOString()}}catch(e){throw Xe.error("Error parsing PDF:",e),new Error("Erro ao processar arquivo PDF")}},async uploadDocument(o,e="activities"){try{const t=`${Date.now()}_${o.name}`,n=`${e}/${t}`,{data:i,error:r}=await Tt.storage.from("documents").upload(n,o,{cacheControl:"3600",upsert:!1,contentType:o.type||void 0});if(r)throw r;const{data:{publicUrl:s}}=Tt.storage.from("documents").getPublicUrl(n);return s}catch(t){return Xe.error("Error uploading document:",t),null}},async parseToActivity(o){const e=o.name.toLowerCase();let t;if(e.endsWith(".docx"))t=await this.parseDocx(o);else if(e.endsWith(".pdf"))t=await this.parsePdf(o);else throw new Error("Formato de arquivo n√£o suportado. Use DOCX ou PDF.");let n=null;try{n=await this.uploadDocument(o)}catch{Xe.warn("Upload do arquivo original falhou, prosseguindo sem URL p√∫blica"),n=null}const i=this.extractQuestions(t.text);return{title:o.name.replace(/\.(docx|pdf)$/i,""),description:t.text.substring(0,500)+"...",content:{type:"imported",source:t.type,originalFile:n,text:t.text,questions:i,metadata:{fileName:t.fileName,parsedAt:t.parsedAt,pages:t.pages}},type:"assignment"}},extractQuestions(o){const e=[];if(!o||!o.trim())return[];const t=o.replace(/\r\n?/g,`
`),n=[],i=/(^\s*(?:quest[a√£]o\s*)?(\d+)\s*[\)\.:\-]\s*)([\s\S]*?)(?=\n\s*(?:quest[a√£]o\s*)?\d+\s*[\)\.:\-]\s|$)/gim;let r;for(;(r=i.exec(t))!==null;){const a=(r[3]||"").trim();a&&n.push(a)}return(n.length>0?n:[t.trim()]).forEach((a,c)=>{const l=a.split(/\n+/).map(b=>b.trim()).filter(Boolean),u=l.join(`
`),d=/^\s*([A-H])\s*[\)\.\-]\s+(.+)/i,h=[];for(const b of l){const p=b.match(d);if(p){const g=p[1].toUpperCase(),m=p[2].trim();h.push({id:`${Date.now()}_${c}_${g}`,letter:g,text:m,isCorrect:!1})}}let f=u;if(h.length>0){const b=l.findIndex(p=>d.test(p));f=l.slice(0,Math.max(0,b)).join(`
`).trim()}h.length>=2?e.push({id:`q_${c+1}_${Date.now()}`,type:"closed",text:f||`Quest√£o ${c+1}`,points:1,alternatives:h.map((b,p)=>({...b,letter:String.fromCharCode(65+p)})),explanation:"",hint:""}):e.push({id:`q_${c+1}_${Date.now()}`,type:"open",text:f,points:1,maxLines:null,maxCharacters:null,image:null,attachments:[],rubric:[],expectedAnswer:""})}),e},supportedTypes:[{extension:".docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:".pdf",mime:"application/pdf"}],isSupported(o){return this.supportedTypes.some(e=>o.name.toLowerCase().endsWith(e.extension)||o.type===e.mime)}},Qy=({open:o,onClose:e})=>{const{toast:t}=ji(),n=Rd(),i=Re.useRef(null),[r,s]=Re.useState(null),[a,c]=Re.useState(!1),[l,u]=Re.useState(""),[d,h]=Re.useState(""),[f,b]=Re.useState(""),[p,g]=Re.useState(null),m=[{ext:".txt",label:"Texto (TXT)",mime:"text/plain"},{ext:".pdf",label:"PDF",mime:"application/pdf"},{ext:".docx",label:"Word (DOCX)",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{ext:".odt",label:"OpenDocument (ODT)",mime:"application/vnd.oasis.opendocument.text"}],y=async D=>{const A=D.target.files?.[0];if(!A)return;const S="."+A.name.split(".").pop().toLowerCase();if(!m.some(R=>R.ext===S)){t({title:"Formato n√£o suportado",description:`Por favor, selecione um arquivo ${m.map(R=>R.ext.toUpperCase()).join(", ")}`,variant:"destructive"});return}s(A),await v(A)},v=async D=>{try{c(!0);const A="."+D.name.split(".").pop().toLowerCase();let S=null;if(A===".docx"||A===".pdf")S=await Zy.parseToActivity(D);else if(A===".txt"){const E=await D.text();S={title:D.name.replace(/\.[^/.]+$/,""),description:E.substring(0,500)+"...",content:{text:E,questions:[]},type:"assignment"}}else if(A===".odt"){const E=`[Conte√∫do extra√≠do do ODT: ${D.name}]

Revise e edite o conte√∫do abaixo.`;S={title:D.name.replace(/\.[^/.]+$/,""),description:E.substring(0,500)+"...",content:{text:E,questions:[]},type:"assignment"}}if(!S)throw new Error("Formato de arquivo n√£o suportado");g(S),u(S.content?.text||""),h(S.title||D.name.replace(/\.[^/.]+$/,"")),t({title:"Arquivo processado",description:"Conte√∫do extra√≠do com sucesso."})}catch(A){Xe.error("Erro ao processar arquivo:",A),t({title:"Erro ao processar arquivo",description:A.message,variant:"destructive"})}finally{c(!1)}},_=()=>{if(!d.trim()){t({title:"T√≠tulo obrigat√≥rio",description:"Insira um t√≠tulo para a atividade",variant:"destructive"});return}if(!l.trim()){t({title:"Conte√∫do vazio",description:"O arquivo n√£o possui conte√∫do ou n√£o foi processado",variant:"destructive"});return}const D={title:d.trim()||p?.title||"",description:f.trim()||p?.description||l.substring(0,200)+"...",content:l,questions:p?.content?.questions||[],imported:!0,importedFrom:r?.name,activityType:"mixed"};sessionStorage.setItem("importedActivity",JSON.stringify(D)),t({title:"Importa√ß√£o conclu√≠da",description:"Redirecionando para editor de atividades..."}),e(),n("/dashboard/activities/create")},x=()=>{s(null),u(""),h(""),b(""),i.current&&(i.current.value="")};return M.jsx(_o,{open:o,onOpenChange:e,children:M.jsxs(wo,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[M.jsxs(Ao,{children:[M.jsxs(To,{className:"flex items-center gap-2",children:[M.jsx(no,{className:"w-5 h-5"}),"Importar Atividade de Arquivo"]}),M.jsx(Eo,{children:"Fa√ßa upload de um arquivo (TXT, PDF, DOCX, ODT) e extraia o conte√∫do para criar uma atividade"})]}),M.jsx("div",{className:"space-y-6 py-4",children:r?M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-950/30 rounded-lg",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[a?M.jsx(Lc,{className:"w-5 h-5 text-blue-600 animate-spin"}):M.jsx(wr,{className:"w-5 h-5 text-green-600"}),M.jsxs("div",{children:[M.jsx("p",{className:"font-medium",children:r.name}),M.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[(r.size/1024).toFixed(2)," KB"]})]})]}),M.jsx(Ye,{variant:"ghost",size:"sm",onClick:x,disabled:a,children:M.jsx(io,{className:"w-4 h-4"})})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx(wt,{htmlFor:"title",children:"T√≠tulo da Atividade *"}),M.jsx(Si,{id:"title",value:d,onChange:D=>h(D.target.value),placeholder:"Digite o t√≠tulo...",disabled:a})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx(wt,{htmlFor:"description",children:"Descri√ß√£o (Opcional)"}),M.jsx(to,{id:"description",value:f,onChange:D=>b(D.target.value),placeholder:"Breve descri√ß√£o da atividade...",rows:2,disabled:a})]}),M.jsxs("div",{className:"space-y-2",children:[M.jsx(wt,{htmlFor:"content",children:"Conte√∫do Extra√≠do"}),M.jsx(to,{id:"content",value:l,onChange:D=>u(D.target.value),placeholder:"O conte√∫do extra√≠do aparecer√° aqui...",rows:12,disabled:a,className:"font-mono text-sm"}),M.jsx("p",{className:"text-xs text-slate-500",children:"Voc√™ pode editar o conte√∫do extra√≠do antes de importar"})]}),r&&r.name.endsWith(".pdf")&&M.jsxs("div",{className:"flex items-start gap-2 p-4 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg",children:[M.jsx(qd,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),M.jsxs("div",{className:"text-sm",children:[M.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"üìÑ PDF Detectado"}),M.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Abra o PDF em outro visualizador, copie o conte√∫do e cole no campo acima. Voc√™ pode editar o texto antes de importar."})]})]}),r&&r.name.endsWith(".docx")&&l&&!l.includes("[Erro")&&M.jsxs("div",{className:"flex items-start gap-2 p-4 bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg",children:[M.jsx(wr,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),M.jsxs("div",{className:"text-sm",children:[M.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"‚úì DOCX Extra√≠do Automaticamente"}),M.jsx("p",{className:"text-green-700 dark:text-green-300",children:"O conte√∫do do arquivo DOCX foi extra√≠do com sucesso!"})]})]})]}):M.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-8",children:M.jsxs("div",{className:"text-center",children:[M.jsx(no,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),M.jsx("p",{className:"text-lg font-medium mb-2",children:"Selecione um arquivo"}),M.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Formatos suportados: ",m.map(D=>D.ext.toUpperCase()).join(", ")]}),M.jsx("input",{ref:i,type:"file",accept:m.map(D=>D.ext).join(","),onChange:y,className:"hidden",id:"file-upload"}),M.jsxs(Ye,{variant:"outline",size:"lg",onClick:()=>i.current?.click(),type:"button",children:[M.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Escolher Arquivo"]})]})})}),M.jsxs(Co,{children:[M.jsx(Ye,{variant:"outline",onClick:e,disabled:a,children:"Cancelar"}),M.jsx(Ye,{onClick:_,disabled:!r||!d.trim()||!l.trim()||a,children:a?M.jsxs(M.Fragment,{children:[M.jsx(Lc,{className:"w-4 h-4 mr-2 animate-spin"}),"Processando..."]}):M.jsxs(M.Fragment,{children:[M.jsx(wr,{className:"w-4 h-4 mr-2"}),"Importar e Criar Atividade"]})})]})]})})},sv=()=>{const o=Rd(),{user:e}=up(),{toast:t}=ji(),[n,i]=Re.useState(!0),[r,s]=Re.useState([]),[a,c]=Re.useState([]),[l,u]=Re.useState({total:0,byType:{open:0,closed:0,mixed:0},mostUsed:null,recentCount:0}),[d,h]=Re.useState("all"),[f,b]=Re.useState("list"),[p,g]=Re.useState(""),[m,y]=Re.useState({type:[],status:[]}),[v,_]=Re.useState(!1),[x,D]=Re.useState(!1),[A,S]=Re.useState("created_desc"),[E,R]=Re.useState([]),[q,C]=Re.useState(!1),[N,T]=Re.useState(!1),[W,k]=Re.useState(!1),[B,H]=Re.useState(null),[z,ee]=Re.useState(null),[O,$]=Re.useState(null),[X,ne]=Re.useState(!1);Re.useEffect(()=>{e?(ie(),ue()):Xe.warn("[TeacherActivitiesPage] ‚ö†Ô∏è User not found!")},[e,x]);const ie=async()=>{try{i(!0);let F=Tt.from("activities").select(`
          *,
          assignments:activity_class_assignments(
            id, class_id, assigned_at,
            class:classes(id, name)
          ),
          submissions:submissions(id, status, grade)
        `).eq("created_by",e.id).is("deleted_at",null);x||(F=F.neq("status","archived"));const{data:P,error:te}=await F.order("created_at",{ascending:!1});if(te)throw te;const ae=(P||[]).map(K=>{const j=K.submissions?.filter(Z=>Z.status==="submitted"||Z.status==="graded").length||0,V=K.submissions?.filter(Z=>Z.grade!==null).reduce((Z,se)=>Z+parseFloat(se.grade),0)/j||0;return{...K,timesUsed:K.assignments?.length||0,submittedCount:j,avgGrade:V.toFixed(2),classNames:K.assignments?.map(Z=>Z.class?.name).filter(Boolean)||[]}});s(ae),oe(ae)}catch(F){Xe.error("Erro ao carregar atividades:",F),t({title:"Erro",description:"N√£o foi poss√≠vel carregar as atividades.",variant:"destructive"})}finally{i(!1)}},ue=async()=>{try{const{data:F,error:P}=await Tt.from("classes").select("id, name").eq("created_by",e.id).eq("is_active",!0);if(P)throw P;c(F||[])}catch(F){Xe.error("Erro ao carregar turmas:",F)}},oe=F=>{const P=F.length,te={open:F.filter(V=>V.type==="open").length,closed:F.filter(V=>V.type==="objective").length,mixed:F.filter(V=>V.type==="mixed").length},ae=F.reduce((V,Z)=>Z.timesUsed>(V?.timesUsed||0)?Z:V,null),K=new Date;K.setMonth(K.getMonth()-1);const j=F.filter(V=>new Date(V.created_at)>K).length;u({total:P,byType:te,mostUsed:ae,recentCount:j})},le=Re.useMemo(()=>{let F=[...r];if(d==="open"?F=F.filter(P=>P.type==="open"):d==="closed"?F=F.filter(P=>P.type==="objective"):d==="mixed"?F=F.filter(P=>P.type==="mixed"):d==="drafts"?F=F.filter(P=>P.status==="draft"):d==="favorites"&&(F=F.filter(P=>P.is_favorite)),p){const P=p.toLowerCase();F=F.filter(te=>te.title?.toLowerCase().includes(P)||te.description?.toLowerCase().includes(P)||te.instructions?.toLowerCase().includes(P))}return m.type.length>0&&(F=F.filter(P=>m.type.includes(P.type))),m.status.length>0&&(F=F.filter(P=>m.status.includes(P.status))),F.sort((P,te)=>{switch(A){case"created_desc":return new Date(te.created_at)-new Date(P.created_at);case"created_asc":return new Date(P.created_at)-new Date(te.created_at);case"name_asc":return P.title.localeCompare(te.title);case"name_desc":return te.title.localeCompare(P.title);case"most_used":return te.timesUsed-P.timesUsed;case"highest_score":return te.max_score-P.max_score;default:return 0}}),F},[r,d,p,m,A]),fe=F=>{R(P=>P.includes(F)?P.filter(te=>te!==F):[...P,F])},ge=F=>{o(`/dashboard/activities/${F.id}/edit`)},xe=async F=>{try{const{assignments:P,submissions:te,submittedCount:ae,avgGrade:K,timesUsed:j,classNames:V,...Z}=F,{data:se,error:de}=await Tt.from("activities").insert({...Z,id:void 0,title:`${F.title} - C√≥pia`,status:"draft",is_published:!1,created_at:void 0,updated_at:void 0,deleted_at:null}).select().single();if(de)throw de;t({title:"Sucesso",description:"Atividade duplicada com sucesso!"}),ie(),o(`/dashboard/activities/${se.id}/edit`)}catch(P){Xe.error("Erro ao duplicar:",P),t({title:"Erro",description:"N√£o foi poss√≠vel duplicar a atividade.",variant:"destructive"})}},Ae=async F=>{t({title:"Funcionalidade em desenvolvimento",description:"Sistema de favoritos ser√° implementado em breve."})},ke=async F=>{try{const{error:P}=await Tt.from("activities").update({status:"archived",updated_at:new Date().toISOString()}).eq("id",F);if(P)throw P;t({title:"Atividade arquivada"}),s(te=>te.filter(ae=>ae.id!==F))}catch(P){Xe.error("Erro ao arquivar:",P),t({title:"Erro ao arquivar",variant:"destructive"})}},w=async F=>{try{const{error:P}=await Tt.from("activities").update({status:"draft",updated_at:new Date().toISOString()}).eq("id",F);if(P)throw P;t({title:"Atividade desarquivada"}),ie()}catch(P){Xe.error("Erro ao desarquivar:",P),t({title:"Erro ao desarquivar",variant:"destructive"})}},Q=async F=>{try{const{error:P}=await Tt.from("activities").update({deleted_at:new Date().toISOString()}).eq("id",F);if(P)throw P;t({title:"Atividade exclu√≠da"}),C(!1),ie()}catch(P){Xe.error("Erro ao excluir:",P)}},Y=()=>{y({type:[],status:[]}),g("")},L=F=>({open:"Aberta",assignment:"Aberta",closed:"Fechada",quiz:"Fechada",mixed:"Mista",project:"Mista"})[F]||"Aberta";return n?M.jsx("div",{className:"flex items-center justify-center min-h-screen",children:M.jsx(dp,{size:"lg",text:"Carregando banco de atividades..."})}):M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[M.jsxs("div",{className:"mb-8",children:[M.jsx(pp,{title:"Banco de Atividades",subtitle:"Crie, organize e reutilize suas atividades",role:"teacher"}),M.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[M.jsxs(Ye,{size:"lg",onClick:()=>{o("/dashboard/activities/create")},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[M.jsx(Os,{className:"w-5 h-5 mr-2"}),"Nova Atividade"]}),M.jsxs(Ye,{variant:"outline",size:"lg",onClick:()=>ne(!0),children:[M.jsx(no,{className:"w-5 h-5 mr-2"}),"Importar"]}),M.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-white dark:bg-slate-900 border-2 border-slate-300 dark:border-slate-700 px-4 py-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[M.jsx("input",{type:"checkbox",checked:x,onChange:F=>D(F.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),M.jsx(ii,{className:"w-4 h-4"}),M.jsx("span",{className:"text-sm font-medium",children:"Mostrar Arquivadas"})]})]})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[M.jsx(er,{title:"Total",value:l.total,icon:Pc,gradient:Ji.primary,bgColor:"bg-blue-50"}),M.jsx(er,{title:"Por Tipo",value:`${l.byType.open}/${l.byType.closed}/${l.byType.mixed}`,icon:xp,gradient:Ji.success,bgColor:"bg-emerald-50",subtitle:"Abertas/Fechadas/Mistas"}),M.jsx(er,{title:"Mais Usada",value:l.mostUsed?.timesUsed||0,icon:jd,gradient:Ji.warning,bgColor:"bg-amber-50",subtitle:l.mostUsed?l.mostUsed.title.substring(0,20)+"...":"Nenhuma"}),M.jsx(er,{title:"Recentes",value:l.recentCount,icon:zd,gradient:Ji.info,bgColor:"bg-cyan-50",subtitle:"√öltimo m√™s"})]}),M.jsx(hp,{value:d,onValueChange:h,className:"mb-6",children:M.jsxs(fp,{className:"grid w-full grid-cols-6",children:[M.jsx(On,{value:"all",children:"Todas"}),M.jsx(On,{value:"open",children:"Abertas"}),M.jsx(On,{value:"closed",children:"Fechadas"}),M.jsx(On,{value:"mixed",children:"Mistas"}),M.jsx(On,{value:"drafts",children:"Rascunhos"}),M.jsxs(On,{value:"favorites",children:[M.jsx(So,{className:"w-4 h-4 mr-1"}),"Favoritas"]})]})}),M.jsx(Do,{className:"p-6 mb-6",children:M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[M.jsxs("div",{className:"flex-1 relative",children:[M.jsx(Dp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),M.jsx(Si,{placeholder:"Buscar atividade...",value:p,onChange:F=>g(F.target.value),className:"pl-10"})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsxs(Bs,{value:A,onValueChange:S,children:[M.jsx(Ns,{className:"w-[200px]",children:M.jsx(Is,{})}),M.jsxs(Ms,{children:[M.jsx(Rt,{value:"created_desc",children:"Mais Recentes"}),M.jsx(Rt,{value:"created_asc",children:"Mais Antigas"}),M.jsx(Rt,{value:"name_asc",children:"Nome (A-Z)"}),M.jsx(Rt,{value:"name_desc",children:"Nome (Z-A)"}),M.jsx(Rt,{value:"most_used",children:"Mais Usadas"}),M.jsx(Rt,{value:"highest_score",children:"Maior Pontua√ß√£o"})]})]}),M.jsx(Ye,{variant:f==="list"?"default":"outline",size:"icon",onClick:()=>b("list"),children:M.jsx(_p,{className:"w-5 h-5"})}),M.jsx(Ye,{variant:f==="grid"?"default":"outline",size:"icon",onClick:()=>b("grid"),children:M.jsx(Ep,{className:"w-5 h-5"})})]})]}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>_(!v),children:[M.jsx(Sp,{className:"w-4 h-4 mr-2"}),"Filtros Avan√ßados",v?M.jsx(wp,{className:"w-4 h-4 ml-2"}):M.jsx(Ap,{className:"w-4 h-4 ml-2"})]}),(p||m.type.length>0)&&M.jsxs(Ye,{variant:"ghost",size:"sm",onClick:Y,children:[M.jsx(io,{className:"w-4 h-4 mr-2"}),"Limpar"]})]}),v&&M.jsxs(Qi.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[M.jsxs("div",{children:[M.jsx(wt,{children:"Tipo"}),M.jsxs(Bs,{children:[M.jsx(Ns,{children:M.jsx(Is,{placeholder:"Todos"})}),M.jsxs(Ms,{children:[M.jsx(Rt,{value:"open",children:"Abertas"}),M.jsx(Rt,{value:"closed",children:"Fechadas"}),M.jsx(Rt,{value:"mixed",children:"Mistas"})]})]})]}),M.jsxs("div",{children:[M.jsx(wt,{children:"Status"}),M.jsxs(Bs,{children:[M.jsx(Ns,{children:M.jsx(Is,{placeholder:"Todos"})}),M.jsxs(Ms,{children:[M.jsx(Rt,{value:"published",children:"Publicadas"}),M.jsx(Rt,{value:"draft",children:"Rascunhos"}),M.jsx(Rt,{value:"archived",children:"Arquivadas"})]})]})]})]})]})}),E.length>0&&M.jsxs(Qi.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 bg-blue-600 text-white px-6 py-4 rounded-lg shadow-2xl flex items-center gap-4",children:[M.jsxs("span",{className:"font-semibold",children:[E.length," selecionada(s)"]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsxs(Ye,{size:"sm",variant:"secondary",onClick:()=>T(!0),children:[M.jsx(Fo,{className:"w-4 h-4 mr-2"}),"Postar"]}),M.jsxs(Ye,{size:"sm",variant:"secondary",onClick:()=>{t({title:"Em breve",description:"Fun√ß√£o de exporta√ß√£o em massa ser√° implementada em breve."})},children:[M.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Exportar"]}),M.jsxs(Ye,{size:"sm",variant:"secondary",onClick:async()=>{try{for(const F of E)await ke(F);R([]),t({title:"Sucesso",description:`${E.length} atividade(s) arquivada(s).`})}catch(F){Xe.error("Erro ao arquivar:",F),t({title:"Erro",description:"N√£o foi poss√≠vel arquivar as atividades.",variant:"destructive"})}},children:[M.jsx(ii,{className:"w-4 h-4 mr-2"}),"Arquivar"]}),M.jsx(Ye,{size:"sm",variant:"destructive",onClick:()=>R([]),children:M.jsx(io,{className:"w-4 h-4"})})]})]}),le.length>0?M.jsx("div",{className:$n(f==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"),children:le.map((F,P)=>M.jsx(Qi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.05},children:f==="list"?M.jsx(Up,{activity:F,selected:E.includes(F.id),onSelect:fe,onEdit:ge,onDuplicate:xe,onToggleFavorite:Ae,onArchive:ke,onUnarchive:w,onDelete:()=>{ee(F),C(!0)},onPreview:te=>{H(te),k(!0)},getTypeBadge:L}):M.jsx(Fp,{activity:F,onEdit:ge,onToggleFavorite:Ae,onDuplicate:xe,onArchive:ke,onUnarchive:w,getTypeBadge:L,navigate:o})},F.id))}):M.jsx(gp,{icon:Pc,title:p?"Nenhuma atividade encontrada":"Voc√™ ainda n√£o criou nenhuma atividade",description:p?"Tente ajustar os filtros.":"Comece criando sua primeira atividade.",actionLabel:"Criar Primeira Atividade",actionIcon:Os,action:()=>{o("/dashboard/activities/create")}}),le.length>0&&M.jsx(Qi.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5},className:"fixed bottom-8 right-8 z-40",children:M.jsx(Ye,{size:"lg",onClick:()=>{o("/dashboard/activities/create")},className:"w-16 h-16 rounded-full shadow-2xl bg-gradient-to-r from-blue-600 to-blue-700",children:M.jsx(Os,{className:"w-8 h-8"})})}),M.jsx(_o,{open:q,onOpenChange:C,children:M.jsxs(wo,{children:[M.jsxs(Ao,{children:[M.jsx(To,{children:"Excluir Atividade"}),M.jsx(Eo,{asChild:!0,children:z?.timesUsed>0?M.jsxs("div",{className:"space-y-2",children:[M.jsx("div",{className:"text-yellow-600 font-semibold",children:"‚ö†Ô∏è Aten√ß√£o!"}),M.jsxs("div",{children:["Esta atividade foi usada ",z.timesUsed," vez(es)."]}),M.jsx("div",{children:"As submiss√µes existentes n√£o ser√£o afetadas."})]}):M.jsx("div",{children:"Tem certeza? Esta a√ß√£o n√£o pode ser desfeita."})})]}),M.jsxs(Co,{children:[M.jsx(Ye,{variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),M.jsx(Ye,{variant:"destructive",onClick:()=>Q(z?.id),children:"Excluir"})]})]})}),N&&M.jsx(kp,{activities:E.map(F=>r.find(P=>P.id===F)),classes:a,onClose:()=>T(!1),onSuccess:()=>{T(!1),ie(),R([])}}),W&&B&&M.jsx(vp,{activity:{...B,...B.content},onClose:()=>{k(!1),H(null)}}),M.jsx(Qy,{open:X,onClose:()=>ne(!1)})]})};export{sv as default};
