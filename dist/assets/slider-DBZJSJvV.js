import{g as D,r as l,j as n,e as h}from"./main-DAPsYT4a.js";const V=D.forwardRef(({value:x=[0],onValueChange:v,min:a=0,max:o=100,step:p=1,disabled:u=!1,orientation:t="horizontal",className:L,...b},M)=>{const w=l.useRef(null),[d,j]=l.useState(!1),[S,y]=l.useState(x);l.useEffect(()=>{y(x)},[x]);const N=l.useCallback(e=>(e-a)/(o-a)*100,[a,o]),g=l.useCallback((e,s)=>{let r;t==="vertical"?r=(s.height-e)/s.height:r=e/s.width,r=Math.max(0,Math.min(1,r));const c=r*(o-a)+a,R=Math.round(c/p)*p;return Math.max(a,Math.min(o,R))},[a,o,p,t]),m=l.useCallback(e=>{if(u)return;e.preventDefault(),j(!0);const s=w.current?.getBoundingClientRect();if(!s)return;let r;t==="vertical"?r=e.clientY-s.top:r=e.clientX-s.left;const c=g(r,s);y([c]),v?.([c])},[u,t,g,v]),i=l.useCallback(e=>{if(!d||u)return;e.preventDefault();const s=w.current?.getBoundingClientRect();if(!s)return;let r;t==="vertical"?r=e.clientY-s.top:r=e.clientX-s.left;const c=g(r,s);y([c]),v?.([c])},[d,u,t,g,v]),f=l.useCallback(()=>{j(!1)},[]);l.useEffect(()=>(d&&(document.addEventListener("mousemove",i,[]),document.addEventListener("mouseup",f,[]),document.addEventListener("touchmove",i,{passive:!1},[]),document.addEventListener("touchend",f)),()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",f),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",f)}),[d,i,f]);const k=S[0]||0,E=N(k);return n.jsxs("div",{ref:M,className:h("relative flex items-center select-none touch-none",t==="vertical"?"flex-col h-full":"w-full",u&&"opacity-50 cursor-not-allowed",L),...b,children:[n.jsxs("div",{ref:w,className:h("relative bg-gray-200 dark:bg-gray-700 rounded-full",t==="vertical"?"w-2 h-full min-h-[100px]":"h-2 w-full min-w-[100px]","cursor-pointer"),onMouseDown:m,onTouchStart:m,children:[n.jsx("div",{className:h("absolute bg-blue-500 rounded-full",t==="vertical"?"bottom-0 w-full":"left-0 h-full"),style:{[t==="vertical"?"height":"width"]:`${E}%`}}),n.jsx("div",{className:h("absolute w-4 h-4 bg-white border-2 border-blue-500 rounded-full shadow-md transform -translate-x-1/2 -translate-y-1/2 hover:scale-110 transition-transform","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",t==="vertical"&&"translate-x-0 translate-y-0"),style:{[t==="vertical"?"bottom":"left"]:`${E}%`,cursor:d?"grabbing":"grab"},onMouseDown:e=>{e.stopPropagation(),m(e)},onTouchStart:e=>{e.stopPropagation(),m(e)}}),b.showValue&&n.jsx("div",{className:"absolute text-xs text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 px-2 py-1 rounded shadow-sm",style:{[t==="vertical"?"right":"top"]:"-24px",[t==="vertical"?"top":"left"]:`${E}%`,transform:t==="vertical"?"translateX(50%)":"translateX(-50%)"},children:k})]}),b.showLabels&&n.jsxs("div",{className:h("flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",t==="vertical"&&"flex-col text-center space-y-1 mt-0 ml-2"),children:[n.jsx("span",{children:a}),n.jsx("span",{children:o})]})]})});V.displayName="Slider";export{V as S};
