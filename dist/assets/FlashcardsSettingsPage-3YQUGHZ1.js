import{b as C,u as S,r as i,l as j,j as e,q as _}from"./main-5T23t4PA.js";import{B as d}from"./button-D1pRabHc.js";import{C as c}from"./card-DPEV4PIe.js";import{L as t}from"./label-CaEiuH7k.js";import{I as l}from"./input-CtDVRTm_.js";import{S as m}from"./switch-D2FS9P57.js";import{u as E}from"./use-toast-DizLYaPb.js";import{D as F}from"./DashboardHeader-DpjdxJig.js";import"./dropdown-menu-DW8ZoiSE.js";import{S as D}from"./SuccessDialog-n4SsZzvM.js";import{A as I}from"./arrow-left-BQBULL_z.js";import{m as x}from"./proxy-CTHD_aal.js";import{C as P}from"./calendar-BTZ9lOjb.js";import{B as z}from"./brain-dpI-w2IQ.js";import{E as A}from"./eye-CPBHLKl6.js";import{S as L}from"./save-B16AUgPb.js";import"./index-BSvf8Gkf.js";import"./index-D8pw72a5.js";import"./index-BYh_3E0O.js";import"./index-Hrv3wGwr.js";import"./index-BEPDIlbQ.js";import"./Combination-CK754xyO.js";import"./SidebarPremium-b8AcD6aG.js";import"./house-C21pZqGK.js";import"./users-BHFcZ460.js";import"./book-open-DbJlkSkE.js";import"./file-text-D1pM-cGT.js";import"./graduation-cap-CGvbZ17f.js";import"./chart-column-CiTHaPgQ.js";import"./message-circle-Bm4-2rso.js";import"./settings-CA-HrSVc.js";import"./index-CcRuMwBB.js";import"./chevron-right-BZvTPqku.js";import"./x-C8LZHbUR.js";import"./index-WTFzhl0e.js";import"./check-BGvYUlN_.js";import"./circle-check-big-BLcs0CRD.js";const _e=()=>{const{user:p}=C(),{toast:o}=E(),u=S(),[f,h]=i.useState(!0),[n,v]=i.useState(!1),[y,g]=i.useState(!1),[a,r]=i.useState({new_cards_per_day:20,max_reviews_per_day:200,easy_multiplier:2.5,good_multiplier:1,hard_multiplier:.5,graduating_interval:1,easy_interval:4,max_interval_days:365,review_order:"random",show_remaining_count:!0,show_next_intervals:!0,auto_play_audio:!1});i.useEffect(()=>{p?.id&&N()},[p]);const N=async()=>{try{h(!0),await new Promise(s=>setTimeout(s,500))}catch(s){j.error("Error loading settings:",s),o({title:"Erro ao carregar",description:"Não foi possível carregar as configurações.",variant:"destructive"})}finally{h(!1)}},w=async()=>{try{v(!0),await new Promise(s=>setTimeout(s,1e3)),g(!0)}catch(s){j.error("Error saving settings:",s),o({title:"Erro ao salvar",description:"Não foi possível salvar as configurações.",variant:"destructive"})}finally{v(!1)}},b=()=>{g(!1),u("/students/flashcards")},k=()=>{r({new_cards_per_day:20,max_reviews_per_day:200,easy_multiplier:2.5,good_multiplier:1,hard_multiplier:.5,graduating_interval:1,easy_interval:4,max_interval_days:365,review_order:"random",show_remaining_count:!0,show_next_intervals:!0,auto_play_audio:!1}),o({title:"Configurações restauradas",description:"Valores padrão restaurados."})};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(_,{size:"lg",text:"Carregando configurações..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(d,{variant:"ghost",onClick:()=>u("/students/flashcards"),className:"mb-4 hover:bg-slate-200 dark:hover:bg-slate-800",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Voltar"]}),e.jsx(F,{title:"Configurações de Flashcards",subtitle:"Personalize seu sistema de repetição espaçada"})]}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(c,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:e.jsx(P,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Limites Diários"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Controle quantos cards você estuda por dia"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"new_cards",children:"Novos cards por dia"}),e.jsx(l,{id:"new_cards",type:"number",min:"1",max:"100",value:a.new_cards_per_day,onChange:s=>r({...a,new_cards_per_day:parseInt(s.target.value)}),className:"mt-2"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recomendado: 20-30 cards por dia"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_reviews",children:"Máximo de revisões por dia"}),e.jsx(l,{id:"max_reviews",type:"number",min:"10",max:"500",value:a.max_reviews_per_day,onChange:s=>r({...a,max_reviews_per_day:parseInt(s.target.value)}),className:"mt-2"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Recomendado: 100-200 revisões por dia"})]})]})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(c,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:e.jsx(z,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Algoritmo SM-2"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Ajuste os multiplicadores de intervalo"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"easy_mult",children:'Multiplicador "Fácil"'}),e.jsx(l,{id:"easy_mult",type:"number",step:"0.1",min:"1.5",max:"3.0",value:a.easy_multiplier,onChange:s=>r({...a,easy_multiplier:parseFloat(s.target.value)}),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"max_interval",children:"Intervalo máximo (dias)"}),e.jsx(l,{id:"max_interval",type:"number",min:"30",max:"3650",value:a.max_interval_days,onChange:s=>r({...a,max_interval_days:parseInt(s.target.value)}),className:"mt-2"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Máximo de tempo entre revisões"})]})]})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(c,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:e.jsx(A,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Interface"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Personalize a experiência de estudo"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Mostrar contagem restante"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Exibir quantos cards faltam"})]}),e.jsx(m,{checked:a.show_remaining_count,onCheckedChange:s=>r({...a,show_remaining_count:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Mostrar próximos intervalos"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Exibir quando o card será revisado novamente"})]}),e.jsx(m,{checked:a.show_next_intervals,onCheckedChange:s=>r({...a,show_next_intervals:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Reproduzir áudio automaticamente"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Tocar áudio ao mostrar o card"})]}),e.jsx(m,{checked:a.auto_play_audio,onCheckedChange:s=>r({...a,auto_play_audio:s})})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Ordem de revisão"}),e.jsxs("select",{value:a.review_order,onChange:s=>r({...a,review_order:s.target.value}),className:"mt-2 w-full p-2 border rounded-lg dark:bg-slate-800 dark:border-slate-700",children:[e.jsx("option",{value:"random",children:"Aleatória"}),e.jsx("option",{value:"difficulty",children:"Por dificuldade"}),e.jsx("option",{value:"chronological",children:"Cronológica"})]})]})]})]})}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(d,{variant:"outline",onClick:k,disabled:n,children:"Restaurar Padrões"}),e.jsx(d,{onClick:w,disabled:n,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:n?e.jsxs(e.Fragment,{children:[e.jsx(_,{size:"sm",className:"mr-2"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Salvar Configurações"]})})]}),e.jsx(D,{isOpen:y,onClose:b,title:"Configurações salvas!",message:"Suas preferências de flashcards foram atualizadas com sucesso e já estão em vigor."})]})})};export{_e as default};
