import{c as T,u as U,a as V,r as d,j as e,L as g,b as $}from"./main-vCmkj0Ph.js";import{m as c,C as _,B as j}from"./card-QZFCDucj.js";import{L as h,I as u}from"./label-DA0WPkHe.js";import{A as C,a as P}from"./alert-zVRE_rHg.js";import{L as S,E as A,a as O,b as X}from"./authEdge-Cu5QV50p.js";import{G as E}from"./graduation-cap-D1KCXHfz.js";import{B as H}from"./book-open-uCoOEy7B.js";import{C as v}from"./circle-check-BzSOXqD0.js";import{A as J}from"./index-C0iot38P.js";import{C as Z}from"./chevron-right-DOiZ8o1C.js";import{C as K}from"./circle-alert-CMpGX98n.js";import{U as Q}from"./user-CLBPp_mc.js";import{M as W}from"./mail-BX7rAcXq.js";import{E as M}from"./eye-wiWixlIo.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],ee=T("building-2",Y),pe=()=>{const R=U(),{signUp:L}=V(),[l,p]=d.useState(1),[a,N]=d.useState({name:"",email:"",password:"",confirmPassword:"",role:""}),[b,F]=d.useState(!1),[f,q]=d.useState(!1),[i,w]=d.useState(!1),[k,r]=d.useState(""),[z,I]=d.useState(!1),y=[{id:"student",title:"Aluno",description:"Acesse atividades, acompanhe seu progresso e ganhe XP",icon:E,gradient:"from-blue-600 to-indigo-600",features:["Atividades personalizadas","Sistema de XP","Acompanhamento de notas"]},{id:"teacher",title:"Professor",description:"Crie turmas, atividades e acompanhe seus alunos",icon:H,gradient:"from-purple-600 to-pink-600",features:["Correção automática","Analytics detalhado","Gestão de turmas"]},{id:"school",title:"Escola",description:"Gerencie toda a instituição em um só lugar",icon:ee,gradient:"from-emerald-600 to-teal-600",features:["Gestão completa","Relatórios consolidados","Múltiplos professores"]}],B=t=>{N(s=>({...s,role:t})),p(2)},m=t=>{const{name:s,value:o}=t.target;N(n=>({...n,[s]:o})),r("")},D=()=>!a.name||!a.email||!a.password||!a.confirmPassword?(r("Por favor, preencha todos os campos"),!1):a.email.includes("@")?a.password.length<6?(r("A senha deve ter pelo menos 6 caracteres"),!1):a.password!==a.confirmPassword?(r("As senhas não coincidem"),!1):!0:(r("Por favor, insira um e-mail válido"),!1),G=async t=>{if(t.preventDefault(),r(""),!!D()){w(!0);try{try{await O({email:a.email,name:a.name,role:a.role})}catch(n){console.log("Validation error (non-blocking):",n)}const{data:s,error:o}=await L(a.email,a.password,{name:a.name,role:a.role});if(o){o.message.includes("already registered")?r("Este e-mail já está cadastrado"):r(o.message||"Erro ao criar conta. Tente novamente.");return}if(s?.user){try{await X(s.user.id,{name:a.name,role:a.role})}catch(n){console.log("Register success callback error (non-blocking):",n)}I(!0),setTimeout(()=>{R("/login",{state:{message:"Conta criada! Verifique seu e-mail para confirmar."}})},2e3)}}catch(s){console.error("Register error:",s),r("Erro ao criar conta. Tente novamente.")}finally{w(!1)}}},x=y.find(t=>t.id===a.role);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-slate-900/[0.04] dark:bg-grid-slate-400/[0.05] bg-[size:20px_20px]"}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-4xl relative z-10",children:[e.jsxs(g,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(E,{className:"w-7 h-7 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"TamanduAI"})]}),e.jsxs(_,{className:"p-8 bg-white dark:bg-slate-900 shadow-2xl border-0",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=1?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:l>1?e.jsx(v,{className:"w-5 h-5"}):"1"}),e.jsx("div",{className:`h-1 w-16 rounded-full ${l>=2?"bg-gradient-to-r from-blue-600 to-purple-600":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=2?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:"2"})]}),e.jsxs(J,{mode:"wait",children:[l===1&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-slate-900 dark:text-white",children:"Escolha seu perfil"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Selecione como você vai usar a plataforma"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:y.map((t,s)=>e.jsxs(c.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},onClick:()=>B(t.id),className:"group relative p-6 rounded-2xl border-2 border-slate-200 dark:border-slate-700 hover:border-blue-400 dark:hover:border-blue-600 transition-all text-left hover:shadow-xl",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${t.gradient} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(t.icon,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-slate-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:t.description}),e.jsx("ul",{className:"space-y-2",children:t.features.map((o,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(v,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:o})]},n))}),e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Z,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]},t.id))})]},"step1"),l===2&&e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-2xl mx-auto",children:[x&&e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${x.gradient} flex items-center justify-center`,children:e.jsx(x.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Cadastrando como"}),e.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:x.title})]}),e.jsx("button",{onClick:()=>p(1),className:"ml-2 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Alterar"})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-slate-900 dark:text-white",children:"Criar sua conta"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Complete seus dados para começar"})]}),z&&e.jsx(c.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs(C,{className:"mb-6 border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950",children:[e.jsx(v,{className:"w-4 h-4 text-green-600"}),e.jsx(P,{className:"text-green-800 dark:text-green-200",children:"Conta criada com sucesso! Redirecionando..."})]})}),k&&e.jsx(c.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs(C,{variant:"destructive",className:"mb-6",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx(P,{children:k})]})}),e.jsxs("form",{onSubmit:G,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"name",className:"text-slate-700 dark:text-slate-300",children:"Nome completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"name",name:"name",type:"text",placeholder:"Seu nome",value:a.name,onChange:m,className:"pl-10 h-12 bg-white dark:bg-slate-900 text-foreground border-border",disabled:i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"email",className:"text-slate-700 dark:text-slate-300",children:"E-mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:a.email,onChange:m,className:"pl-10 h-12 bg-white dark:bg-slate-900 text-foreground border-border",disabled:i,autoComplete:"email",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"password",className:"text-slate-700 dark:text-slate-300",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"password",name:"password",type:b?"text":"password",placeholder:"Mínimo 6 caracteres",value:a.password,onChange:m,className:"pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground border-border",disabled:i,autoComplete:"new-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>F(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",tabIndex:-1,children:b?e.jsx(A,{className:"w-5 h-5"}):e.jsx(M,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"confirmPassword",className:"text-slate-700 dark:text-slate-300",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",placeholder:"Digite a senha novamente",value:a.confirmPassword,onChange:m,className:"pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground border-border",disabled:i,autoComplete:"new-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>q(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",tabIndex:-1,children:f?e.jsx(A,{className:"w-5 h-5"}):e.jsx(M,{className:"w-5 h-5"})})]})]}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:["Ao criar uma conta, você concorda com nossos"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Termos de Uso"})," ","e"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Política de Privacidade"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>p(1),disabled:i,className:"flex-1 h-12 whitespace-nowrap bg-white dark:bg-slate-900 text-foreground border-border",children:"Voltar"}),e.jsx(j,{type:"submit",disabled:i,className:"flex-1 h-12 text-base whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:i?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Criando conta..."})]}):e.jsx("span",{children:"Criar conta"})})]})]})]},"step2")]}),l===2&&e.jsxs("div",{className:"relative mt-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-500 dark:text-slate-400",children:"Já tem uma conta?"})})]}),l===2&&e.jsx(g,{to:"/login",className:"block mt-4",children:e.jsx(j,{type:"button",variant:"outline",className:"w-full h-12 text-base whitespace-nowrap bg-white dark:bg-slate-900 text-foreground border-border hover:bg-slate-50 dark:hover:bg-slate-800",children:"Fazer login"})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(g,{to:"/",className:"text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"← Voltar para o início"})})]}),e.jsx("div",{className:"fixed top-0 left-0 w-96 h-96 bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl -z-10"}),e.jsx("div",{className:"fixed bottom-0 right-0 w-96 h-96 bg-purple-400/20 dark:bg-purple-600/10 rounded-full blur-3xl -z-10"})]})};export{pe as default};
