import{c as K,u as Q,a as W,r as c,j as e,L as C,b as ee}from"./main-PnoWv5mu.js";import{m as h,B as D}from"./button-B1az96ai.js";import{I as u}from"./input-BGWMq9XA.js";import{L as p}from"./label-DSOeyQ5r.js";import{C as ae}from"./card-DNyDBtwZ.js";import{A as z,a as B}from"./alert-DfQNQxiz.js";import{G as te}from"./graduation-cap-BTPeK0uK.js";import{B as se}from"./book-open-BN8GTFXN.js";import{B as re}from"./building-2-Da2HGUou.js";import{S as le}from"./sparkles-D96F1LDE.js";import{C as v}from"./circle-check-DbX-ZXTN.js";import{A as ie,C as oe}from"./index-DvZMkTcl.js";import{C as R}from"./chevron-right-5LVKKztM.js";import{C as ne}from"./circle-alert-BGRUIVYu.js";import{U as de}from"./user-IPdw0V9z.js";import{C as f}from"./check-8UqrO2_7.js";import{X as b}from"./x-7WqOwCJm.js";import{M as ce}from"./mail-CzqqoO89.js";import{L as q,E as M}from"./lock-DsgKaCGH.js";import{E as V}from"./eye-DRJaLhZW.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xe=K("credit-card",me),Ie=()=>{const G=Q(),{signUp:T}=W(),[m,N]=c.useState(1),[l,P]=c.useState({name:"",email:"",password:"",confirmPassword:"",cpf:"",birthDate:"",role:""}),[r,g]=c.useState({name:null,email:null,cpf:null,birthDate:null,password:{valid:null,messages:[]}}),[w,U]=c.useState(!1),[y,O]=c.useState(!1),[d,S]=c.useState(!1),[$,n]=c.useState(""),[X,_]=c.useState(!1),k=[{id:"student",title:"Aluno",description:"Acesse atividades, acompanhe seu progresso e ganhe XP",icon:te,gradient:"from-cyan-600 to-blue-600",features:["Atividades personalizadas","Sistema de XP","Acompanhamento de notas"],disabled:!1},{id:"teacher",title:"Professor",description:"Crie turmas, atividades e acompanhe seus alunos",icon:se,gradient:"from-blue-600 to-blue-800",features:["Correção automática","Analytics detalhado","Gestão de turmas"],disabled:!1},{id:"school",title:"Escola",description:"Gerencie toda a instituição em um só lugar",icon:re,gradient:"from-gray-400 to-gray-600",features:["Gestão completa","Relatórios consolidados","Múltiplos professores"],disabled:!0,badge:"Em Breve"}],A=t=>/^[a-zA-ZÀ-ÿ\s]{3,}$/.test(t),F=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),E=t=>{const s=t.replace(/\D/g,"");if(s.length!==11||/^(\d)\1{10}$/.test(s))return!1;let a=0;for(let i=0;i<9;i++)a+=parseInt(s.charAt(i))*(10-i);let o=11-a%11;if(o>=10&&(o=0),parseInt(s.charAt(9))!==o)return!1;a=0;for(let i=0;i<10;i++)a+=parseInt(s.charAt(i))*(11-i);return o=11-a%11,o>=10&&(o=0),parseInt(s.charAt(10))===o},I=t=>{if(!t)return!1;const s=new Date(t),o=new Date().getFullYear()-s.getFullYear();return o>=5&&o<=120},L=t=>{const s=[];let a=!0;return t.length<8&&(s.push("Mínimo 8 caracteres"),a=!1),/\d/.test(t)||(s.push("Pelo menos 1 número"),a=!1),/[!@#$%^&*(),.?":{}|<>]/.test(t)||(s.push("Pelo menos 1 caractere especial"),a=!1),{valid:a,messages:s}},Y=t=>{const a=t.replace(/\D/g,"").match(/^(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})$/);return a?a[2]?`${a[1]}.${a[2]}${a[3]?`.${a[3]}`:""}${a[4]?`-${a[4]}`:""}`:a[1]:t},J=t=>{k.find(a=>a.id===t)?.disabled||(P(a=>({...a,role:t})),N(2))},x=t=>{const{name:s,value:a}=t.target;let o=a;s==="cpf"&&(o=Y(a)),P(i=>({...i,[s]:o})),n(""),s==="name"&&a&&g(i=>({...i,name:A(a)})),s==="email"&&a&&g(i=>({...i,email:F(a)})),s==="cpf"&&a&&g(i=>({...i,cpf:E(a)})),s==="birthDate"&&a&&g(i=>({...i,birthDate:I(a)})),s==="password"&&a&&g(i=>({...i,password:L(a)}))},Z=()=>{if(!l.name||!l.email||!l.password||!l.confirmPassword||!l.cpf||!l.birthDate)return n("Por favor, preencha todos os campos obrigatórios"),!1;if(!A(l.name))return n("Nome inválido (mínimo 3 caracteres, apenas letras)"),!1;if(!F(l.email))return n("E-mail inválido"),!1;if(!E(l.cpf))return n("CPF inválido"),!1;if(!I(l.birthDate))return n("Data de nascimento inválida"),!1;const t=L(l.password);return t.valid?l.password!==l.confirmPassword?(n("As senhas não coincidem"),!1):!0:(n(`Senha inválida: ${t.messages.join(", ")}`),!1)},H=async t=>{if(t.preventDefault(),n(""),!!Z()){S(!0);try{const{data:s,error:a}=await T(l.email,l.password,{name:l.name,role:l.role});if(a){a.message.includes("already registered")?n("Este e-mail já está cadastrado"):n(a.message||"Erro ao criar conta. Tente novamente.");return}s?.user&&(_(!0),setTimeout(()=>{G("/login",{state:{message:"Conta criada! Verifique seu e-mail para confirmar."}})},2e3))}catch(s){console.error("Register error:",s),n("Erro ao criar conta. Tente novamente.")}finally{S(!1)}}},j=k.find(t=>t.id===l.role);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-blue-100 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-slate-900/[0.04] dark:bg-grid-slate-400/[0.05] bg-[size:20px_20px]"}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-4xl relative z-10",children:[e.jsxs(C,{to:"/",className:"flex items-center justify-center gap-2 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-600 via-blue-600 to-blue-800 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(le,{className:"w-7 h-7 text-white"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-600 via-blue-600 to-blue-800 bg-clip-text text-transparent",children:"TamanduAI"})]}),e.jsxs(ae,{className:"p-8 bg-white dark:bg-slate-900 shadow-2xl border-0",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${m>=1?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-md":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:m>1?e.jsx(v,{className:"w-5 h-5"}):"1"}),e.jsx("div",{className:`h-1 w-16 rounded-full ${m>=2?"bg-gradient-to-r from-cyan-600 to-blue-600":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${m>=2?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-md":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:"2"})]}),e.jsxs(ie,{mode:"wait",children:[m===1&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-slate-900 dark:text-white",children:"Escolha seu perfil"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Selecione como você vai usar a plataforma"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:k.map((t,s)=>e.jsxs(h.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},onClick:()=>J(t.id),disabled:t.disabled,className:`group relative p-6 rounded-2xl border-2 transition-all text-left ${t.disabled?"border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 cursor-not-allowed opacity-75":"border-slate-200 dark:border-slate-700 hover:border-cyan-400 dark:hover:border-cyan-600 hover:shadow-xl cursor-pointer"}`,children:[t.badge&&e.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-gradient-to-r from-cyan-600 to-blue-600 text-white text-xs font-bold rounded-full shadow-md",children:t.badge}),e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${t.gradient} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(t.icon,{className:"w-7 h-7 text-white"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-slate-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:t.description}),e.jsx("ul",{className:"space-y-2",children:t.features.map((a,o)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(v,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:a})]},o))}),e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(R,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]},t.id))})]},"step1"),m===2&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-2xl mx-auto",children:[j&&e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${j.gradient} flex items-center justify-center`,children:e.jsx(j.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Cadastrando como"}),e.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:j.title})]}),e.jsx("button",{onClick:()=>N(1),className:"ml-2 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Alterar"})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-slate-900 dark:text-white",children:"Criar sua conta"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Complete seus dados para começar"})]}),X&&e.jsx(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs(z,{className:"mb-6 border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950",children:[e.jsx(v,{className:"w-4 h-4 text-green-600"}),e.jsx(B,{className:"text-green-800 dark:text-green-200",children:"Conta criada com sucesso! Redirecionando..."})]})}),$&&e.jsx(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:e.jsxs(z,{variant:"destructive",className:"mb-6",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx(B,{children:$})]})}),e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"name",className:"text-slate-700 dark:text-slate-300",children:"Nome completo *"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"name",name:"name",type:"text",placeholder:"Seu nome",value:l.name,onChange:x,className:`pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground ${r.name===!0?"border-green-500 focus:ring-green-500":r.name===!1?"border-red-500 focus:ring-red-500":"border-border"}`,disabled:d,required:!0}),r.name!==null&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.name?e.jsx(f,{className:"w-5 h-5 text-green-500"}):e.jsx(b,{className:"w-5 h-5 text-red-500"})})]}),r.name===!1&&e.jsx("p",{className:"text-xs text-red-500",children:"Mínimo 3 caracteres, apenas letras"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",className:"text-slate-700 dark:text-slate-300",children:"E-mail *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"email",name:"email",type:"email",placeholder:"seu@email.com",value:l.email,onChange:x,className:`pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground ${r.email===!0?"border-green-500 focus:ring-green-500":r.email===!1?"border-red-500 focus:ring-red-500":"border-border"}`,disabled:d,autoComplete:"email",required:!0}),r.email!==null&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.email?e.jsx(f,{className:"w-5 h-5 text-green-500"}):e.jsx(b,{className:"w-5 h-5 text-red-500"})})]}),r.email===!1&&e.jsx("p",{className:"text-xs text-red-500",children:"E-mail inválido"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"cpf",className:"text-slate-700 dark:text-slate-300",children:"CPF *"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"cpf",name:"cpf",type:"text",placeholder:"000.000.000-00",value:l.cpf,onChange:x,maxLength:14,className:`pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground ${r.cpf===!0?"border-green-500 focus:ring-green-500":r.cpf===!1?"border-red-500 focus:ring-red-500":"border-border"}`,disabled:d,required:!0}),r.cpf!==null&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.cpf?e.jsx(f,{className:"w-5 h-5 text-green-500"}):e.jsx(b,{className:"w-5 h-5 text-red-500"})})]}),r.cpf===!1&&e.jsx("p",{className:"text-xs text-red-500",children:"CPF inválido"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"birthDate",className:"text-slate-700 dark:text-slate-300",children:"Data de Nascimento *"}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"birthDate",name:"birthDate",type:"date",value:l.birthDate,onChange:x,className:`pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground ${r.birthDate===!0?"border-green-500 focus:ring-green-500":r.birthDate===!1?"border-red-500 focus:ring-red-500":"border-border"}`,disabled:d,required:!0}),r.birthDate!==null&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.birthDate?e.jsx(f,{className:"w-5 h-5 text-green-500"}):e.jsx(b,{className:"w-5 h-5 text-red-500"})})]}),r.birthDate===!1&&e.jsx("p",{className:"text-xs text-red-500",children:"Idade deve ser entre 5 e 120 anos"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",className:"text-slate-700 dark:text-slate-300",children:"Senha *"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"password",name:"password",type:w?"text":"password",placeholder:"Mínimo 8 caracteres",value:l.password,onChange:x,className:`pl-10 pr-20 h-12 bg-white dark:bg-slate-900 text-foreground ${r.password.valid===!0?"border-green-500 focus:ring-green-500":r.password.valid===!1?"border-red-500 focus:ring-red-500":"border-border"}`,disabled:d,autoComplete:"new-password",required:!0}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[r.password.valid!==null&&e.jsx("div",{children:r.password.valid?e.jsx(f,{className:"w-5 h-5 text-green-500"}):e.jsx(b,{className:"w-5 h-5 text-red-500"})}),e.jsx("button",{type:"button",onClick:()=>U(!w),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",tabIndex:-1,children:w?e.jsx(M,{className:"w-5 h-5"}):e.jsx(V,{className:"w-5 h-5"})})]})]}),r.password.messages.length>0&&e.jsx("div",{className:"space-y-1",children:r.password.messages.map((t,s)=>e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(b,{className:"w-3 h-3"})," ",t]},s))}),l.password&&r.password.valid&&e.jsxs("p",{className:"text-xs text-green-500 flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3"})," Senha forte!"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"confirmPassword",className:"text-slate-700 dark:text-slate-300",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(u,{id:"confirmPassword",name:"confirmPassword",type:y?"text":"password",placeholder:"Digite a senha novamente",value:l.confirmPassword,onChange:x,className:"pl-10 pr-10 h-12 bg-white dark:bg-slate-900 text-foreground border-border",disabled:d,autoComplete:"new-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>O(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",tabIndex:-1,children:y?e.jsx(M,{className:"w-5 h-5"}):e.jsx(V,{className:"w-5 h-5"})})]})]}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:["Ao criar uma conta, você concorda com nossos"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Termos de Uso"})," ","e"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Política de Privacidade"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>N(1),disabled:d,className:"flex-1 h-12 whitespace-nowrap bg-white dark:bg-slate-900 text-foreground border-border",children:"Voltar"}),e.jsx(D,{type:"submit",variant:"gradient",disabled:d,className:"flex-1 h-12 text-base whitespace-nowrap",children:d?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Criando conta..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"Criar conta"})]})})]})]})]},"step2")]}),m===2&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 font-medium",children:"Já tem uma conta?"})})]}),e.jsx(C,{to:"/login",className:"block",children:e.jsx(D,{type:"button",variant:"gradientOutline",className:"w-full h-12 text-base font-medium border-2 border-cyan-600 dark:border-cyan-500 text-cyan-700 dark:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-950/20",leftIcon:e.jsx(R,{className:"w-5 h-5"}),children:"Fazer login agora"})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(C,{to:"/",className:"text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400",children:"← Voltar para o início"})})]}),e.jsx("div",{className:"fixed top-0 left-0 w-96 h-96 bg-cyan-400/20 dark:bg-cyan-600/10 rounded-full blur-3xl -z-10"}),e.jsx("div",{className:"fixed bottom-0 right-0 w-96 h-96 bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-3xl -z-10"})]})};export{Ie as default};
