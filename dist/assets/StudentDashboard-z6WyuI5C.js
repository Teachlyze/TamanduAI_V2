import{c as se,a as ge,r as m,s as y,l as d,j as e,m as pe,L as _}from"./main-BXI8jImK.js";import{m as C,B as u}from"./button-DhJSXayK.js";import{C as f}from"./card-Dts-jKab.js";import{B as G}from"./SidebarPremium-CqhK_O_u.js";import{P as fe}from"./progress-C4xxo9fK.js";import{B}from"./book-open-BMCImb8A.js";import{F as q}from"./file-text-B1_cTV9D.js";import{C as O}from"./circle-check-Fi_I5OIJ.js";import{C as ee}from"./clock-Ic71-9yN.js";import{C as U}from"./chart-column-D6pi1FRc.js";import{T as je}from"./trophy-Ozj9A4JM.js";import{C as P}from"./chevron-right-DFiBXpQq.js";import{ag as ve,ai as ye,aj as we,ak as ke,ah as Ne}from"./CartesianChart-CT_d4aWO.js";import{B as _e,d as Ce,C as De}from"./BarChart-BxSKjVb3.js";import{C as z}from"./index-Cyt6Mlq7.js";import{S as Se}from"./star-qgVESZf4.js";import{V as Ee}from"./video-BNJ0bsve.js";import{T as Ae}from"./triangle-alert-fhQdnZTc.js";import{C as te}from"./circle-alert-D0X6fNnu.js";import{I as Ie}from"./info-Cz_2uO3r.js";import"./bell-De3gaLfU.js";import"./trending-up-C_AGH9Be.js";import"./user-XMBxPeUS.js";import"./settings-Dn83Owos.js";import"./users-1MVt23UL.js";import"./graduation-cap-BVXXkz0b.js";import"./x-DhRNfShw.js";import"./index-D63a-v4Z.js";import"./index-Bl3P6sXQ.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],ze=se("snowflake",$e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]],Le=se("thermometer-snowflake",Te),ut=()=>{const{user:x}=ge(),[ae,E]=m.useState(!0),[D,K]=m.useState({totalClasses:0,activeActivities:0,completedActivities:0,upcomingDeadlines:0,completionRate:0,avgGrade:0}),[re,H]=m.useState([]),[ie,W]=m.useState([]),[le,X]=m.useState([]),[Me,Y]=m.useState([]),[de,J]=m.useState([]),[R,oe]=m.useState([]),[F,T]=m.useState([]),[A,Q]=m.useState(3),Z=m.useCallback(async t=>{if(!x?.id){T([]);return}const l=t??3;try{const c=new Date,n=new Date;n.setDate(n.getDate()+l);const{data:p=[],error:b}=await y.from("calendar_events").select(`
          id, 
          title, 
          start_time, 
          end_time, 
          type, 
          class_id,
          class:classes(id, name, subject)
        `).gte("start_time",c.toISOString()).lte("start_time",n.toISOString()).order("start_time",{ascending:!0});b&&d.error("[Events] Erro ao buscar eventos:",b);const{data:h=[],error:w}=await y.from("meetings").select(`
          id, 
          title, 
          start_time, 
          end_time, 
          class_id, 
          meeting_url,
          class:classes(id, name, subject)
        `).gte("start_time",c.toISOString()).lte("start_time",n.toISOString()).order("start_time",{ascending:!0});w&&d.error("[Events] Erro ao buscar reuni√µes:",w);const{data:L=[]}=await y.from("class_members").select("class_id").eq("user_id",x.id).eq("role","student"),j=L.map(i=>i.class_id);let I=[];if(j.length>0){const{data:i,error:S}=await y.from("activity_class_assignments").select(`
            activity_id,
            class_id,
            class:classes(id, name, subject),
            activity:activities(
              id,
              title,
              due_date,
              status,
              is_published
            )
          `).in("class_id",j);S&&d.error("[Events] Erro ao buscar atividades:",S),I=(i||[]).filter(o=>o.activity?.due_date&&o.activity.is_published&&o.activity.status==="active"&&new Date(o.activity.due_date)>=c&&new Date(o.activity.due_date)<=n).map(o=>({id:`activity-${o.activity.id}`,title:o.activity.title||"Atividade",start:o.activity.due_date,end:null,type:"prazo",link:`/students/activities/${o.activity.id}`,classId:o.class_id,className:o.class?.name,classSubject:o.class?.subject}))}const v=[...(p||[]).map(i=>({id:`cal-${i.id}`,title:i.title||"Evento",start:i.start_time,end:i.end_time,type:i.type||"evento",link:null,classId:i.class_id||null,className:i.class?.name,classSubject:i.class?.subject})),...(h||[]).map(i=>({id:`meet-${i.id}`,title:i.title||"Reuni√£o",start:i.start_time,end:i.end_time,type:"reuni√£o",link:i.meeting_url||null,classId:i.class_id||null,className:i.class?.name,classSubject:i.class?.subject})),...I].sort((i,S)=>new Date(i.start)-new Date(S.start));T(v.slice(0,5))}catch(c){d.error("[StudentDashboard] Erro ao carregar eventos:",c),T([])}},[x?.id]);m.useEffect(()=>{x?.id?ne():E(!1)},[x]),m.useEffect(()=>{x?.id?Z(A):T([])},[x?.id,A,Z]);const ne=async()=>{try{if(E(!0),d.debug("[StudentDashboard] Carregando dados..."),!x?.id){d.debug("[StudentDashboard] Usu√°rio n√£o autenticado"),E(!1);return}let t=[],l=[];try{d.debug("[StudentDashboard] üîç Buscando turmas para user:",x.id);const{data:s,error:a}=await y.from("class_members").select("class_id").eq("user_id",x.id).eq("role","student");if(a)throw d.error("[StudentDashboard] ‚ùå Erro ao buscar memberships:",a),a;if(l=s?.map(r=>r.class_id)||[],d.debug("[StudentDashboard] üìä Memberships encontrados:",s),d.debug("[StudentDashboard] üìã IDs extra√≠dos:",l),l.length===0)d.debug("[StudentDashboard] ‚ö†Ô∏è Nenhuma turma encontrada para este usu√°rio");else{d.debug("[StudentDashboard] ‚úÖ IDs de turmas encontrados:",l.length);const r=y.from("classes").select("id, name, subject, color, banner_color").in("id",l),k=new Promise((Pe,be)=>setTimeout(()=>be(new Error("timeout")),3e3)),{data:g,error:N}=await Promise.race([r,k]);if(N)throw d.error("[StudentDashboard] ‚ùå Erro ao buscar classes:",N),N;t=g||[],d.debug("[StudentDashboard] ‚úÖ Turmas carregadas:",t)}}catch(s){d.error("[StudentDashboard] ‚ùå Erro ao buscar turmas:",s)}if(l.length===0){K({totalClasses:0,activeActivities:0,completedActivities:0,upcomingDeadlines:0,completionRate:0,avgGrade:0}),H([]),W([]),X([]),Y([]),J([{id:1,type:"info",message:"Voc√™ ainda n√£o est√° em nenhuma turma",action:"Entrar"}]),E(!1);return}let c=[],n=[];const p=new Map;let b=[];try{const{data:s,error:a}=await y.from("activity_class_assignments").select(`
            activity_id,
            class_id,
            class:classes (
              id,
              name,
              subject,
              color
            ),
            activity:activities(
              id,
              title,
              due_date,
              max_score,
              type,
              is_published,
              status
            )
          `).in("class_id",l);if(a)throw d.error("[StudentDashboard] ‚ùå Erro ao buscar atividades:",a),a;b=(s||[]).map(r=>{const k=r.activity||{},g=r.class||{};return{...k,classId:r.class_id||g.id,className:g.name,classSubject:g.subject,classColor:g.color}}),b.forEach(r=>{p.set(r.id,{classId:r.classId,className:r.className,classSubject:r.classSubject,classColor:r.classColor,maxScore:r.max_score||0,title:r.title})}),c=b,n=b.filter(r=>r.is_published&&r.status==="active"),d.debug("[StudentDashboard] Atividades carregadas:",n.length)}catch(s){d.error("[StudentDashboard] Timeout ou erro ao buscar atividades:",s.message)}let h=[];try{const s=y.from("submissions").select("id, activity_id, status, grade, submitted_at, graded_at").eq("student_id",x.id),a=new Promise((k,g)=>setTimeout(()=>g(new Error("timeout")),5e3)),{data:r}=await Promise.race([s,a]);h=r||[],d.debug("[StudentDashboard] Submiss√µes carregadas:",h.length)}catch(s){d.error("[StudentDashboard] Timeout ou erro ao buscar submiss√µes:",s.message)}const w=new Map(h?.map(s=>[s.activity_id,s])||[]),L=new Date,j=n.filter(s=>{if(!s.due_date)return!1;const r=(new Date(s.due_date)-L)/(1e3*60*60);return r>0&&r<=48&&!w.has(s.id)}),I=h?.filter(s=>s.status==="submitted"||s.status==="graded")||[],v=h?.filter(s=>s.grade!==null)||[],i=v.length>0?v.reduce((s,a)=>s+parseFloat(a.grade),0)/v.length:0,S=n.length>0?I.length/n.length*100:0,o=n.filter(s=>!w.has(s.id)).map(s=>({...s,dueDate:s.due_date,class_name:p.get(s.id)?.className||"Turma",classColor:p.get(s.id)?.classColor})),xe=v.sort((s,a)=>new Date(a.graded_at||a.submitted_at)-new Date(s.graded_at||s.submitted_at)).slice(0,5).map(s=>{const a=p.get(s.activity_id)||{},r=s.grade!==null?Number(s.grade):null;return{...s,activity_title:a.title||"Atividade",class_name:a.className||"Turma",score:r,max_score:a.maxScore||100}}),V=new Map;v.forEach(s=>{const a=p.get(s.activity_id),r=s.grade!==null?Number(s.grade):null;if(!a?.classId||r===null)return;const k=a.maxScore||0;if(k<=0)return;const g=r/k*100,N=V.get(a.classId)||{classId:a.classId,className:a.className||"Turma",classColor:a.classColor||"#0EA5E9",total:0,count:0};N.total+=g,N.count+=1,V.set(a.classId,N)});const ue=Array.from(V.values()).map(s=>({classId:s.classId,className:s.className,classColor:s.classColor,average:Number((s.total/s.count).toFixed(1))})).sort((s,a)=>a.average-s.average),$=[];j.length>0&&$.push({id:1,type:"warning",message:`${j.length} atividade${j.length>1?"s":""} com prazo em 48h`,action:"Ver"}),o.length>0&&$.push({id:2,type:"info",message:`${o.length} atividade${o.length>1?"s":""} pendente${o.length>1?"s":""}`,action:"Acessar"});const M=v.filter(s=>{if(!s.graded_at)return!1;const a=new Date(s.graded_at);return(L-a)/(1e3*60*60*24)<=7});M.length>0&&$.push({id:3,type:"success",message:`${M.length} feedback${M.length>1?"s":""} recebido${M.length>1?"s":""}`,action:"Ler"}),K({totalClasses:t.length,activeActivities:o.length,completedActivities:I.length,upcomingDeadlines:j.length,completionRate:Math.round(S),avgGrade:parseFloat(i.toFixed(1))}),H(t),W(o.slice(0,5)),X(xe),Y(j),oe(ue),J($.length>0?$:[{id:1,type:"success",message:"Tudo em dia! Continue assim!",action:""}]),d.debug("[StudentDashboard] Dados carregados com sucesso")}catch(t){d.error("[StudentDashboard] Erro ao carregar dashboard:",t)}finally{E(!1),d.debug("[StudentDashboard] Loading finalizado")}},ce=[{title:"Minhas Turmas",value:D.totalClasses,icon:B,gradient:"from-sky-500 to-blue-600"},{title:"Atividades Ativas",value:D.activeActivities,icon:q,gradient:"from-blue-600 to-slate-600"},{title:"Atividades Conclu√≠das",value:D.completedActivities,icon:O,gradient:"from-cyan-500 to-blue-500"},{title:"Prazos Pr√≥ximos (48h)",value:D.upcomingDeadlines,icon:ee,gradient:"from-slate-500 to-slate-700"},{title:"Taxa de Conclus√£o",value:`${D.completionRate}%`,icon:U,gradient:"from-emerald-500 to-cyan-500"},{title:"Nota M√©dia",value:D.avgGrade.toFixed(1),icon:je,gradient:"from-blue-500 to-indigo-500"}],me=t=>{const l=new Date,n=(new Date(t)-l)/(1e3*60*60);return n<24?{label:"Urgente",variant:"destructive"}:n<48?{label:"Em breve",variant:"warning"}:{label:"Normal",variant:"default"}},he=t=>t>=8?"text-green-600 dark:text-green-400":t>=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return ae?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(pe,{size:"lg",text:"Carregando dashboard..."})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-slate-200 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 p-4 md:p-6",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-cyan-600 focus:text-white focus:rounded-lg focus:shadow-lg",children:"Pular para o conte√∫do principal"}),e.jsxs("header",{className:"relative mb-6 overflow-hidden rounded-2xl bg-gradient-to-r from-blue-600 via-slate-600 to-slate-800 dark:from-slate-800 dark:via-slate-900 dark:to-blue-900 p-6 md:p-8 text-white shadow-lg",role:"banner",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]","aria-hidden":"true"}),e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Meu Dashboard"}),e.jsx("p",{className:"text-cyan-100 dark:text-cyan-200 text-sm md:text-base",children:"Acompanhe seu progresso, atividades e desempenho acad√™mico"})]}),e.jsx(Le,{className:"absolute top-6 right-6 w-16 h-16 text-white/20"}),e.jsx(ze,{className:"absolute bottom-6 left-8 w-12 h-12 text-white/15"})]}),e.jsxs("main",{id:"main-content",role:"main","aria-label":"Estat√≠sticas do estudante",children:[e.jsxs("section",{"aria-labelledby":"stats-heading",className:"mb-8",children:[e.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Estat√≠sticas gerais"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:ce.map((t,l)=>{const c=t.icon;return e.jsx(C.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},"aria-label":`${t.title}: ${t.value}`,children:e.jsxs(f,{className:"p-4 md:p-6 hover:shadow-xl transition-all duration-200 bg-white dark:bg-slate-900 border-2 border-transparent hover:border-cyan-200 dark:hover:border-cyan-800 focus-within:ring-2 focus-within:ring-cyan-400 focus-within:ring-offset-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[e.jsx("div",{className:`p-2 md:p-3 rounded-xl bg-gradient-to-r ${t.gradient} shadow-md`,"aria-hidden":"true",children:e.jsx(c,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsx(P,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-400 dark:text-slate-500","aria-hidden":"true"})]}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-1",children:t.value}),e.jsx("p",{className:"text-xs md:text-sm text-slate-600 dark:text-slate-400 font-medium",children:t.title})]})},t.title)})})]}),R.length>0&&e.jsxs(f,{className:"p-6 mb-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5"}),"Desempenho por Turma"]}),e.jsx(G,{variant:"secondary",className:"whitespace-nowrap",children:"M√©dia por turma (%)"})]}),e.jsx(ve,{width:"100%",height:320,children:e.jsxs(_e,{data:R,layout:"vertical",margin:{left:80},children:[e.jsx(ye,{strokeDasharray:"3 3",stroke:"#E2E8F0"}),e.jsx(we,{type:"number",domain:[0,100],tickFormatter:t=>`${t}%`,stroke:"#64748B"}),e.jsx(ke,{type:"category",dataKey:"className",width:140,stroke:"#64748B"}),e.jsx(Ne,{formatter:t=>`${t}%`,contentStyle:{backgroundColor:"#fff",border:"1px solid #E2E8F0",borderRadius:"8px"}}),e.jsx(Ce,{dataKey:"average",radius:[0,12,12,0],children:R.map(t=>e.jsx(De,{fill:t.classColor||"#3B82F6"},t.classId))})]})})]}),e.jsxs(f,{className:"p-6 mb-8 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-blue-600"}),"Agenda Curta"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{variant:A===3?"default":"ghost",size:"sm",onClick:()=>Q(3),className:"whitespace-nowrap",children:"3 dias"}),e.jsx(u,{variant:A===7?"default":"ghost",size:"sm",onClick:()=>Q(7),className:"whitespace-nowrap",children:"7 dias"})]})]}),e.jsx("div",{className:"space-y-3",children:F.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(z,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Nenhum evento nos pr√≥ximos ",A," dias"]})]}):F.map((t,l)=>{const c=new Date(t.start),n=c.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),p=c.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),b={prazo:{badge:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300",icon:Ae,bgColor:"bg-blue-50 dark:bg-blue-950/30",borderColor:"border-blue-200 dark:border-blue-800"},reuni√£o:{badge:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-300",icon:Ee,bgColor:"bg-cyan-50 dark:bg-cyan-950/30",borderColor:"border-cyan-200 dark:border-cyan-800"},aula:{badge:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",icon:B,bgColor:"bg-emerald-50 dark:bg-emerald-950/30",borderColor:"border-emerald-200 dark:border-emerald-800"},prova:{badge:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",icon:Se,bgColor:"bg-red-50 dark:bg-red-950/30",borderColor:"border-red-200 dark:border-red-800"},evento:{badge:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-200",icon:z,bgColor:"bg-slate-50 dark:bg-slate-900/50",borderColor:"border-slate-200 dark:border-slate-700"}},h=b[t.type]||b.evento,w=h.icon;return e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05},className:`p-4 rounded-lg border-2 ${h.borderColor} ${h.bgColor} hover:shadow-lg transition-all`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 text-center",children:e.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-xl flex flex-col items-center justify-center text-white shadow-md",children:[e.jsx("span",{className:"text-xs font-semibold uppercase",children:n.split(" ")[1]}),e.jsx("span",{className:"text-xl font-bold",children:n.split(" ")[0]})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white line-clamp-1",children:t.title}),e.jsxs(G,{className:`${h.badge} flex-shrink-0 text-xs px-2 py-1`,children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),t.type]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"w-3 h-3"}),p]}),t.className&&e.jsxs("span",{className:"flex items-center gap-1 truncate",children:[e.jsx(B,{className:"w-3 h-3"}),t.className]})]}),t.link&&e.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 mt-2 inline-flex items-center gap-1",children:["Acessar",e.jsx(P,{className:"w-3 h-3"})]})]})]})},t.id)})}),F.length>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 text-center",children:e.jsx(_,{to:"/students/calendar",children:e.jsxs(u,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",children:["Ver calend√°rio completo",e.jsx(P,{className:"w-4 h-4 ml-1"})]})})})]}),e.jsxs(f,{className:"p-6 mb-8 bg-white dark:bg-slate-900",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"Minhas Turmas"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:re.map((t,l)=>e.jsx(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l*.05},children:e.jsx(_,{to:`/students/classes/${t.id}`,children:e.jsxs(f,{className:"p-4 hover:shadow-lg transition-all border-2 hover:border-blue-300 dark:hover:border-blue-700 bg-white dark:bg-slate-800",children:[e.jsx("div",{className:`w-full h-2 rounded-full bg-gradient-to-r ${t.color||"from-blue-500 to-indigo-500"} mb-4`}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:t.teacher_name}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-500 dark:text-slate-500",children:[t.active_activities||0," atividades"]}),e.jsx(u,{size:"sm",variant:"ghost",className:"whitespace-nowrap",children:"Ver Turma"})]})]})})},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(f,{className:"p-6 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Atividades Pendentes"]}),e.jsx(_,{to:"/students/activities",children:e.jsxs(u,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(P,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:ie.map((t,l)=>{const c=me(t.due_date);return e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05},children:e.jsx(_,{to:`/students/activities/${t.id}`,children:e.jsxs(f,{className:"p-4 hover:shadow-lg transition-all border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.class_name})]}),e.jsx(G,{className:`px-3 py-1 rounded-full text-xs font-semibold ${c.variant==="destructive"?"bg-rose-100 text-rose-700 dark:bg-rose-900/50 dark:text-rose-300":c.variant==="warning"?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-200"}`,children:c.label})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3"}),new Date(t.due_date).toLocaleDateString("pt-BR")]}),e.jsx(u,{size:"sm",variant:"ghost",className:"h-7 text-xs",children:"Fazer Atividade"})]}),t.progress>0&&e.jsx(fe,{value:t.progress,className:"h-1 mt-2"})]})})},t.id)})})]}),e.jsxs(f,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Recentemente Corrigidas"]})}),e.jsx("div",{className:"space-y-3",children:le.map((t,l)=>e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05},className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-emerald-300 dark:hover:border-emerald-700 transition-all bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:t.activity_title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:t.class_name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`text-2xl font-bold ${he(t.score)}`,children:[t.score!==null&&t.max_score?(t.score/t.max_score*100).toFixed(0):"0","%"]}),e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Corrigido em ",new Date(t.graded_at).toLocaleDateString("pt-BR")]})]})]}),e.jsx(u,{size:"sm",variant:"ghost",className:"whitespace-nowrap",children:"Ver Detalhes"})]})},t.id))})]})]}),e.jsxs(f,{className:"p-6 mb-8 bg-white dark:bg-slate-900",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Alertas e Lembretes"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:de.map((t,l)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:`p-4 rounded-lg border-2 ${t.type==="warning"?"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30":t.type==="info"?"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950/30":"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/30"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[t.type==="warning"?e.jsx(te,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}):t.type==="info"?e.jsx(Ie,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):e.jsx(O,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:t.message})]}),e.jsx(u,{size:"sm",variant:"ghost",className:"whitespace-nowrap text-xs h-7",children:t.action})]})},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(_,{to:"/students/activities",children:e.jsxs(u,{size:"lg",className:"w-full whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r from-cyan-600 to-sky-600 hover:opacity-90 text-white h-14 shadow-lg",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:"Ver Todas as Atividades"})]})}),e.jsx(_,{to:"/students/performance",children:e.jsxs(u,{size:"lg",className:"w-full whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r from-sky-600 to-blue-600 hover:opacity-90 text-white h-14 shadow-lg",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{children:"Meu Desempenho Completo"})]})}),e.jsx(_,{to:"/students/calendar",children:e.jsxs(u,{size:"lg",className:"w-full whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:opacity-90 text-white h-14 shadow-lg",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{children:"Calend√°rio de Prazos"})]})})]})]})]})};export{ut as default};
