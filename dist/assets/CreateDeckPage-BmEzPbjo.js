import{c as y,b as C,u as D,r as n,j as e,l as w}from"./main-CI5_MmIm.js";import{B as m}from"./button-D7H9d9Gd.js";import{C as v}from"./card-DpcnMbcE.js";import{I as E}from"./input-BJMmyirp.js";import{T as F}from"./textarea-BEqUT7e4.js";import{L as o}from"./label-Nf4YzbUq.js";import{u as S}from"./use-toast-D7N2H9RC.js";import{D as B}from"./DashboardHeader-CYuk3ql1.js";import"./dropdown-menu-dTrFNQHD.js";import{f as L}from"./flashcardService-DaDHhMrj.js";import{A as V}from"./arrow-left-AtIy0G9L.js";import{m as A}from"./proxy-CT7Xtxle.js";import{S as I}from"./save-Bvez_5XM.js";import{H as R}from"./hash-Bb1XfZ5C.js";import"./index-D4BuPd_i.js";import"./index-CRRraFTu.js";import"./index-CtvfaZbL.js";import"./index-DHrdJ99Z.js";import"./Combination-BfETjw1A.js";import"./SidebarPremium-0_wHXPj0.js";import"./house-B6Hparzo.js";import"./users-ChR7WEeh.js";import"./book-open-DlGI5eOy.js";import"./file-text-CtozP3gh.js";import"./graduation-cap-mPfDCRgT.js";import"./calendar-Dbm_7POQ.js";import"./chart-column-G5dLAdkQ.js";import"./message-circle-CRpVuYq9.js";import"./settings-BWUwUKXK.js";import"./brain-DVBX4Id_.js";import"./index-RHGs5twt.js";import"./chevron-right-CHSrP1xQ.js";import"./x-DGmYUGM5.js";import"./index-jkBwDHc_.js";import"./check-GhIpAKm1.js";const T=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_=y("palette",T),q=[{value:"#3B82F6",label:"Azul"},{value:"#8B5CF6",label:"Roxo"},{value:"#EC4899",label:"Rosa"},{value:"#EF4444",label:"Vermelho"},{value:"#F59E0B",label:"Laranja"},{value:"#10B981",label:"Verde"},{value:"#06B6D4",label:"Ciano"},{value:"#6366F1",label:"Índigo"}],ge=()=>{const{user:j}=C(),{toast:i}=S(),x=D(),[a,p]=n.useState({name:"",description:"",color:"#3B82F6"}),[c,h]=n.useState(!1),[r,u]=n.useState({}),b=s=>{const{name:t,value:d}=s.target;p(l=>({...l,[t]:d})),r[t]&&u(l=>({...l,[t]:""}))},g=s=>{p(t=>({...t,color:s}))},k=()=>{const s={};return a.name.trim()?a.name.length<3?s.name="Nome deve ter pelo menos 3 caracteres":a.name.length>100&&(s.name="Nome muito longo (máx. 100 caracteres)"):s.name="Nome é obrigatório",a.description&&a.description.length>500&&(s.description="Descrição muito longa (máx. 500 caracteres)"),u(s),Object.keys(s).length===0},N=async s=>{if(s.preventDefault(),!k()){i({title:"Erro de validação",description:"Verifique os campos e tente novamente.",variant:"destructive"});return}try{h(!0);const t={user_id:j.id,name:a.name.trim(),description:a.description.trim()||null,color:a.color,icon:"BookOpen"},{data:d,error:l}=await L.createDeck(t);if(l)throw l;i({title:"Deck criado!",description:"Agora você pode adicionar cards ao seu deck."}),x(`/students/flashcards/decks/${d.id}`)}catch(t){w.error("Error creating deck:",t),i({title:"Erro ao criar deck",description:t.message||"Tente novamente em instantes.",variant:"destructive"})}finally{h(!1)}},f=()=>{(a.name||a.description)&&!confirm("Deseja descartar as alterações?")||x("/students/flashcards")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(B,{title:"Criar Novo Deck",subtitle:"Configure seu deck de flashcards",actions:e.jsxs(m,{variant:"ghost",onClick:f,children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Voltar"]})}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx(v,{className:"p-8",children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",className:"text-base font-semibold",children:"Nome do Deck *"}),e.jsx(E,{id:"name",name:"name",value:a.name,onChange:b,placeholder:"Ex: Vocabulário de Inglês",className:r.name?"border-red-500":"",maxLength:100,autoFocus:!0}),r.name&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r.name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.name.length,"/100 caracteres"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",className:"text-base font-semibold",children:"Descrição (opcional)"}),e.jsx(F,{id:"description",name:"description",value:a.description,onChange:b,placeholder:"Descreva o conteúdo deste deck...",rows:4,className:r.description?"border-red-500":"",maxLength:500}),r.description&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r.description}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.description.length,"/500 caracteres"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(o,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Cor do Deck"]}),e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-3",children:q.map(s=>e.jsx("button",{type:"button",onClick:()=>g(s.value),className:`
                        w-full aspect-square rounded-xl border-2 transition-all
                        hover:scale-110 hover:shadow-lg
                        ${a.color===s.value?"border-slate-900 dark:border-white scale-110 shadow-lg":"border-transparent"}
                      `,style:{backgroundColor:s.value},title:s.label},s.value))}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Esta cor será usada para identificar seu deck visualmente"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx(o,{className:"text-base font-semibold mb-3 block",children:"Preview"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl p-4",children:[e.jsx("div",{className:"h-2 rounded-full mb-4",style:{backgroundColor:a.color}}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:a.name||"Nome do Deck"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.description||"Descrição do deck"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",style:{color:a.color},children:"0"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Cards"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",style:{color:a.color},children:"0"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Novos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",style:{color:a.color},children:"0"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Devidos"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:f,className:"flex-1",disabled:c,children:"Cancelar"}),e.jsx(m,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",disabled:c||!a.name.trim(),children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Criando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Criar Deck"]})})]})]})}),e.jsxs(v,{className:"mt-6 p-6 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:[e.jsxs("h3",{className:"font-bold text-blue-900 dark:text-blue-100 mb-2 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5"}),"Dicas"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("li",{children:"• Escolha um nome descritivo para encontrar facilmente"}),e.jsx("li",{children:"• Use cores diferentes para organizar decks por tema"}),e.jsx("li",{children:"• Você poderá adicionar cards logo após criar o deck"}),e.jsx("li",{children:"• É possível editar o deck depois de criado"})]})]})]})]})})};export{ge as default};
