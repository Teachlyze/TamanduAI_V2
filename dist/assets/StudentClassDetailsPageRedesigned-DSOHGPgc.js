import{j as e,b as H,r as x,s as p,l as k,h as se,u as te,q as ae}from"./main-BtydHokz.js";import{u as ie}from"./useRedisCache-DrYpCXTH.js";import{C as B}from"./card-BLN8IVBT.js";import{A as re}from"./ActivityCard-CbCYqYef.js";import{B as U}from"./badge-DpVvk9bK.js";import{E as M}from"./EmptyState-Dl2p8Yg2.js";import{B as F}from"./button-pkZcz0fw.js";import"./dialog-BI66C03T.js";import{m as S}from"./proxy-BKNTM3tf.js";import{D as le}from"./download-BR6aT-hQ.js";import{F as J}from"./file-DrdvyM6A.js";import{F as R}from"./file-text-GwBv-P3B.js";import{I as ne,A as q,a as I,b as T,M as Q}from"./avatar-D7Kvlf16.js";import{V as oe}from"./video-Czc44rj0.js";import{f as de}from"./format-B5colFmK.js";import{p as G}from"./pt-BR-D0BJ_iDf.js";import{T as ce,a as me,b as z,c as L}from"./tabs-CcynQOeo.js";import{T as ue}from"./textarea-BolYe6PH.js";import{u as he}from"./use-toast-BD7ojcJx.js";import{H as xe}from"./heart-CNQ8HXEj.js";import{M as pe}from"./message-circle-DTeSrK_w.js";import{T as fe}from"./trash-2-CZHoMkaq.js";import{S as je}from"./send-C-1SGiWk.js";import{f as O}from"./formatDistanceToNow-sn9sU9NS.js";import{A as ge}from"./arrow-left-A7LEbFFM.js";import{B as X}from"./book-open-BQJiPDff.js";import{S as Y}from"./star-C-keNCTw.js";import{U as Z}from"./users-CntpuLnR.js";import"./differenceInHours-DYlE495b.js";import"./getRoundingMethod-D0I6Z7xl.js";import"./en-US-DaE-csDX.js";import"./index-BRR_QA-l.js";import"./index-C0ZNntAv.js";import"./Combination-DK-gSie6.js";import"./SidebarPremium-BEHUuQck.js";import"./house-dUPObbYn.js";import"./graduation-cap-Bm5psu3Q.js";import"./calendar-xkfkZRmm.js";import"./chart-column-B3n9ZMAW.js";import"./settings-BNGXdjmZ.js";import"./brain-DIkHdpFj.js";import"./index-BpBd5wiB.js";import"./chevron-right-Bh44L5jc.js";import"./x-BtLVjj0F.js";import"./index-B1zfdoK7.js";import"./index-DsrKRt14.js";import"./index-DOzlJ45Y.js";import"./index-sWFH3d_M.js";import"./constructNow-BZVcxkR5.js";import"./differenceInCalendarMonths-CtUCBvak.js";import"./endOfDay-BZ13SNr-.js";import"./endOfMonth-B3jF8fTW.js";const ve=s=>s?s.includes("pdf")?R:s.includes("image")?ne:s.includes("video")?oe:J:J,be=s=>s?s.includes("pdf")?"from-red-500 to-red-600":s.includes("image")?"from-purple-500 to-pink-500":s.includes("video")?"from-blue-500 to-cyan-500":s.includes("document")||s.includes("word")?"from-blue-600 to-indigo-600":s.includes("sheet")||s.includes("excel")?"from-green-500 to-green-600":"from-slate-500 to-slate-600":"from-slate-500 to-slate-600",Ne=s=>s?s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":(s/(1024*1024)).toFixed(1)+" MB":"",we=({material:s,index:b=0})=>{const l=m=>m?.includes("image"),u=m=>m?.includes("video"),h=()=>l(s.file_type)||u(s.file_type),c=ve(s.file_type),j=be(s.file_type);return e.jsx(e.Fragment,{children:e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},children:e.jsxs(B,{className:"p-6 hover:shadow-xl transition-all group",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-br ${j} flex items-center justify-center flex-shrink-0 shadow-md group-hover:scale-110 transition-transform`,children:e.jsx(c,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1 truncate",children:s.title}),s.description&&e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400 mb-3",children:[s.created_at&&e.jsx("span",{children:de(new Date(s.created_at),"dd/MM/yyyy",{locale:G})}),s.file_size&&e.jsxs("span",{children:["• ",Ne(s.file_size)]})]}),h()&&s.file_url&&e.jsxs("div",{className:"mt-3",children:[l(s.file_type)&&e.jsx(S.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"relative rounded-lg overflow-hidden bg-slate-100 dark:bg-slate-800",children:e.jsx("img",{src:s.file_url,alt:s.title,className:"w-full h-auto max-h-[360px] object-contain",loading:"lazy"})}),u(s.file_type)&&e.jsx(S.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"relative rounded-lg overflow-hidden bg-black",children:e.jsxs("video",{controls:!0,className:"w-full h-auto max-h-[360px]",controlsList:"nodownload",children:[e.jsx("source",{src:s.file_url,type:s.file_type}),"Seu navegador não suporta o elemento de vídeo."]})})]}),s.file_url?e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:s.file_url,target:"_blank",rel:"noopener noreferrer",download:!0,children:e.jsxs(F,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Baixar"]})})}):e.jsx(F,{size:"sm",variant:"outline",className:"mt-3",disabled:!0,children:"Indisponível"})]})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:s.tags.map((m,r)=>e.jsx(U,{variant:"outline",className:"text-xs",children:m},r))})]})})})},_e=s=>{const{user:b}=H(),l=x.useCallback(async()=>{if(!s||!b?.id)return null;try{const{data:h}=await p.auth.getSession(),c=h?.session?.access_token,j=await fetch("https://wapbwaimkurbuihatmix.supabase.co/functions/v1/get-class-data-optimized",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({classId:s})});if(!j.ok)throw new Error(`Edge Function falhou (${j.status})`);const r=(await j.json()).data,g=[...r.posts||[],...(r.discussions||[]).map(a=>({...a,title:a.title,description:a.description,content:a.description,creator:a.author,created_at:a.created_at}))],N=(r.activities||[]).filter(a=>a.status==="published"),w=(r.members||[]).filter(a=>a.role==="student").map(a=>({id:a.profile?.id,full_name:a.profile?.full_name,email:a.profile?.email,avatar_url:a.profile?.avatar_url})).filter(a=>!!a.id),v=N.map(a=>a.id);let _=[];if(v.length>0){const{data:a,error:d}=await p.from("submissions").select("activity_id, status, grade, submitted_at").eq("student_id",b.id).in("activity_id",v);d?k.error("[useStudentClassDetails] Erro submissions:",d):_=a||[]}const f=new Map((_||[]).map(a=>[a.activity_id,a])),C=(_||[]).filter(a=>a.grade!==null&&a.grade!==void 0).map(a=>{const d=N.find(V=>V.id===a.activity_id)||{};return{id:`${a.activity_id}`,activity_title:d.title||"Atividade",grade:Number(a.grade),max_score:Number(d.max_score)||100,feedback:d.feedback||null}}),P=C.length>0?C.reduce((a,d)=>a+Number(d.grade),0)/C.length:0,A=N.map(a=>{const d=f.get(a.id),D=!!d&&(d.status==="submitted"||d.status==="graded"),i=!D&&a.due_date&&new Date(a.due_date)<new Date;return{...a,submission:d,hasSubmission:D,isCompleted:D&&d.status==="graded",isPending:!D&&!i,isLate:i,status:D?d.status==="graded"?"completed":"submitted":i?"late":"pending"}}),t=A.filter(a=>a.isPending).length,n=r.classInfo?.teacher;return{classData:{...r.classInfo,teacher_name:n?.full_name||"Professor",teacher_avatar:n?.avatar_url||null,teacher_email:n?.email||null},announcements:g,materials:r.library||[],activities:A,grades:C,students:w,stats:{pendingActivities:t,avgGrade:P,studentsCount:w.length}}}catch(h){throw k.error("[useStudentClassDetails] Erro geral:",h),h}},[s,b?.id]),u=s&&b?.id?`student:class:${b.id}:${s}`:null;return ie(u,l,{ttl:300,enabled:!!u,staleTime:120*1e3})},ye=({post:s,onUpdate:b})=>{const{user:l}=H(),{toast:u}=he(),[h,c]=x.useState(!1),[j,m]=x.useState(0),[r,g]=x.useState(0),[N,w]=x.useState([]),[v,_]=x.useState(""),[f,C]=x.useState(!1),[P,A]=x.useState(!1),[t,n]=x.useState(!1);x.useEffect(()=>{K()},[s.id]),x.useEffect(()=>{f&&a()},[f]);const K=async()=>{try{const{data:i}=await p.from("post_likes").select("user_id").eq("post_id",s.id);m(i?.length||0),c(i?.some(y=>y.user_id===l.id)||!1);const{count:o}=await p.from("post_comments").select("id",{count:"exact",head:!0}).eq("post_id",s.id);g(o||0)}catch(i){k.error("Erro ao carregar contagens:",i)}},a=async()=>{try{n(!0);const{data:i}=await p.from("post_likes").select("user_id").eq("post_id",s.id);m(i?.length||0),c(i?.some(y=>y.user_id===l.id)||!1);const{data:o}=await p.from("post_comments").select("id, content, created_at, author_id").eq("post_id",s.id).order("created_at",{ascending:!0});if(o){const y=[...new Set(o.map(E=>E.author_id))],{data:$}=await p.from("profiles").select("id, full_name, avatar_url").in("id",y),W={};$?.forEach(E=>{W[E.id]=E});const ee=o.map(E=>({...E,author:W[E.author_id]}));w(ee)}}catch(i){k.error("Erro ao carregar interações:",i)}finally{n(!1)}},d=async()=>{try{if(h){const{error:i}=await p.from("post_likes").delete().eq("post_id",s.id).eq("user_id",l.id);if(i)throw i;c(!1),m(o=>Math.max(0,o-1))}else{const{error:i}=await p.from("post_likes").upsert({post_id:s.id,user_id:l.id},{onConflict:"post_id,user_id",ignoreDuplicates:!1});if(i&&i.code!=="23505")throw i;c(!0),m(o=>o+1)}}catch(i){if(i.code==="23505"||i.message?.includes("duplicate")){k.debug("Like já existe (esperado)");return}k.error("Erro ao curtir:",i),u({title:"❌ Erro",description:"Não foi possível curtir o post",variant:"destructive"})}},V=async()=>{if(v.trim())try{A(!0);const{data:i,error:o}=await p.from("post_comments").insert({post_id:s.id,author_id:l.id,content:v.trim()}).select().single();if(o)throw o;const{data:y}=await p.from("profiles").select("id, full_name, avatar_url").eq("id",l.id).single();w($=>[...$,{...i,author:y}]),g($=>$+1),_(""),u({title:"✅ Comentário enviado!",description:"Seu comentário foi publicado"})}catch(i){k.error("Erro ao comentar:",i),u({title:"❌ Erro",description:"Não foi possível enviar o comentário",variant:"destructive"})}finally{A(!1)}},D=async i=>{try{await p.from("post_comments").delete().eq("id",i).eq("author_id",l.id),w(o=>o.filter(y=>y.id!==i)),g(o=>Math.max(0,o-1)),u({title:"✅ Comentário removido",description:"Seu comentário foi deletado"})}catch(o){k.error("Erro ao deletar comentário:",o),u({title:"❌ Erro",description:"Não foi possível deletar o comentário",variant:"destructive"})}};return e.jsxs(B,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxs(q,{className:"w-12 h-12",children:[e.jsx(I,{src:s.creator?.avatar_url||s.author?.avatar_url}),e.jsx(T,{children:(s.creator?.full_name||s.author?.full_name||"P")[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:s.creator?.full_name||s.author?.full_name||"Professor"}),e.jsx(U,{variant:"secondary",children:"Professor"}),e.jsx("span",{className:"text-sm text-slate-500",children:O(new Date(s.created_at),{locale:G,addSuffix:!0})})]}),s.title&&e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:s.title}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:s.content||s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs(F,{variant:"ghost",size:"sm",onClick:d,className:h?"text-red-600":"",children:[e.jsx(xe,{className:`w-5 h-5 mr-2 ${h?"fill-current":""}`}),j>0&&e.jsx("span",{className:"ml-1",children:j})]}),e.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>C(!f),children:[e.jsx(pe,{className:"w-5 h-5 mr-2"}),r>0&&e.jsx("span",{className:"ml-1",children:r})]})]}),f&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700 space-y-4",children:[t?e.jsx("p",{className:"text-sm text-slate-500 text-center",children:"Carregando..."}):N.length>0?e.jsx("div",{className:"space-y-3",children:N.map(i=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(q,{className:"w-8 h-8",children:[e.jsx(I,{src:i.author?.avatar_url}),e.jsx(T,{children:i.author?.full_name?.[0]||"U"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-semibold text-sm",children:i.author?.full_name||"Usuário"}),i.author_id===l.id&&e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>D(i.id),className:"h-6 w-6 p-0",children:e.jsx(fe,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:i.content})]}),e.jsx("span",{className:"text-xs text-slate-500 mt-1 block",children:O(new Date(i.created_at),{locale:G,addSuffix:!0})})]})]},i.id))}):e.jsx("p",{className:"text-sm text-slate-500 text-center",children:"Nenhum comentário ainda"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(q,{className:"w-8 h-8",children:[e.jsx(I,{src:l.user_metadata?.avatar_url}),e.jsx(T,{children:l.user_metadata?.full_name?.[0]||"V"})]}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx(ue,{value:v,onChange:i=>_(i.target.value),placeholder:"Escreva um comentário...",className:"min-h-[60px]"}),e.jsx(F,{onClick:V,disabled:P||!v.trim(),size:"sm",children:e.jsx(je,{className:"w-4 h-4"})})]})]})]})]})},_s=()=>{const{classId:s}=se(),{user:b}=H(),l=te(),[u,h]=x.useState("feed"),{data:c,loading:j,refetch:m}=_e(s),r=c?.classData||null,g=c?.announcements||[],N=c?.activities||[],w=c?.materials||[],v=c?.grades||[],_=c?.students||[],f=c?.stats||{pendingActivities:0,avgGrade:0,studentsCount:0},C=()=>{m&&m().catch(t=>{k.error("[StudentClassDetails] Erro ao recarregar dados da turma:",t)})};if(j&&!r)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{size:"lg"})});const P={blue:"from-blue-600 to-cyan-500",green:"from-green-600 to-emerald-500",purple:"from-purple-600 to-pink-500",orange:"from-orange-600 to-amber-500",red:"from-red-600 to-rose-500"},A=P[r?.color]||P.blue;return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 p-6",children:[e.jsxs(F,{variant:"ghost",onClick:()=>l("/students/classes"),className:"mb-4",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Voltar para Turmas"]}),e.jsxs(S.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`bg-gradient-to-r ${A} rounded-2xl p-8 mb-8 text-white shadow-xl relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -right-16 -bottom-16 opacity-10",children:e.jsx(X,{className:"w-64 h-64"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx(U,{className:"mb-3 bg-white/20 text-white border-white/30",children:r?.subject||"Matéria"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:r?.name}),r?.description&&e.jsx("p",{className:"text-white/90 text-lg max-w-2xl",children:r.description})]}),e.jsx(B,{className:"p-4 bg-white/10 backdrop-blur border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(q,{className:"w-12 h-12 border-2 border-white",children:[e.jsx(I,{src:r?.teacher_avatar}),e.jsx(T,{className:"bg-white/20 text-white",children:r?.teacher_name?.[0]||"P"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/70",children:"Professor(a)"}),e.jsx("p",{className:"font-bold text-white",children:r?.teacher_name})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:f.pendingActivities}),e.jsx("p",{className:"text-sm text-white/80",children:"Atividades Pendentes"})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:f.avgGrade>0?f.avgGrade.toFixed(1):"--"}),e.jsx("p",{className:"text-sm text-white/80",children:"Média de Notas"})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:f.studentsCount}),e.jsx("p",{className:"text-sm text-white/80",children:"Alunos na Turma"})]})]})})]})]})]}),e.jsxs(ce,{value:u,onValueChange:h,children:[e.jsxs(me,{className:"mb-6",children:[e.jsx(z,{value:"feed",children:"Feed"}),e.jsx(z,{value:"announcements",children:"Comunicados"}),e.jsx(z,{value:"activities",children:"Atividades"}),e.jsx(z,{value:"materials",children:"Materiais"}),e.jsx(z,{value:"grades",children:"Notas"}),e.jsx(z,{value:"students",children:"Alunos"})]}),e.jsx(L,{value:"feed",children:g.length>0?e.jsx("div",{className:"space-y-4",children:g.map((t,n)=>e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},children:e.jsx(ye,{post:t,onUpdate:C})},t.id))}):e.jsx(M,{icon:R,title:"Nenhum post ainda",description:"Não há posts publicados nesta turma ainda."})}),e.jsx(L,{value:"announcements",children:g.filter(t=>t.category==="announcement"||t.type==="announcement").length>0?e.jsx("div",{className:"space-y-4",children:g.filter(t=>t.category==="announcement"||t.type==="announcement").map((t,n)=>e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},children:e.jsx(B,{className:"p-6 border-l-4 border-l-orange-500",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:e.jsx(Q,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:t.title||"Comunicado Importante"}),e.jsx(U,{className:"bg-orange-100 text-orange-700",children:"Comunicado"}),e.jsx("span",{className:"text-sm text-slate-500",children:O(new Date(t.created_at),{locale:G,addSuffix:!0})})]}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:t.content||t.description})]})]})})},t.id))}):e.jsx(M,{icon:Q,title:"Nenhum comunicado",description:"Não há comunicados importantes nesta turma ainda."})}),e.jsx(L,{value:"activities",children:N.length>0?e.jsx("div",{className:"space-y-4",children:N.map((t,n)=>e.jsx(re,{activity:t,onStart:()=>l(`/students/activities/${t.id}`),onView:()=>l(`/students/activities/${t.id}`),index:n},t.id))}):e.jsx(M,{icon:R,title:"Nenhuma atividade",description:"Não há atividades disponíveis nesta turma ainda."})}),e.jsx(L,{value:"materials",children:w.length>0?e.jsx("div",{className:"space-y-4",children:w.map((t,n)=>e.jsx(we,{material:t,index:n},t.id))}):e.jsx(M,{icon:X,title:"Nenhum material",description:"Não há materiais disponíveis nesta turma ainda."})}),e.jsx(L,{value:"grades",children:v.length>0?e.jsx("div",{className:"space-y-4",children:v.map((t,n)=>e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},children:e.jsx(B,{className:"p-6",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-2",children:t.activity_title}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:parseFloat(t.grade).toFixed(1)}),e.jsxs("span",{className:"text-slate-500",children:["/",t.max_score]})]}),e.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${parseFloat(t.grade)/t.max_score*100}%`}})})]}),t.feedback&&e.jsxs("div",{className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Feedback do Professor:"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.feedback})]})]})})})},t.id))}):e.jsx(M,{icon:Y,title:"Nenhuma nota ainda",description:"Você ainda não possui notas nesta turma."})}),e.jsx(L,{value:"students",children:_.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map((t,n)=>e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},children:e.jsx(B,{className:"p-4 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(q,{className:"w-12 h-12",children:[e.jsx(I,{src:t.avatar_url}),e.jsx(T,{className:"bg-blue-100 text-blue-600",children:(t.full_name||t.name)?.[0]||"A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:t.full_name||t.name||"Aluno"}),e.jsx("p",{className:"text-sm text-slate-500",children:t.email||"Sem email"})]})]})})},t.id))}):e.jsx(M,{icon:Z,title:"Nenhum aluno",description:"Não há alunos nesta turma ainda."})})]})]})};export{_s as default};
