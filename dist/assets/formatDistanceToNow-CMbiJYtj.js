import{c as O}from"./constructNow-re94FRT2.js";import{t as h,n as I,g as y,e as T,a as S,j as X,k as D}from"./en-US-B6HbAA6N.js";import{d as p}from"./differenceInCalendarMonths-FFYroMBa.js";import{e as b}from"./endOfDay-mJ-5sjFp.js";import{e as w}from"./endOfMonth-BD-g1yyK.js";import{g as N}from"./getRoundingMethod-D0I6Z7xl.js";function M(n,s){const r=+h(n)-+h(s);return r<0?-1:r>0?1:r}function _(n,s){return+h(n)-+h(s)}function Y(n,s){const r=h(n,s?.in);return+b(r,s)==+w(r,s)}function v(n,s,r){const[f,e,c]=I(r?.in,n,n,s),i=M(e,c),t=Math.abs(p(e,c));if(t<1)return 0;e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-i*t);let u=M(e,c)===-i;Y(f)&&t===1&&M(f,c)===1&&(u=!1);const l=i*(t-+u);return l===0?0:l}function z(n,s,r){const f=_(n,s)/1e3;return N(r?.roundingMethod)(f)}function A(n,s,r){const f=y(),e=r?.locale??f.locale??T,c=2520,i=M(n,s);if(isNaN(i))throw new RangeError("Invalid time value");const t=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:i}),[u,l]=I(r?.in,...i>0?[s,n]:[n,s]),m=z(l,u),x=(S(l)-S(u))/1e3,o=Math.round((m-x)/60);let d;if(o<2)return r?.includeSeconds?m<5?e.formatDistance("lessThanXSeconds",5,t):m<10?e.formatDistance("lessThanXSeconds",10,t):m<20?e.formatDistance("lessThanXSeconds",20,t):m<40?e.formatDistance("halfAMinute",0,t):m<60?e.formatDistance("lessThanXMinutes",1,t):e.formatDistance("xMinutes",1,t):o===0?e.formatDistance("lessThanXMinutes",1,t):e.formatDistance("xMinutes",o,t);if(o<45)return e.formatDistance("xMinutes",o,t);if(o<90)return e.formatDistance("aboutXHours",1,t);if(o<X){const a=Math.round(o/60);return e.formatDistance("aboutXHours",a,t)}else{if(o<c)return e.formatDistance("xDays",1,t);if(o<D){const a=Math.round(o/X);return e.formatDistance("xDays",a,t)}else if(o<D*2)return d=Math.round(o/D),e.formatDistance("aboutXMonths",d,t)}if(d=v(l,u),d<12){const a=Math.round(o/D);return e.formatDistance("xMonths",a,t)}else{const a=d%12,g=Math.trunc(d/12);return a<3?e.formatDistance("aboutXYears",g,t):a<9?e.formatDistance("overXYears",g,t):e.formatDistance("almostXYears",g+1,t)}}function E(n,s){return A(n,O(n),s)}export{_ as d,E as f};
