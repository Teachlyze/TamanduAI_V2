import{h as we,b as Ce,u as Ne,r as u,l as s,j as e,q as Se,s as se}from"./main-BSajwT7t.js";import{B as C}from"./button-49_9eRW2.js";import{C as H}from"./card-Bocxgg1Q.js";import{I as Ae}from"./input-xqPBO_Zl.js";import{B as T}from"./badge-CfC7p-Az.js";import{D as Ee,a as _e,b as Ie,e as G,d as De}from"./dropdown-menu-Ni8Q_KuQ.js";import{u as $e}from"./use-toast-CI7Qu0JR.js";import{D as Pe}from"./DashboardHeader-DHleEAdk.js";import{E as Fe}from"./EmptyState-iKaJFnss.js";import"./label-Dd1EhhTc.js";import{f as D,c as Be,g as ze}from"./flashcardService-Q_NmM5PO.js";import{C as Oe}from"./ConfirmDialog-ZS04IWT7.js";import{A as Ke}from"./arrow-left-CkMJQCbx.js";import{S as Le}from"./settings-Blsx5C_z.js";import{P as Re}from"./play-znFOAaAd.js";import{Y as Te,_ as Ge,$ as qe,a0 as Je,a1 as Me}from"./CartesianChart-DGi_X4pD.js";import{L as Ue,a as oe}from"./LineChart-BOMtsEef.js";import{L as Ve}from"./Legend-CbVpxeWd.js";import{S as ie}from"./search-CN6Jlpv4.js";import{P as V}from"./plus-DBp3h9bh.js";import{U as ne}from"./upload-Dh5buPkl.js";import{m as He}from"./proxy-Bb-A2TUD.js";import{E as We}from"./ellipsis-vertical-B7w6wGh5.js";import{S as Qe}from"./square-pen-BMgVe-EP.js";import{C as Ye}from"./copy-DlSUrt5X.js";import{E as Xe}from"./eye-Ba2vQNiI.js";import{E as Ze}from"./eye-off-Dj4770Nc.js";import{T as et}from"./trash-2-BUy2_VOi.js";import"./index-BSMAqeIB.js";import"./index-DmwWW5NH.js";import"./index-qH7N8Pcj.js";import"./index-D0BS1fLY.js";import"./Combination-DKLEa6f3.js";import"./SidebarPremium-C1f4icTt.js";import"./house-BkBGIUz8.js";import"./users-De1bkoUV.js";import"./book-open-BqVBcqQl.js";import"./file-text-Bwu_iaa-.js";import"./graduation-cap-pwvok64K.js";import"./calendar-DetO6w5d.js";import"./chart-column-BmPD_DCR.js";import"./message-circle-DVaucFfj.js";import"./brain-BPIciAtW.js";import"./index-DV-1B3c4.js";import"./chevron-right-DUVlURpD.js";import"./x-Wvu9FBm3.js";import"./index-C1usw-Qd.js";import"./check-BLcdb3Nz.js";import"./triangle-alert-DjEph2_C.js";import"./index-BfMW92y8.js";const er=()=>{const{deckId:c}=we(),{user:f}=Ce(),{toast:l}=$e(),N=Ne(),[J,z]=u.useState(!0),[h,O]=u.useState(null),[m,K]=u.useState([]),[x,L]=u.useState(""),[g,$]=u.useState("all"),[M,W]=u.useState(!1),[ce,le]=u.useState(null),[P,Q]=u.useState(null),[Y,X]=u.useState(!1),[Z,ee]=u.useState(!1),de=u.useRef(null),me=u.useRef(null);u.useEffect(()=>{f?.id&&c&&A()},[f,c]);const A=async()=>{try{z(!0);const{data:t,error:i}=await D.getDeckById(c);if(i)throw i;O(t);const{data:r,error:o}=await D.getCardsInDeck(c);if(o)throw o;K(r||[]);const{data:j}=await D.getReviewHistory(f.id,{limit:1e3});if(j){const S=j.filter(k=>k.card?.deck_id===c),_=Be(S,"all");Q(_)}else Q(null)}catch(t){s.error("Error loading deck:",t),l({title:"Erro ao carregar",description:"N√£o foi poss√≠vel carregar o deck.",variant:"destructive"}),N("/students/flashcards")}finally{z(!1)}},pe=()=>{if(m.length===0){l({title:"Deck vazio",description:"Adicione cards ao deck primeiro.",variant:"destructive"});return}E===0&&l({title:"Estudo livre",description:"Nenhum card est√° pendente hoje, mas voc√™ pode estudar o deck mesmo assim."}),N(`/students/flashcards/decks/${c}/review`)},te=()=>{N(`/students/flashcards/decks/${c}/cards/new`)},ue=t=>{N(`/students/flashcards/decks/${c}/cards/${t}/edit`)},fe=t=>{le(t),W(!0)},he=async()=>{try{const{error:t}=await D.deleteCard(ce);if(t)throw t;l({title:"Card exclu√≠do",description:"O card foi removido do deck."}),A()}catch(t){s.error("Error deleting card:",t),l({title:"Erro ao excluir",description:"N√£o foi poss√≠vel excluir o card.",variant:"destructive"})}},ge=async(t,i)=>{try{const{error:r}=await D.suspendCard(t,i);if(r)throw r;l({title:i?"Card suspenso":"Card reativado",description:i?"O card n√£o aparecer√° nas revis√µes.":"O card voltar√° a aparecer nas revis√µes."}),A()}catch(r){s.error("Error suspending card:",r),l({title:"Erro",description:"N√£o foi poss√≠vel atualizar o card.",variant:"destructive"})}},xe=async t=>{try{const i={deck_id:c,user_id:f.id,front:t.front+" (c√≥pia)",back:t.back,card_type:t.card_type,tags:t.tags},{data:r,error:o}=await D.createCard(i);if(o)throw o;l({title:"Card duplicado",description:"O card foi duplicado com sucesso."}),A()}catch(i){s.error("Error duplicating card:",i),l({title:"Erro ao duplicar",description:"N√£o foi poss√≠vel duplicar o card.",variant:"destructive"})}},re=async t=>{const i=t.target.files?.[0];if(t.target.value="",s.debug("Import to deck: File selected",{fileName:i?.name,size:i?.size}),!i){s.debug("Import to deck: No file selected");return}if(!f?.id){s.debug("Import to deck: User not authenticated"),l({title:"Usu√°rio n√£o autenticado",description:"Fa√ßa login para importar cards.",variant:"destructive"});return}try{s.debug("Import to deck: Starting import process"),X(!0);const r=await i.text();s.debug("Import to deck: File read successfully",{textLength:r.length});const o=JSON.parse(r),j=Array.isArray(o?.kanji),S=Array.isArray(o?.hiragana),_=Array.isArray(o?.katakana);s.debug("Import to deck: JSON parsed successfully",{isArray:Array.isArray(o),hasCards:Array.isArray(o?.cards),cardsCount:o?.cards?.length,hasKanji:j,hasHiragana:S,hasKatakana:_});let k=[];if(Array.isArray(o))k=o;else if(o&&Array.isArray(o.cards))k=o.cards;else if(j||S||_){s.debug("Import to deck: Detected structured Japanese JSON for deck import",{hasKanji:j,hasHiragana:S,hasKatakana:_});const d=(o.kanji||[]).map(a=>{const F=String(a.kanji??"").trim(),n=[];a.significado&&n.push(`Significado: ${a.significado}`),Array.isArray(a.onyomi)&&a.onyomi.length>0&&n.push(`Onyomi: ${a.onyomi.join(", ")}`),Array.isArray(a.kunyomi)&&a.kunyomi.length>0&&n.push(`Kunyomi: ${a.kunyomi.join(", ")}`);const p=Array.isArray(a.palavras_comuns)?a.palavras_comuns[0]:null;if(p){const U=["Palavra comum:",p.jap||p.jp,p.romaji?`(${p.romaji})`:null,p.pt?`- ${p.pt}`:null].filter(Boolean).join(" ");n.push(U)}const v=Array.isArray(a.exemplos)?a.exemplos[0]:null;if(v){const U=["Exemplo:",v.jp,v.romaji?`(${v.romaji})`:null,v.pt?`- ${v.pt}`:null].filter(Boolean).join(" ");n.push(U)}const B=n.join(`
`).trim();return{front:F,back:B,card_type:"basic",tags:["kanji"]}}).filter(a=>a.front&&a.back),I=(o.hiragana||[]).map(a=>{const F=String(a.char??"").trim(),n=a.exemplo||{},p=[];if(a.romaji&&p.push(`Romaji: ${a.romaji}`),n.jap||n.romaji||n.pt){const B=["Exemplo:",n.jap,n.romaji?`(${n.romaji})`:null,n.pt?`- ${n.pt}`:null].filter(Boolean).join(" ");p.push(B)}const v=p.join(`
`).trim();return{front:F,back:v,card_type:"basic",tags:["hiragana"]}}).filter(a=>a.front&&a.back),w=(o.katakana||[]).map(a=>{const F=String(a.char??"").trim(),n=a.exemplo||{},p=[];if(a.romaji&&p.push(`Romaji: ${a.romaji}`),n.jap||n.romaji||n.pt){const B=["Exemplo:",n.jap,n.romaji?`(${n.romaji})`:null,n.pt?`- ${n.pt}`:null].filter(Boolean).join(" ");p.push(B)}const v=p.join(`
`).trim();return{front:F,back:v,card_type:"basic",tags:["katakana"]}}).filter(a=>a.front&&a.back);k=[...d,...I,...w],s.debug("Import to deck: Japanese JSON converted to cards array",{totalKanji:d.length,totalHiragana:I.length,totalKatakana:w.length,totalCards:k.length})}else throw new Error("JSON deve conter uma lista de cards, { cards: [...] } ou um formato suportado de estudo (kanji/hiragana/katakana).");const y=k.map(d=>({deck_id:c,user_id:f.id,front:String(d.front??"").trim(),back:String(d.back??"").trim(),card_type:d.card_type||"basic",tags:Array.isArray(d.tags)?d.tags:[]})).filter(d=>d.front&&d.back);if(s.debug("Import to deck: Processed cards",{totalCards:k.length,validCards:y.length}),y.length===0)throw new Error('Nenhum card v√°lido encontrado. Cada card deve ter "front" e "back".');const b=50;let R=0;for(let d=0;d<y.length;d+=b){const I=y.slice(d,d+b);s.debug(`Import to deck: Creating batch ${Math.floor(d/b)+1}`,{batchSize:I.length});const w=await D.createCards(I);if(s.debug("Import to deck: Service response",{response:w}),w.error)throw s.error("Import to deck: Batch creation failed",w.error),new Error(`Failed to create cards: ${w.error.message||w.error}`);R+=I.length,s.debug(`Import to deck: Batch ${Math.floor(d/b)+1} completed`,{batchSize:I.length,returnedData:w.data}),l({title:"Importando cards...",description:`${R} de ${y.length} cards adicionados.`})}l({title:"Cards importados!",description:`${R} cards foram adicionados ao deck "${h.name}".`}),s.debug("Import to deck: Import completed",{createdCount:R,deckId:c}),A()}catch(r){if(r&&typeof r=="object"&&"data"in r&&"error"in r&&r.error===null){s.warn("Import to deck: Caught success-like object in catch, treating as success",r),l({title:"Cards importados!",description:"Os cards foram adicionados ao deck."}),A();return}s.error("Error importing cards to deck:",r),l({title:"Erro ao importar",description:r.message||"Verifique o arquivo JSON e tente novamente.",variant:"destructive"})}finally{s.debug("Import to deck: Finally block, resetting importing state"),X(!1)}},ke=async t=>{const i=t.target.files?.[0];if(t.target.value="",s.debug("Import APKG to deck: File selected",{fileName:i?.name,size:i?.size}),!i){s.debug("Import APKG to deck: No file selected");return}if(!f?.id){s.debug("Import APKG to deck: User not authenticated"),l({title:"Usu√°rio n√£o autenticado",description:"Fa√ßa login para importar cards.",variant:"destructive"});return}try{s.debug("Import APKG to deck: Starting import process"),ee(!0);const r=100*1024*1024;if(i.size>r){l({title:"Arquivo muito grande",description:"O arquivo deve ter no m√°ximo 100MB.",variant:"destructive"});return}l({title:"Enviando arquivo...",description:"Aguarde enquanto o deck Anki √© processado."});const o=`${f.id}/${Date.now()}_${i.name}`,{data:j,error:S}=await se.storage.from("flashcards-imports").upload(o,i);if(S)throw s.error("Import APKG to deck: Upload error",S),new Error("Falha ao enviar arquivo");s.debug("Import APKG to deck: File uploaded",{path:o});const{data:_}=await se.auth.getSession(),k=_?.session;if(!k)throw new Error("Sess√£o expirada. Fa√ßa login novamente.");const y=await fetch("https://wapbwaimkurbuihatmix.supabase.co/functions/v1/import-anki",{method:"POST",headers:{Authorization:`Bearer ${k.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({bucket:"flashcards-imports",file_path:o,deck_id:c,create_new_deck:!1})}),b=await y.json().catch(()=>null);if(!y.ok||!b?.success)throw s.error("Import APKG to deck: Function error",{status:y.status,data:b}),new Error(b?.error||"Erro ao processar deck Anki");s.debug("Import APKG to deck: Import successful",b),l({title:"Cards importados com sucesso!",description:`${b.import_stats?.total_cards_created||0} cards foram adicionados ao deck "${h.name}".`}),A()}catch(r){s.error("Import APKG to deck: Error",r),l({title:"Erro ao importar deck Anki",description:r.message||"Verifique o arquivo e tente novamente.",variant:"destructive"})}finally{s.debug("Import APKG to deck: Finally block"),ee(!1)}},ae=u.useMemo(()=>m.filter(t=>{const i=x===""||t.front.toLowerCase().includes(x.toLowerCase())||t.back.toLowerCase().includes(x.toLowerCase())||t.tags?.some(o=>o.toLowerCase().includes(x.toLowerCase())),r=g==="all"||t.card_stats?.[0]?.card_status===g;return i&&r}),[m,x,g]);if(J)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Se,{size:"lg",text:"Carregando deck..."})});const E=(()=>{if(!m||m.length===0)return 0;const t=m.map(r=>{const o=Array.isArray(r.card_stats)?r.card_stats[0]:r.card_stats,j=r.id;return{...r,...o,id:j}});return ze(t,{include_new:!0,include_learning:!0,include_review:!0}).length})(),be=m.filter(t=>t.card_stats?.[0]?.card_status==="new").length,ve=m.filter(t=>t.card_stats?.[0]?.card_status==="learning").length,je=m.length===0?"Este deck ainda n√£o tem cards. Adicione cards para come√ßar a estudar.":E===0?"Tudo revisado hoje. Nenhum card pendente de revis√£o.":E===1?"Voc√™ tem 1 card pendente de revis√£o.":`Voc√™ tem ${E} cards pendentes de revis√£o.`,ye=`${h?.description||"Gerenciar cards do deck"} ‚Ä¢ ${je}`;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(C,{variant:"ghost",onClick:()=>N("/students/flashcards"),className:"mb-4 hover:bg-slate-200 dark:hover:bg-slate-800",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Voltar"]}),e.jsx(Pe,{title:h?.name,subtitle:ye,actions:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>N(`/students/flashcards/decks/${c}/settings`),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Configura√ß√µes"]}),e.jsxs(C,{onClick:pe,disabled:m.length===0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white disabled:opacity-50",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),m.length===0?"Deck vazio":E===0?"Estudar mesmo assim":`Estudar (${E})`]})]})})]}),e.jsx("div",{className:"h-2 rounded-full mb-6",style:{backgroundColor:h?.color}}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(q,{label:"Total",value:m.length,color:h?.color}),e.jsx(q,{label:"Novos",value:be,color:"#3B82F6"}),e.jsx(q,{label:"Aprendendo",value:ve,color:"#F59E0B"}),e.jsx(q,{label:"Para Revisar",value:E,color:"#10B981"})]}),P&&e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4",children:["Este deck j√° teve ",P.total_reviews||0," revis√µes, com taxa de reten√ß√£o m√©dia de ",P.retention_rate||0,"%."]}),P?.chart_data?.length>0&&e.jsxs(H,{className:"mb-6 p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Evolu√ß√£o de revis√µes deste deck"}),e.jsx(Te,{width:"100%",height:260,children:e.jsxs(Ue,{data:P.chart_data,children:[e.jsx(Ge,{strokeDasharray:"3 3"}),e.jsx(qe,{dataKey:"date"}),e.jsx(Je,{}),e.jsx(Me,{}),e.jsx(Ve,{}),e.jsx(oe,{type:"monotone",dataKey:"reviews",stroke:"#8B5CF6",strokeWidth:2,name:"Revis√µes"}),e.jsx(oe,{type:"monotone",dataKey:"correct",stroke:"#10B981",strokeWidth:2,name:"Corretas"})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(Ae,{type:"text",placeholder:"Buscar cards...",value:x,onChange:t=>L(t.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:g==="all"?"default":"outline",size:"sm",onClick:()=>$("all"),children:"Todos"}),e.jsx(C,{variant:g==="new"?"default":"outline",size:"sm",onClick:()=>$("new"),children:"Novos"}),e.jsx(C,{variant:g==="learning"?"default":"outline",size:"sm",onClick:()=>$("learning"),children:"Aprendendo"}),e.jsx(C,{variant:g==="review"?"default":"outline",size:"sm",onClick:()=>$("young"),children:"Revis√£o"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(C,{onClick:te,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Novo Card"]}),e.jsxs("label",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2",children:[e.jsx("input",{type:"file",accept:"application/json",onChange:re,className:"hidden",disabled:Y}),e.jsx(ne,{className:"w-4 h-4 mr-2"}),Y?"Importando...":"Importar Cards JSON"]}),e.jsxs("label",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 cursor-pointer",children:[e.jsx("input",{type:"file",accept:".apkg",onChange:ke,className:"hidden",disabled:Z,ref:me}),e.jsx(ne,{className:"w-4 h-4 mr-2"}),Z?"Importando...":"Importar Anki (.apkg)"]})]})]}),ae.length>0?e.jsx("div",{className:"space-y-3",children:ae.map((t,i)=>e.jsx(tt,{card:t,index:i,onEdit:()=>ue(t.id),onDelete:()=>fe(t.id),onSuspend:()=>ge(t.id,!t.is_suspended),onDuplicate:()=>xe(t)},t.id))}):e.jsx(Fe,{icon:x?ie:V,title:x?"Nenhum card encontrado":"Nenhum card neste deck",description:x?"Tente buscar com outros termos":"Adicione seu primeiro card para come√ßar a estudar!",actionLabel:"Adicionar Card",actionIcon:V,action:te}),e.jsx(Oe,{isOpen:M,onClose:()=>W(!1),onConfirm:he,title:"Excluir card?",message:"Esta a√ß√£o n√£o pode ser desfeita. O card ser√° permanentemente removido do deck.",confirmText:"Sim, excluir",cancelText:"Cancelar",variant:"danger"}),e.jsx("input",{type:"file",accept:"application/json",ref:de,className:"hidden",onChange:re})]})})},q=({label:c,value:f,color:l})=>e.jsxs(H,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:c}),e.jsx("p",{className:"text-3xl font-bold",style:{color:l},children:f})]}),tt=({card:c,index:f,onEdit:l,onDelete:N,onSuspend:J,onDuplicate:z})=>{const h=c.card_stats?.[0],O=h?.card_status||"new",m=h?.easiness_factor||2.5,K={new:{label:"Novo",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"},learning:{label:"Aprendendo",color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300"},young:{label:"Jovem",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300"},mature:{label:"Maduro",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300"},relearning:{label:"Reaprendendo",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"}},x=()=>O==="new"||!h?.total_reviews?null:m>=2.5?{label:"F√°cil",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 border-green-200",icon:"‚ú®"}:m>=2?{label:"M√©dio",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300 border-yellow-200",icon:"üìö"}:{label:"Dif√≠cil",color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300 border-red-200",icon:"üî•"},L=K[O]||K.new,g=x();return e.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.02},children:e.jsx(H,{className:`p-4 hover:shadow-lg transition-all ${c.is_suspended?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-400",children:f+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white mb-1",children:c.front}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:c.back})]}),e.jsxs(Ee,{children:[e.jsx(_e,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(We,{className:"w-4 h-4"})})}),e.jsxs(Ie,{align:"end",children:[e.jsxs(G,{onClick:l,children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Editar"]}),e.jsxs(G,{onClick:z,children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Duplicar"]}),e.jsx(G,{onClick:J,children:c.is_suspended?e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Reativar"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Suspender"]})}),e.jsx(De,{}),e.jsxs(G,{onClick:N,className:"text-red-600 dark:text-red-400",children:[e.jsx(et,{className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(T,{className:L.color,children:L.label}),g&&e.jsxs(T,{variant:"outline",className:g.color,children:[g.icon," ",g.label]}),c.is_suspended&&e.jsx(T,{variant:"outline",className:"text-slate-500",children:"Suspenso"}),c.tags?.map(($,M)=>e.jsx(T,{variant:"outline",className:"text-xs",children:$},M)),h&&e.jsxs("span",{className:"text-xs text-slate-500",children:[h.total_reviews," revis√µes ‚Ä¢ ",h.retention_rate?.toFixed(0),"% reten√ß√£o"]})]})]})]})})})};export{er as default};
