import{c as T,h as q,u as O,r as s,l as P,j as e,q as V}from"./main-CDwcRVbo.js";import{B as l}from"./button-BuH7Xbht.js";import{C as k}from"./card-BeDiIhdC.js";import{B as $}from"./badge-C6gXtPyv.js";import{D as R,g as w}from"./DashboardHeader-MvNqeZZV.js";import{S as g}from"./StatsCard-DSbLqF9t.js";import{E as G}from"./EmptyState-CJmiWSXk.js";import{S as Q}from"./SearchInput-D2EbP7P-.js";import{F as _}from"./FilterBar-DyWeWrcH.js";import"./input-BByzzpRS.js";import"./label-CwZn5L96.js";import{C as H}from"./classService-tSZnsifO.js";import{A as K}from"./arrow-left-M6tAHSp6.js";import{F as n}from"./file-Cpkbbm-n.js";import{D as N}from"./download-Dd-HeChr.js";import{U as x}from"./upload-hHx_Ei_T.js";import{m as S}from"./proxy-BQZ2TmvR.js";import{E as J}from"./eye-DwPEs21A.js";import{T as W}from"./trash-2-DWzFVjOL.js";import{L as X}from"./link-C1XcG9Kf.js";import{F as Y}from"./file-text-DqPfoEgV.js";import"./chevron-right-C7mHeVR8.js";import"./search-6oujL9dj.js";import"./x-Dx_XJWp3.js";import"./dropdown-menu-DUHtGofS.js";import"./index-Dh6vDsM6.js";import"./index-CPGjc502.js";import"./index-CqoVHjef.js";import"./index-CcEjAaVA.js";import"./Combination-CkmxMhvN.js";import"./SidebarPremium-DtY86ggr.js";import"./house-BzSw2wbQ.js";import"./users-CgJEdG6v.js";import"./book-open-B_wcLpnO.js";import"./graduation-cap-D_9lOntz.js";import"./calendar-BqfKTByC.js";import"./chart-column-CiDVUyDs.js";import"./message-circle-B9SdJZHY.js";import"./settings-DAYbyNc3.js";import"./brain-B546Q6XX.js";import"./index-CrH3dQlI.js";import"./index-Bnl_O2Nv.js";import"./check-CJ5iHYK_.js";import"./funnel-DW0F4wdC.js";import"./chevron-down-C12er63L.js";const Z=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],ee=T("film",Z),_e=()=>{const{classId:d}=q(),M=O(),[C,u]=s.useState(!0),[F,B]=s.useState(null),[h,z]=s.useState([]),[f,D]=s.useState([]),[o,b]=s.useState(""),[i,j]=s.useState({category:null}),[c,L]=s.useState({total:0,downloads:0,storageUsed:0});s.useEffect(()=>{A()},[d]),s.useEffect(()=>{E()},[h,o,i]);const A=async()=>{try{u(!0);const t=await H.getClassById(d);B(t);const a=[{id:"1",title:"Apostila - CapÃ­tulo 1",description:"Material de apoio para primeira unidade",category:"pdf",fileSize:25e5,downloads:45,uploadedAt:new Date().toISOString(),fileUrl:"#"},{id:"2",title:"Slides - Aula 01",description:"Slides da primeira aula",category:"presentation",fileSize:5e6,downloads:38,uploadedAt:new Date().toISOString(),fileUrl:"#"}];z(a);const r=a.reduce((m,p)=>m+p.fileSize,0),U=a.reduce((m,p)=>m+p.downloads,0);L({total:a.length,downloads:U,storageUsed:r})}catch(t){P.error("Erro:",t)}finally{u(!1)}},E=()=>{let t=[...h];if(o){const a=o.toLowerCase();t=t.filter(r=>r.title?.toLowerCase().includes(a)||r.description?.toLowerCase().includes(a))}i.category&&(t=t.filter(a=>a.category===i.category)),D(t)},I=t=>({pdf:Y,video:ee,presentation:n,link:X,other:n})[t]||n,y=t=>{const a={pdf:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",video:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",presentation:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",link:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",other:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300"};return a[t]||a.other},v=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(2)+" KB":(t/(1024*1024)).toFixed(2)+" MB";return C?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(V,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[e.jsxs(l,{variant:"ghost",onClick:()=>M(`/dashboard/classes/${d}`),className:"mb-4",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Voltar"]}),e.jsx(R,{title:`Materiais - ${F?.name||"Turma"}`,subtitle:"Gerencie os materiais de apoio",role:"teacher"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(g,{title:"Total de Materiais",value:c.total,icon:n,gradient:w.stats.activities,delay:0}),e.jsx(g,{title:"Downloads Totais",value:c.downloads,icon:N,gradient:w.success,delay:.1}),e.jsx(g,{title:"Armazenamento",value:`${v(c.storageUsed)} / 500MB`,icon:x,gradient:"from-blue-500 to-cyan-500",format:"text",delay:.2})]}),e.jsx(k,{className:"p-6 bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-800 mb-8",children:e.jsxs("p",{className:"text-amber-800 dark:text-amber-200 text-sm",children:["âš ï¸ ",e.jsx("strong",{children:"VersÃ£o FREE:"})," Limite de 500MB e arquivos de atÃ© 50MB.",e.jsx("br",{}),"ðŸ’Ž ",e.jsx("strong",{children:"PRO:"})," 10GB de armazenamento e arquivos de atÃ© 500MB."]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Q,{placeholder:"Buscar material...",value:o,onChange:b})}),e.jsx(_,{filters:[{key:"category",label:"Categoria",options:[{value:"pdf",label:"PDFs"},{value:"video",label:"VÃ­deos"},{value:"presentation",label:"ApresentaÃ§Ãµes"},{value:"link",label:"Links"},{value:"other",label:"Outros"}]}],activeFilters:i,onFilterChange:(t,a)=>j(r=>({...r,[t]:a})),onClearAll:()=>{j({category:null}),b("")}}),e.jsxs(l,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Material"]})]}),f.length>0?e.jsx(S.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((t,a)=>{const r=I(t.category);return e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},children:e.jsxs(k,{className:"p-6 hover:shadow-lg transition-shadow bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${y(t.category)}`,children:e.jsx(r,{className:"w-6 h-6"})}),e.jsx($,{className:y(t.category),children:t.category.toUpperCase()})]}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-2",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-500 mb-4",children:[e.jsx("span",{children:v(t.fileSize)}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[t.downloads," downloads"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Visualizar"]}),e.jsx(l,{variant:"outline",size:"sm",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(l,{variant:"outline",size:"sm",className:"text-red-600",children:e.jsx(W,{className:"w-4 h-4"})})]})]})},t.id)})}):e.jsx(G,{icon:n,title:o||i.category?"Nenhum material encontrado":"Nenhum material ainda",description:o||i.category?"Ajuste os filtros.":"FaÃ§a upload do primeiro material.",actionLabel:"Upload Material",actionIcon:x,action:()=>{}})]})};export{_e as default};
