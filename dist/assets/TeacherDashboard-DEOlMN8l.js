import{r as s,j as e,i as z,L as r}from"./main-vCmkj0Ph.js";import{C as o,B as i,m as d}from"./card-QZFCDucj.js";import{B as L}from"./badge-DYNIDruK.js";import{S as V}from"./StatsCard-DsNwPDbG.js";import{D as $}from"./dropdown-menu-CRv4RkRy.js";import{E as m}from"./EmptyState-BSzsQ55S.js";import"./label-DA0WPkHe.js";import{C as w}from"./classService-MrelqPQP.js";import{B as h}from"./book-open-uCoOEy7B.js";import{U as q}from"./users-D-Skvp4U.js";import{F as x}from"./file-text-BrP95lln.js";import{C as N}from"./clock-BTS0eNcV.js";import{C as g}from"./chevron-right-DOiZ8o1C.js";import{P as p}from"./plus-eaiJZyVH.js";import{C as G}from"./calendar-zMPY0UDh.js";import{C as F}from"./circle-check-BzSOXqD0.js";import{C as U}from"./chart-column-CK2nVML9.js";import"./index-DF9gUw3L.js";const ne=()=>{const[C,b]=s.useState(!0),[l,k]=s.useState({totalClasses:0,totalStudents:0,totalActivities:0,pendingGrading:0}),[u,y]=s.useState([]),[j,S]=s.useState([]),[f,A]=s.useState([]);s.useEffect(()=>{R()},[]);const R=async()=>{try{b(!0);const t=(await w.getClasses())?.data||[];let c=[];try{c=(await w.getRecentActivities?.(5))?.data||[]}catch(n){console.log("getRecentActivities nÃ£o disponÃ­vel:",n.message)}let v=[];const B=t.reduce((n,_)=>n+(_.student_count||0),0),E=c.length,P=v.length;k({totalClasses:t.length,totalStudents:B,totalActivities:E,pendingGrading:P}),y(t.slice(0,5)),S(c),A(v)}catch(a){console.error("Erro ao carregar dashboard:",a)}finally{b(!1)}},T=[{title:"Total de Turmas",value:l.totalClasses,icon:h,gradient:"from-blue-500 to-indigo-500",bgColor:"bg-blue-50 dark:bg-blue-950/30"},{title:"Total de Alunos",value:l.totalStudents,icon:q,gradient:"from-purple-500 to-pink-500",bgColor:"bg-purple-50 dark:bg-purple-950/30"},{title:"Total de Atividades",value:l.totalActivities,icon:x,gradient:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50 dark:bg-emerald-950/30"},{title:"CorreÃ§Ãµes Pendentes",value:l.pendingGrading,icon:N,gradient:"from-amber-500 to-orange-500",bgColor:"bg-amber-50 dark:bg-amber-950/30"}],D=[{label:"Nova Turma",icon:p,href:"/dashboard/classes/new",gradient:"from-blue-600 to-indigo-600"},{label:"Nova Atividade",icon:p,href:"/dashboard/activities/new",gradient:"from-purple-600 to-pink-600"},{label:"Ver Analytics",icon:U,href:"/dashboard/analytics",gradient:"from-emerald-600 to-teal-600"}];return C?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(z,{size:"lg",text:"Carregando dashboard..."})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[e.jsx($,{title:"Dashboard do Professor",subtitle:"Bem-vindo de volta! Aqui estÃ¡ um resumo das suas turmas e atividades.",role:"teacher"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:T.map((a,t)=>e.jsx(V,{title:a.title,value:a.value,icon:a.icon,gradient:a.gradient,bgColor:a.bgColor,delay:t*.1},a.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(o,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5"}),"Turmas Recentes"]}),e.jsx(r,{to:"/dashboard/classes",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(g,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:u.length>0?u.map((a,t)=>e.jsx(d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},children:e.jsx(r,{to:`/dashboard/classes/${a.id}`,children:e.jsx(o,{className:"p-4 hover:shadow-md transition-all border-2 hover:border-blue-200 dark:hover:border-blue-800 bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${a.color||"from-blue-500 to-indigo-500"} flex items-center justify-center text-white font-bold`,children:a.name?.[0]||"T"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:a.name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.subject||"Sem matÃ©ria"," â€¢ ",a.student_count||0," alunos"]})]})]}),e.jsx(i,{size:"sm",variant:"ghost",className:"whitespace-nowrap",children:"Ver Turma"})]})})})},a.id)):e.jsx(m,{icon:h,title:"Nenhuma turma encontrada",description:"Crie sua primeira turma para comeÃ§ar a gerenciar suas aulas e atividades.",actionLabel:"Criar Primeira Turma",actionIcon:p,action:()=>window.location.href="/dashboard/classes/new"})})]}),e.jsxs(o,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"Atividades Recentes"]}),e.jsx(r,{to:"/dashboard/activities",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(g,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:j.length>0?j.map((a,t)=>e.jsx(d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-purple-300 dark:hover:border-purple-700 transition-all bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:a.class_name}),e.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),new Date(a.due_date).toLocaleDateString("pt-BR")]})})]}),e.jsx(L,{variant:a.status==="active"?"default":"secondary",className:"whitespace-nowrap",children:a.status==="active"?"Ativa":"Encerrada"})]})},a.id)):e.jsx(m,{icon:x,title:"Nenhuma atividade encontrada",description:"Suas atividades recentes aparecerÃ£o aqui."})})]})]}),e.jsxs(o,{className:"p-6 mb-8 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"SubmissÃµes Pendentes de CorreÃ§Ã£o"]}),e.jsx(r,{to:"/dashboard/grading",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(g,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:f.length>0?f.map((a,t)=>e.jsxs(d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-amber-300 dark:hover:border-amber-700 transition-all bg-white dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-white font-bold",children:a.student_name?.[0]||"A"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:a.student_name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.activity_title}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Enviado em ",new Date(a.submitted_at).toLocaleDateString("pt-BR")]})]})]}),e.jsx(r,{to:`/dashboard/grading/${a.id}`,children:e.jsx(i,{size:"sm",className:"whitespace-nowrap bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white",children:"Corrigir Agora"})})]},a.id)):e.jsx(m,{icon:F,title:"Nenhuma correÃ§Ã£o pendente!",description:"ParabÃ©ns! VocÃª estÃ¡ em dia com as correÃ§Ãµes. ðŸŽ‰"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.map((a,t)=>e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:e.jsx(r,{to:a.href,children:e.jsxs(i,{size:"lg",className:`w-full whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r ${a.gradient} hover:opacity-90 text-white h-16 text-lg`,children:[e.jsx(a.icon,{className:"w-6 h-6"}),e.jsx("span",{children:a.label})]})})},a.label))})]})};export{ne as default};
