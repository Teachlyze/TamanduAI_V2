import{c as d,k as _,u as $,r as s,j as e,i as T}from"./main-vCmkj0Ph.js";import{B as l,C as w,m as N}from"./card-QZFCDucj.js";import{B as V}from"./badge-DYNIDruK.js";import{D as O,g as S}from"./dropdown-menu-CRv4RkRy.js";import{S as g}from"./StatsCard-DsNwPDbG.js";import{E as P}from"./EmptyState-BSzsQ55S.js";import{S as H}from"./SearchInput-B9MbIqTz.js";import{F as R}from"./FilterBar-CHVM_iqe.js";import"./label-DA0WPkHe.js";import{C as G}from"./classService-MrelqPQP.js";import{A as Q}from"./arrow-left-DABf050f.js";import{D as M}from"./download-CSi3xSs1.js";import{E as K}from"./eye-wiWixlIo.js";import{T as Z}from"./trash-2-BNSP5uQH.js";import{F as J}from"./file-text-BrP95lln.js";import"./index-DF9gUw3L.js";import"./chevron-right-DOiZ8o1C.js";import"./x-WugK2QXI.js";import"./chevron-down-DJboQT18.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],n=d("file",W);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Y=d("film",X);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ae=d("link",ee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],x=d("upload",te),ve=()=>{const{classId:c}=_(),C=$(),[F,u]=s.useState(!0),[B,z]=s.useState(null),[f,D]=s.useState([]),[y,A]=s.useState([]),[o,b]=s.useState(""),[i,j]=s.useState({category:null}),[m,E]=s.useState({total:0,downloads:0,storageUsed:0});s.useEffect(()=>{L()},[c]),s.useEffect(()=>{I()},[f,o,i]);const L=async()=>{try{u(!0);const a=await G.getClassById(c);z(a);const t=[{id:"1",title:"Apostila - CapÃ­tulo 1",description:"Material de apoio para primeira unidade",category:"pdf",fileSize:25e5,downloads:45,uploadedAt:new Date().toISOString(),fileUrl:"#"},{id:"2",title:"Slides - Aula 01",description:"Slides da primeira aula",category:"presentation",fileSize:5e6,downloads:38,uploadedAt:new Date().toISOString(),fileUrl:"#"}];D(t);const r=t.reduce((p,h)=>p+h.fileSize,0),q=t.reduce((p,h)=>p+h.downloads,0);E({total:t.length,downloads:q,storageUsed:r})}catch(a){console.error("Erro:",a)}finally{u(!1)}},I=()=>{let a=[...f];if(o){const t=o.toLowerCase();a=a.filter(r=>r.title?.toLowerCase().includes(t)||r.description?.toLowerCase().includes(t))}i.category&&(a=a.filter(t=>t.category===i.category)),A(a)},U=a=>({pdf:J,video:Y,presentation:n,link:ae,other:n})[a]||n,k=a=>{const t={pdf:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",video:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",presentation:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",link:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",other:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300"};return t[a]||t.other},v=a=>a<1024?a+" B":a<1024*1024?(a/1024).toFixed(2)+" KB":(a/(1024*1024)).toFixed(2)+" MB";return F?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(T,{size:"lg"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[e.jsxs(l,{variant:"ghost",onClick:()=>C(`/teacher/classes/${c}`),className:"mb-4",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Voltar"]}),e.jsx(O,{title:`Materiais - ${B?.name||"Turma"}`,subtitle:"Gerencie os materiais de apoio",role:"teacher"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(g,{title:"Total de Materiais",value:m.total,icon:n,gradient:S.stats.activities,delay:0}),e.jsx(g,{title:"Downloads Totais",value:m.downloads,icon:M,gradient:S.success,delay:.1}),e.jsx(g,{title:"Armazenamento",value:`${v(m.storageUsed)} / 500MB`,icon:x,gradient:"from-purple-500 to-pink-500",format:"text",delay:.2})]}),e.jsx(w,{className:"p-6 bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-800 mb-8",children:e.jsxs("p",{className:"text-amber-800 dark:text-amber-200 text-sm",children:["âš ï¸ ",e.jsx("strong",{children:"VersÃ£o FREE:"})," Limite de 500MB e arquivos de atÃ© 50MB.",e.jsx("br",{}),"ðŸ’Ž ",e.jsx("strong",{children:"PRO:"})," 10GB de armazenamento e arquivos de atÃ© 500MB."]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsx("div",{className:"flex-1",children:e.jsx(H,{placeholder:"Buscar material...",value:o,onChange:b})}),e.jsx(R,{filters:[{key:"category",label:"Categoria",options:[{value:"pdf",label:"PDFs"},{value:"video",label:"VÃ­deos"},{value:"presentation",label:"ApresentaÃ§Ãµes"},{value:"link",label:"Links"},{value:"other",label:"Outros"}]}],activeFilters:i,onFilterChange:(a,t)=>j(r=>({...r,[a]:t})),onClearAll:()=>{j({category:null}),b("")}}),e.jsxs(l,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Material"]})]}),y.length>0?e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((a,t)=>{const r=U(a.category);return e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},children:e.jsxs(w,{className:"p-6 hover:shadow-lg transition-shadow bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${k(a.category)}`,children:e.jsx(r,{className:"w-6 h-6"})}),e.jsx(V,{className:k(a.category),children:a.category.toUpperCase()})]}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-2",children:a.title}),a.description&&e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-500 mb-4",children:[e.jsx("span",{children:v(a.fileSize)}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[a.downloads," downloads"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Visualizar"]}),e.jsx(l,{variant:"outline",size:"sm",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx(l,{variant:"outline",size:"sm",className:"text-red-600",children:e.jsx(Z,{className:"w-4 h-4"})})]})]})},a.id)})}):e.jsx(P,{icon:n,title:o||i.category?"Nenhum material encontrado":"Nenhum material ainda",description:o||i.category?"Ajuste os filtros.":"FaÃ§a upload do primeiro material.",actionLabel:"Upload Material",actionIcon:x,action:()=>{}})]})};export{ve as default};
