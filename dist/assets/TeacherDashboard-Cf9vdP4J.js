import{r as s,j as e,k as z,L as r}from"./main-Cr4CeQqJ.js";import{B as i,m as o}from"./button-VDnOzUX8.js";import{C as d}from"./card-CvoT5xff.js";import{B as L}from"./badge-BpFoLbJI.js";import{S as V}from"./StatsCard-CEAHNeHe.js";import{D as $}from"./dropdown-menu-W1Sf6eM2.js";import{E as m}from"./EmptyState-B0IxJOql.js";import"./input-DJYxsXYr.js";import"./label-Cj0ah_CE.js";import{C as w}from"./classService-Dl5Pj-lT.js";import{B as h}from"./book-open-Bm_7-XsZ.js";import{U as q}from"./users-BI0WtoMm.js";import{F as x}from"./file-text-JP6gqb3e.js";import{C as N}from"./clock-CJn97wdf.js";import{C as g}from"./chevron-right-D9YOEkTh.js";import{P as p}from"./plus-Ay-wLg4a.js";import{C as G}from"./calendar-BfYonUFO.js";import{C as F}from"./circle-check-DWdYCGZi.js";import{C as U}from"./chart-column-DHMA61nx.js";import"./index-Zvo5G3yJ.js";import"./check-BNbB6Qjw.js";const ce=()=>{const[k,b]=s.useState(!0),[l,C]=s.useState({totalClasses:0,totalStudents:0,totalActivities:0,pendingGrading:0}),[u,y]=s.useState([]),[f,S]=s.useState([]),[j,A]=s.useState([]);s.useEffect(()=>{R()},[]);const R=async()=>{try{b(!0);const a=(await w.getClasses())?.data||[];let c=[];try{c=(await w.getRecentActivities?.(5))?.data||[]}catch(n){console.log("getRecentActivities nÃ£o disponÃ­vel:",n.message)}let v=[];const B=a.reduce((n,_)=>n+(_.student_count||0),0),E=c.length,P=v.length;C({totalClasses:a.length,totalStudents:B,totalActivities:E,pendingGrading:P}),y(a.slice(0,5)),S(c),A(v)}catch(t){console.error("Erro ao carregar dashboard:",t)}finally{b(!1)}},T=[{title:"Total de Turmas",value:l.totalClasses,icon:h,gradient:"from-blue-500 to-indigo-500",bgColor:"bg-blue-50 dark:bg-blue-950/30"},{title:"Total de Alunos",value:l.totalStudents,icon:q,gradient:"from-purple-500 to-pink-500",bgColor:"bg-purple-50 dark:bg-purple-950/30"},{title:"Total de Atividades",value:l.totalActivities,icon:x,gradient:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50 dark:bg-emerald-950/30"},{title:"CorreÃ§Ãµes Pendentes",value:l.pendingGrading,icon:N,gradient:"from-amber-500 to-orange-500",bgColor:"bg-amber-50 dark:bg-amber-950/30"}],D=[{label:"Nova Turma",icon:p,href:"/dashboard/classes/new",gradient:"from-blue-600 to-indigo-600"},{label:"Nova Atividade",icon:p,href:"/dashboard/activities/new",gradient:"from-purple-600 to-pink-600"},{label:"Ver Analytics",icon:U,href:"/dashboard/analytics",gradient:"from-emerald-600 to-teal-600"}];return k?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(z,{size:"lg",text:"Carregando dashboard..."})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 p-6",children:[e.jsx($,{title:"Dashboard do Professor",subtitle:"Bem-vindo de volta! Aqui estÃ¡ um resumo das suas turmas e atividades.",role:"teacher"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:T.map((t,a)=>e.jsx(V,{title:t.title,value:t.value,icon:t.icon,gradient:t.gradient,bgColor:t.bgColor,delay:a*.1},t.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(d,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5"}),"Turmas Recentes"]}),e.jsx(r,{to:"/dashboard/classes",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(g,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:u.length>0?u.map((t,a)=>e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},children:e.jsx(r,{to:`/dashboard/classes/${t.id}`,children:e.jsx(d,{className:"p-4 hover:shadow-md transition-all border-2 hover:border-blue-200 dark:hover:border-blue-800 bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${t.color||"from-blue-500 to-indigo-500"} flex items-center justify-center text-white font-bold`,children:t.name?.[0]||"T"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.subject||"Sem matÃ©ria"," â€¢ ",t.student_count||0," alunos"]})]})]}),e.jsx(i,{size:"sm",variant:"ghost",className:"whitespace-nowrap",children:"Ver Turma"})]})})})},t.id)):e.jsx(m,{icon:h,title:"Nenhuma turma encontrada",description:"Crie sua primeira turma para comeÃ§ar a gerenciar suas aulas e atividades.",actionLabel:"Criar Primeira Turma",actionIcon:p,action:()=>window.location.href="/dashboard/classes/new"})})]}),e.jsxs(d,{className:"p-6 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"Atividades Recentes"]}),e.jsx(r,{to:"/dashboard/activities",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(g,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:f.length>0?f.map((t,a)=>e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-purple-300 dark:hover:border-purple-700 transition-all bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:t.class_name}),e.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),new Date(t.due_date).toLocaleDateString("pt-BR")]})})]}),e.jsx(L,{variant:t.status==="active"?"default":"secondary",className:"whitespace-nowrap",children:t.status==="active"?"Ativa":"Encerrada"})]})},t.id)):e.jsx(m,{icon:x,title:"Nenhuma atividade encontrada",description:"Suas atividades recentes aparecerÃ£o aqui."})})]})]}),e.jsxs(d,{className:"p-6 mb-8 bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"SubmissÃµes Pendentes de CorreÃ§Ã£o"]}),e.jsx(r,{to:"/dashboard/grading",children:e.jsxs(i,{variant:"ghost",size:"sm",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx("span",{children:"Ver Todas"}),e.jsx(g,{className:"w-4 h-4"})]})})]}),e.jsx("div",{className:"space-y-3",children:j.length>0?j.map((t,a)=>e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-amber-300 dark:hover:border-amber-700 transition-all bg-white dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-white font-bold",children:t.student_name?.[0]||"A"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.student_name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.activity_title}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Enviado em ",new Date(t.submitted_at).toLocaleDateString("pt-BR")]})]})]}),e.jsx(r,{to:`/dashboard/grading/${t.id}`,children:e.jsx(i,{size:"sm",className:"whitespace-nowrap bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white",children:"Corrigir Agora"})})]},t.id)):e.jsx(m,{icon:F,title:"Nenhuma correÃ§Ã£o pendente!",description:"ParabÃ©ns! VocÃª estÃ¡ em dia com as correÃ§Ãµes. ðŸŽ‰"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.map((t,a)=>e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:e.jsx(r,{to:t.href,children:e.jsxs(i,{size:"lg",className:`w-full whitespace-nowrap inline-flex items-center justify-center gap-2 bg-gradient-to-r ${t.gradient} hover:opacity-90 text-white h-16 text-lg`,children:[e.jsx(t.icon,{className:"w-6 h-6"}),e.jsx("span",{children:t.label})]})})},t.label))})]})};export{ce as default};
